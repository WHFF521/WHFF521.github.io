<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>栈与队列</title>
      <link href="/2024/10/30/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/"/>
      <url>/2024/10/30/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h2 id="1-栈的基本概念与操作"><a href="#1-栈的基本概念与操作" class="headerlink" title="1. 栈的基本概念与操作"></a>1. 栈的基本概念与操作</h2><p>栈（Stack）是一种<strong>后进先出</strong>（LIFO, Last In First Out）的数据结构，最后插入的元素最先被删除。</p><h3 id="栈的基本操作"><a href="#栈的基本操作" class="headerlink" title="栈的基本操作"></a>栈的基本操作</h3><ol><li><strong>初始化</strong>：创建一个空栈。</li><li><strong>入栈（Push）</strong>：将一个元素压入栈顶。</li><li><strong>出栈（Pop）</strong>：从栈顶删除一个元素。</li><li><strong>取栈顶元素（Top）</strong>：获取栈顶元素的值，但不删除它。</li><li><strong>判断是否为空</strong>：检查栈是否为空。</li></ol><h2 id="2-队列的基本概念与操作"><a href="#2-队列的基本概念与操作" class="headerlink" title="2. 队列的基本概念与操作"></a>2. 队列的基本概念与操作</h2><p>队列（Queue）是一种<strong>先进先出</strong>（FIFO, First In First Out）的数据结构，最先插入的元素最先被删除。</p><h3 id="队列的基本操作"><a href="#队列的基本操作" class="headerlink" title="队列的基本操作"></a>队列的基本操作</h3><ol><li><strong>初始化</strong>：创建一个空队列。</li><li><strong>入队（Enqueue）</strong>：将一个元素加入到队尾。</li><li><strong>出队（Dequeue）</strong>：从队头删除一个元素。</li><li><strong>取队头元素（Front）</strong>：获取队头元素的值，但不删除它。</li><li><strong>判断是否为空</strong>：检查队列是否为空。</li></ol><h2 id="3-栈的顺序存储结构"><a href="#3-栈的顺序存储结构" class="headerlink" title="3. 栈的顺序存储结构"></a>3. 栈的顺序存储结构</h2><p>栈的顺序存储结构通常使用数组实现，栈顶指针 <code>top</code> 用于指向栈顶元素。</p><h3 id="栈的顺序存储结构的-C-实现"><a href="#栈的顺序存储结构的-C-实现" class="headerlink" title="栈的顺序存储结构的 C++ 实现"></a>栈的顺序存储结构的 C++ 实现</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data[MAX_SIZE];</span><br><span class="line">    <span class="type">int</span> top;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Stack</span>() : <span class="built_in">top</span>(<span class="number">-1</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">push</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top &gt;= MAX_SIZE - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 栈满</span></span><br><span class="line">        data[++top] = value;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 栈空</span></span><br><span class="line">        top--;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getTop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// 栈空</span></span><br><span class="line">        <span class="keyword">return</span> data[top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top == <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= top; ++i) std::cout &lt;&lt; data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="4-队列的顺序存储结构"><a href="#4-队列的顺序存储结构" class="headerlink" title="4. 队列的顺序存储结构"></a>4. 队列的顺序存储结构</h2><p>队列的顺序存储结构可以用循环数组实现，使用 <code>front</code> 和 <code>rear</code> 两个指针分别指向队头和队尾。</p><h3 id="队列的顺序存储结构的-C-实现"><a href="#队列的顺序存储结构的-C-实现" class="headerlink" title="队列的顺序存储结构的 C++ 实现"></a>队列的顺序存储结构的 C++ 实现</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data[MAX_SIZE];</span><br><span class="line">    <span class="type">int</span> front, rear;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Queue</span>() : <span class="built_in">front</span>(<span class="number">0</span>), <span class="built_in">rear</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">enqueue</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((rear + <span class="number">1</span>) % MAX_SIZE == front) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 队列满</span></span><br><span class="line">        data[rear] = value;</span><br><span class="line">        rear = (rear + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">dequeue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (front == rear) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 队列空</span></span><br><span class="line">        front = (front + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (front == rear) <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// 队列空</span></span><br><span class="line">        <span class="keyword">return</span> data[front];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> front == rear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = front;</span><br><span class="line">        <span class="keyword">while</span> (i != rear) &#123;</span><br><span class="line">            std::cout &lt;&lt; data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            i = (i + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5-栈的链式存储结构"><a href="#5-栈的链式存储结构" class="headerlink" title="5. 栈的链式存储结构"></a>5. 栈的链式存储结构</h2><p>栈的链式存储结构使用链表实现，每次入栈和出栈都在链表的头部操作。</p><h3 id="栈的链式存储结构的-C-实现"><a href="#栈的链式存储结构的-C-实现" class="headerlink" title="栈的链式存储结构的 C++ 实现"></a>栈的链式存储结构的 C++ 实现</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node* next;</span><br><span class="line">    <span class="built_in">Node</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkedStack</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node* top;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LinkedStack</span>() : <span class="built_in">top</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node* newNode = <span class="keyword">new</span> <span class="built_in">Node</span>(value);</span><br><span class="line">        newNode-&gt;next = top;</span><br><span class="line">        top = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!top) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 栈空</span></span><br><span class="line">        Node* temp = top;</span><br><span class="line">        top = top-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> temp;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getTop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top ? top-&gt;data : <span class="number">-1</span>;  <span class="comment">// 栈空返回 -1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !top;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node* curr = top;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="6-队列的链式存储结构"><a href="#6-队列的链式存储结构" class="headerlink" title="6. 队列的链式存储结构"></a>6. 队列的链式存储结构</h2><p>队列的链式存储结构使用链表实现，链表的头部作为队头，尾部作为队尾。</p><h3 id="队列的链式存储结构的-C-实现"><a href="#队列的链式存储结构的-C-实现" class="headerlink" title="队列的链式存储结构的 C++ 实现"></a>队列的链式存储结构的 C++ 实现</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">QNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    QNode* next;</span><br><span class="line">    <span class="built_in">QNode</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkedQueue</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QNode *front, *rear;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LinkedQueue</span>() : <span class="built_in">front</span>(<span class="literal">nullptr</span>), <span class="built_in">rear</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">enqueue</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        QNode* newNode = <span class="keyword">new</span> <span class="built_in">QNode</span>(value);</span><br><span class="line">        <span class="keyword">if</span> (!rear) &#123;</span><br><span class="line">            front = rear = newNode;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            rear-&gt;next = newNode;</span><br><span class="line">            rear = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">dequeue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!front) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 队列空</span></span><br><span class="line">        QNode* temp = front;</span><br><span class="line">        front = front-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (!front) rear = <span class="literal">nullptr</span>;  <span class="comment">// 队列变空</span></span><br><span class="line">        <span class="keyword">delete</span> temp;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> front ? front-&gt;data : <span class="number">-1</span>;  <span class="comment">// 队列空返回 -1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !front;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QNode* curr = front;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><strong>栈</strong>：遵循 LIFO 原则，典型操作包括入栈和出栈。</li><li><strong>队列</strong>：遵循 FIFO 原则，典型操作包括入队和出队。</li><li><strong>顺序存储</strong>：使用数组实现，适合容量固定的情况，操作简单。</li><li><strong>链式存储</strong>：使用链表实现，适合动态长度的情况，节省空间。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 栈与队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线性表</title>
      <link href="/2024/10/30/%E7%BA%BF%E6%80%A7%E8%A1%A8/"/>
      <url>/2024/10/30/%E7%BA%BF%E6%80%A7%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h1><p>线性表是一种数据结构，表示由<strong>同一类型的元素按顺序排列</strong>的有限集合。线性表中的元素有顺序关系，可以通过顺序号访问。它是最常用的结构之一，常用于实现数据的顺序存储和查找操作。</p><h2 id="线性表的定义"><a href="#线性表的定义" class="headerlink" title="线性表的定义"></a>线性表的定义</h2><p>一个线性表 $( L )$ 可以定义为一个具有相同类型的元素集合，其中第一个元素为 $( a_1 )$，第二个元素为 $( a_2 )$，依次排列，直到第 $( n )$ 个元素 $( a_n )$。线性表的长度是元素的个数，当长度为 0 时，称其为空表。</p><p>在数学上可以表示为：<br>$[ L &#x3D; { a_1, a_2, \dots, a_n } ]$</p><h2 id="线性表的基本操作"><a href="#线性表的基本操作" class="headerlink" title="线性表的基本操作"></a>线性表的基本操作</h2><p>线性表的基本操作主要包括以下几个：</p><ol><li><p><strong>初始化</strong>（Initialization）</p><ul><li>创建一个空的线性表。</li></ul></li><li><p><strong>插入</strong>（Insert）</p><ul><li>将一个新元素插入到线性表的指定位置。插入时，需要将插入位置后的所有元素向后移动。</li></ul></li><li><p><strong>删除</strong>（Delete）</p><ul><li>删除线性表中的指定位置的元素。删除时，需要将删除位置后的所有元素向前移动。</li></ul></li><li><p><strong>查找</strong>（Find&#x2F;Search）</p><ul><li>根据元素的值查找其在表中的位置，或根据位置查找对应的元素值。</li></ul></li><li><p><strong>更新</strong>（Update）</p><ul><li>修改线性表中指定位置的元素值。</li></ul></li><li><p><strong>遍历</strong>（Traverse）</p><ul><li>顺序访问线性表中的每一个元素，通常用于打印或处理每个元素。</li></ul></li><li><p><strong>获取长度</strong>（Length）</p><ul><li>获取线性表中元素的个数。</li></ul></li></ol><h2 id="线性表的实现方式"><a href="#线性表的实现方式" class="headerlink" title="线性表的实现方式"></a>线性表的实现方式</h2><p>线性表的实现通常有两种存储结构：</p><ul><li><strong>顺序存储结构</strong>：使用数组存储元素，适合顺序访问，但插入和删除操作的效率较低。</li><li><strong>链式存储结构</strong>：使用链表存储元素，适合频繁的插入和删除操作，常见的链表类型包括单链表、循环链表和双向链表。</li></ul><h3 id="1-顺序表的实现"><a href="#1-顺序表的实现" class="headerlink" title="1. 顺序表的实现"></a>1. 顺序表的实现</h3><p>顺序表使用数组实现，其特点是可以直接通过索引访问元素，效率高，但插入和删除需要移动元素。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SeqList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data[MAX_SIZE];</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SeqList</span>() : <span class="built_in">length</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt; length || length &gt;= MAX_SIZE) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = length; i &gt; pos; --i) data[i] = data[i - <span class="number">1</span>];</span><br><span class="line">        data[pos] = value;</span><br><span class="line">        length++;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt;= length) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = pos; i &lt; length - <span class="number">1</span>; ++i) data[i] = data[i + <span class="number">1</span>];</span><br><span class="line">        length--;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; ++i)</span><br><span class="line">            <span class="keyword">if</span> (data[i] == value) <span class="keyword">return</span> i;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; ++i) std::cout &lt;&lt; data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2-单链表的实现"><a href="#2-单链表的实现" class="headerlink" title="2. 单链表的实现"></a>2. 单链表的实现</h3><p>单链表由节点构成，适合频繁的插入和删除操作。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node* next;</span><br><span class="line">    <span class="built_in">Node</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SinglyLinkedList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node* head;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SinglyLinkedList</span>() : <span class="built_in">head</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node* newNode = <span class="keyword">new</span> <span class="built_in">Node</span>(value);</span><br><span class="line">        newNode-&gt;next = head;</span><br><span class="line">        head = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node *prev = <span class="literal">nullptr</span>, *curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr &amp;&amp; curr-&gt;data != value) &#123;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!curr) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (prev) prev-&gt;next = curr-&gt;next;</span><br><span class="line">        <span class="keyword">else</span> head = curr-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> curr;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Node* <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) <span class="keyword">return</span> curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="3-循环链表的实现"><a href="#3-循环链表的实现" class="headerlink" title="3. 循环链表的实现"></a>3. 循环链表的实现</h3><p>循环链表的最后一个节点指向第一个节点，形成一个循环。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    CNode* next;</span><br><span class="line">    <span class="built_in">CNode</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CircularLinkedList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    CNode* tail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CircularLinkedList</span>() : <span class="built_in">tail</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        CNode* newNode = <span class="keyword">new</span> <span class="built_in">CNode</span>(value);</span><br><span class="line">        <span class="keyword">if</span> (!tail) &#123;</span><br><span class="line">            tail = newNode;</span><br><span class="line">            tail-&gt;next = tail;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            newNode-&gt;next = tail-&gt;next;</span><br><span class="line">            tail-&gt;next = newNode;</span><br><span class="line">            tail = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!tail) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        CNode *curr = tail-&gt;next, *prev = tail;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) &#123;</span><br><span class="line">                <span class="keyword">if</span> (curr == tail) tail = (tail-&gt;next == tail) ? <span class="literal">nullptr</span> : prev;</span><br><span class="line">                prev-&gt;next = curr-&gt;next;</span><br><span class="line">                <span class="keyword">delete</span> curr;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (curr != tail-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">CNode* <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!tail) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        CNode* curr = tail-&gt;next;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) <span class="keyword">return</span> curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (curr != tail-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!tail) <span class="keyword">return</span>;</span><br><span class="line">        CNode* curr = tail-&gt;next;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (curr != tail-&gt;next);</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="4-双向链表的实现"><a href="#4-双向链表的实现" class="headerlink" title="4. 双向链表的实现"></a>4. 双向链表的实现</h3><p>双向链表每个节点有前驱和后继指针，方便双向遍历。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">DNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    DNode* prev;</span><br><span class="line">    DNode* next;</span><br><span class="line">    <span class="built_in">DNode</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">prev</span>(<span class="literal">nullptr</span>), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DoublyLinkedList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    DNode* head;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">DoublyLinkedList</span>() : <span class="built_in">head</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        DNode* newNode = <span class="keyword">new</span> <span class="built_in">DNode</span>(value);</span><br><span class="line">        newNode-&gt;next = head;</span><br><span class="line">        <span class="keyword">if</span> (head) head-&gt;prev = newNode;</span><br><span class="line">        head = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        DNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr &amp;&amp; curr-&gt;data != value) curr = curr-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (!curr) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (curr-&gt;prev) curr-&gt;prev-&gt;next = curr-&gt;next;</span><br><span class="line">        <span class="keyword">else</span> head = curr-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (curr-&gt;next) curr-&gt;next-&gt;prev = curr-&gt;prev;</span><br><span class="line">        <span class="keyword">delete</span> curr;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">DNode* <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        DNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) <span class="keyword">return</span> curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这些代码分别实现了顺序表、单链表、循环链表和双向链表的数据结构及其基本操作，适合考试和项目中的线性表应用。</p>]]></content>
      
      
      <categories>
          
          <category> 数据结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 线性表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCSP2024 赛后回忆</title>
      <link href="/2024/10/23/CCSP2024-%E8%B5%9B%E5%90%8E%E5%9B%9E%E5%BF%86/"/>
      <url>/2024/10/23/CCSP2024-%E8%B5%9B%E5%90%8E%E5%9B%9E%E5%BF%86/</url>
      
        <content type="html"><![CDATA[<h1 id="CCSP2024-赛后回忆"><a href="#CCSP2024-赛后回忆" class="headerlink" title="CCSP2024 赛后回忆"></a>CCSP2024 赛后回忆</h1><p>这次是在浙江金华的浙江师范大学，虽然说这里可能有一点点偏僻，但是店铺什么的基本都有，奶茶店，肯德基什么的甚至开在了校内。</p><p>这应该是我大学最后一次参加国家级的赛事了吧。</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h3 id="I-O-任务调度队列"><a href="#I-O-任务调度队列" class="headerlink" title="I&#x2F;O 任务调度队列"></a>I&#x2F;O 任务调度队列</h3><p>按来的时间排个序，奇数放第一个队列，偶数放第二个队列，保证每个任务等待的时间最小就可以了，签到题。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e3</span>+<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> t[mxlen];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;t[i];</span><br><span class="line">        &#125;        </span><br><span class="line">        <span class="built_in">sort</span>(t+<span class="number">1</span>,t+n+<span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> ans1=<span class="number">0</span>,ans2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(t[i]&gt;=ans1)&#123;</span><br><span class="line">                    ans1 = t[i]+<span class="number">10</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    ans1 += <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(t[i]&gt;=ans2)&#123;</span><br><span class="line">                    ans2 = t[i]+<span class="number">10</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> ans2 +=<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans1&gt;ans2) <span class="built_in">swap</span>(ans1,ans2);</span><br><span class="line">        cout&lt;&lt;ans1&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ans2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数树"><a href="#数树" class="headerlink" title="数树"></a>数树</h3><p>模拟题？直接按照他说的把功能都写了就行了，记录一下每个节点的父节点是什么。一开始只用了一位数组来记录点和父节点断开，改来改去只有45分。后来突然想到他可能和好多节点都断开，直接用vector存一下就过了。</p><p>第二天听颁奖典礼上讲题解说的是分快树，LCT做。。。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">4e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> pre_ans;</span><br><span class="line"><span class="type">int</span> w[mxlen];</span><br><span class="line"><span class="type">int</span> father[mxlen];</span><br><span class="line"><span class="type">int</span> now_root = <span class="number">1</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; broken[mxlen];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[mxlen];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> weight;</span><br><span class="line">    <span class="type">int</span> index;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check_relation</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;broken[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(broken[u][i]==v) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find_father</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    father[u] = fa;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">find_father</span>(g[u][i],u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">change</span><span class="params">(<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!pre_ans) <span class="keyword">return</span> v;</span><br><span class="line">    <span class="keyword">return</span> v^pre_ans;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs_weight</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        ans+=<span class="built_in">dfs_weight</span>(g[u][i],u,x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(w[u]&gt;x) ans++;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_heaviest</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = w[u];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        ans = <span class="built_in">max</span>(ans,<span class="built_in">find_heaviest</span>(g[u][i],u));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">node <span class="title">find_minw_minindex</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    node tmp = &#123;w[u],u&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        node son = <span class="built_in">find_minw_minindex</span>(g[u][i],u);</span><br><span class="line">        <span class="keyword">if</span>(son.weight&lt;tmp.weight)&#123;</span><br><span class="line">            tmp.weight = son.weight;</span><br><span class="line">            tmp.index = son.index;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(son.weight==tmp.weight)&#123;</span><br><span class="line">            <span class="keyword">if</span>(son.index&lt;tmp.index)&#123;</span><br><span class="line">                tmp.weight = son.weight;</span><br><span class="line">                tmp.index = son.index;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> op)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> u,x;</span><br><span class="line">    <span class="comment">// ask how many points&#x27; weight more than v in u subtree</span></span><br><span class="line">    <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;x;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        x = <span class="built_in">change</span>(x);</span><br><span class="line">        pre_ans = <span class="built_in">dfs_weight</span>(u,father[u],x);</span><br><span class="line">        cout&lt;&lt;pre_ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;x;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        x = <span class="built_in">change</span>(x);</span><br><span class="line">        w[u] = x;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">3</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;x;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        x = <span class="built_in">change</span>(x);</span><br><span class="line">        n++;</span><br><span class="line">        g[n].<span class="built_in">push_back</span>(u);</span><br><span class="line">        g[u].<span class="built_in">push_back</span>(n);</span><br><span class="line">        father[n] = u;</span><br><span class="line">        w[n] = x;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">4</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        broken[u].<span class="built_in">push_back</span>(father[u]);</span><br><span class="line">        broken[father[u]].<span class="built_in">push_back</span>(u);</span><br><span class="line">        <span class="built_in">find_father</span>(u,<span class="number">-1</span>);</span><br><span class="line">        pre_ans = <span class="built_in">find_heaviest</span>(u,father[u]);</span><br><span class="line">        cout&lt;&lt;pre_ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">5</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        node temp = <span class="built_in">find_minw_minindex</span>(u,father[u]);</span><br><span class="line">        pre_ans = temp.index;</span><br><span class="line">        cout&lt;&lt;pre_ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">6</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        <span class="built_in">find_father</span>(u,<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">            g[x].<span class="built_in">push_back</span>(y);</span><br><span class="line">            g[y].<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;     </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;w[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">find_father</span>(now_root,<span class="number">-1</span>);</span><br><span class="line">        cin&gt;&gt;m;</span><br><span class="line">        <span class="type">int</span> op;</span><br><span class="line">        pre_ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            cin&gt;&gt;op;</span><br><span class="line">            <span class="built_in">solve</span>(op);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="贝壳统计（shell）"><a href="#贝壳统计（shell）" class="headerlink" title="贝壳统计（shell）"></a>贝壳统计（shell）</h3><p>这题。。。。80分带修莫队板子题。后面插入元素的改了半天都会超时，不懂怎么改。只拿了80分。</p><p>一开始直接暴力做能拿40分。我看这1e5的数据，两维数组都开不了，也没办法记忆化，就想起来了之前看过的快慢指针，我拿两个指针来回记录时间应该会小一点，很遗憾还是40分。我看着我写的<code>pre_l--</code>和<code>pre_r++</code>越看越熟悉，，，这不就是莫队吗？？？？！！！还好这比赛让带U盘，然后我点开里面的模版（赛前都没看过，不知道从哪里下的了都），直接目录直达带修莫队，ubuntu里复制pdf里代码到vscode里缩进都没了，我也没管，粘过来改改变量名称直接就拿了80分。</p><p>第二天题解讲的是线段树什么的维护增加位置的个数，把添加的数改为负数，还没插入的为负数不用管，好像有点道理。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">1e4</span>+<span class="number">15</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> vis[mxlen*<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> block = <span class="number">2589</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Query</span>&#123;</span><br><span class="line">    <span class="type">int</span> id,l,r,t;</span><br><span class="line">&#125;q[mxlen];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Modify</span>&#123;</span><br><span class="line">    <span class="type">int</span> pos,col,lst;</span><br><span class="line">&#125;c[mxlen];</span><br><span class="line"><span class="type">int</span> cnt[mxlen];</span><br><span class="line"><span class="type">int</span> bi[mxlen];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> Query &amp;a, <span class="type">const</span> Query &amp;b)</span></span>&#123;</span><br><span class="line"><span class="type">int</span> al = bi[a.l], ar = bi[a.r];</span><br><span class="line"><span class="type">int</span> bl = bi[b.l], br = bi[b.r];</span><br><span class="line"><span class="keyword">if</span>(al != bl)<span class="keyword">return</span> a.l &lt; b.l;</span><br><span class="line"><span class="keyword">if</span>(ar != br)<span class="keyword">return</span> a.r &lt; b.r;</span><br><span class="line"><span class="keyword">return</span> a.t &lt; b.t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span>&amp; res)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(cnt[x] == <span class="number">0</span>)res ++ ;</span><br><span class="line">cnt[x] ++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span>&amp; res)</span></span>&#123;</span><br><span class="line">cnt[x] -- ;</span><br><span class="line"><span class="keyword">if</span>(cnt[x] == <span class="number">0</span>)res -- ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> mq = <span class="number">0</span>,mc = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> ans[mxlen];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">write</span><span class="params">(<span class="type">int</span> res)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(res&lt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">res=-res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(res&gt;<span class="number">9</span>)</span><br><span class="line"><span class="built_in">write</span>(res/<span class="number">10</span>);</span><br><span class="line"><span class="built_in">putchar</span>(res%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modui</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++ i)&#123;</span><br><span class="line">    bi[i] = (i - <span class="number">1</span>) / block;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(q + <span class="number">1</span>, q + <span class="number">1</span> + mq, cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">register</span> <span class="type">int</span> k = <span class="number">1</span>, i = <span class="number">0</span>, j = <span class="number">1</span>, t = <span class="number">0</span>, res = <span class="number">0</span>; k &lt;= mq; ++ k)&#123;</span><br><span class="line">        <span class="type">int</span> id = q[k].id, l = q[k].l, r = q[k].r, tim = q[k].t;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; r)res += ++ cnt[a[ ++ i]] == <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt; r)res -= -- cnt[a[i -- ]] == <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &lt; l)res -= -- cnt[a[j ++ ]] == <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &gt; l)res += ++ cnt[a[ -- j]] == <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//再处理y轴</span></span><br><span class="line">    <span class="keyword">while</span>(t &lt; tim)&#123;</span><br><span class="line">    t ++ ;</span><br><span class="line">    <span class="keyword">if</span>(c[t].pos &gt;= j &amp;&amp; c[t].pos &lt;= i)&#123;</span><br><span class="line">    <span class="built_in">del</span>(a[c[t].pos], res);</span><br><span class="line">    <span class="built_in">add</span>(c[t].col, res);</span><br><span class="line">    <span class="comment">//res -= !--cnt[w[c[t].pos]] - !cnt[c[t].col]++;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(a[c[t].pos], c[t].col);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(t &gt; tim)&#123;</span><br><span class="line">    <span class="keyword">if</span>(c[t].pos &gt;= j &amp;&amp; c[t].pos &lt;= i)&#123;</span><br><span class="line">    <span class="built_in">del</span>(a[c[t].pos], res);</span><br><span class="line">    <span class="built_in">add</span>(c[t].col, res);</span><br><span class="line">    <span class="comment">//res -= !--cnt[w[c[t].pos]] - !cnt[c[t].col]++;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(a[c[t].pos], c[t].col);</span><br><span class="line">    t -- ;</span><br><span class="line">    &#125;</span><br><span class="line">    ans[id] = res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=mq;i++)&#123;</span><br><span class="line">        <span class="built_in">write</span>(ans[i]), <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve_large</span><span class="params">(<span class="type">int</span> op)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="type">int</span> L,R;</span><br><span class="line">        cin&gt;&gt;L&gt;&gt;R;</span><br><span class="line">        q[++mq] = (Query)&#123;mq,L,R,mc&#125;;        </span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">        c[++mc] = (Modify)&#123;P,V&#125;;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">modui</span>();</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="built_in">sizeof</span>(cnt));</span><br><span class="line">        mq = <span class="number">0</span>;</span><br><span class="line">        mc = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">        n++;</span><br><span class="line">       a.<span class="built_in">insert</span>(a.<span class="built_in">begin</span>()+P,V);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> op)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;<span class="number">1e4</span>)&#123;</span><br><span class="line">        <span class="built_in">solve_large</span>(op);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="type">int</span> L,R;</span><br><span class="line">        cin&gt;&gt;L&gt;&gt;R;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=L;i&lt;=R;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[a[i]])&#123;</span><br><span class="line">                ans++;</span><br><span class="line">                vis[a[i]]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">        a[P] = V;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        a.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            a.<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> op;</span><br><span class="line">        <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">            cin&gt;&gt;op;</span><br><span class="line">            <span class="built_in">solve</span>(op);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n&gt;<span class="number">1e4</span>&amp;&amp;op!=<span class="number">3</span>) <span class="built_in">modui</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>后两题真的折磨，光输入都差不多写了100多行，然而就只拿到了10分，这里就不贴代码了。我觉得要是平时写过系统相关的代码应该很快能写出来，我看有人很快就写完了。我调了半天真的有点崩溃了，看了看排行榜感觉再努力也进不了金牌了，还是早早收场就提前出来了。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>最后是拿了290分，差十分银。这次可以说是大意失荆州——骄兵必败了。六点半的时候还排在银奖队伍中前部位，因为七点后就封傍了，我觉得就算有人后面写出来后两题也不至于把我退到铜吧（请不要学我。。。）。</p>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CCSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 4870 概率DP</title>
      <link href="/2024/10/15/HDU-4870-%E6%A6%82%E7%8E%87DP/"/>
      <url>/2024/10/15/HDU-4870-%E6%A6%82%E7%8E%87DP/</url>
      
        <content type="html"><![CDATA[<h1 id="HDU-4870-概率DP"><a href="#HDU-4870-概率DP" class="headerlink" title="HDU 4870 概率DP"></a>HDU 4870 概率DP</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=4870">Problem Link</a></p><h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>新账号打rank，rank从0开始，打到1000分结束。每场rank增加50的概率为p，否则rank-100。新人用两个信号去打，每次用rank值低的账号，问任意一个账号达到rank1000分，新人要打的期望场数。</p><h2 id="解答"><a href="#解答" class="headerlink" title="解答"></a>解答</h2><p><a href="https://www.cnblogs.com/philo-zhou/p/11330699.html">参考博客</a></p><p>将分数离散为赢了加1分，输了减2分。用<code>dp[i]</code>表示从i-1分到i分需要打的期望场数。</p><p>每次比赛有两种情况，一是p概率赢了加1分，二是(1-p)概率输了减2分。</p><p><code>dp[i]=1*p+(1-p)(1+dp[i-2]+dp[i-1]+dp[i])</code></p><p>期望等于所有情况乘以概率的和。</p><ul><li>一场就赢了，则是<code>1*p</code></li><li>一场输了，则需要<code>(1+dp[i-2]+dp[i-1]+dp[i])</code>场才能赢回来。其中1是输了这场，然后从<code>i-3</code>打到<code>i-2</code>,从<code>i-2</code>打到<code>i-1</code>，从<code>i-1</code>打到<code>i</code>分。</li></ul><p>化简得</p><p><code>dp[i]=(1+(1-p)*(dp[i-2]+dp[i-1]))/p</code></p><p><code>dp[1] = 1/p, dp[2] = 1/p/p</code></p><p>注意，因为最低分是0分，所以计算<code>dp[1]</code>和<code>dp[2]</code>的时候公式里填0补充。</p><p>用<code>tot</code>记录每一分需要的场数，因为有两个账号，且每次都是用分数低的，所以最后一定是一个账号1000分，另一个账号950分。我们计算两个账号都是1000分需要的场数，即<code>tot*2</code>，然后减去一个950分到1000分的期望场数(<code>dp[20]</code>)，即是答案。</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">25</span>;</span><br><span class="line"><span class="type">double</span> dp[mxlen];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;p)!=EOF)&#123;</span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span>/p;</span><br><span class="line">        dp[<span class="number">2</span>] = <span class="number">1</span>/p/p;</span><br><span class="line">        <span class="type">double</span> tot = dp[<span class="number">1</span>]+dp[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">3</span>;i&lt;=<span class="number">20</span>;i++)&#123;</span><br><span class="line">            dp[i] = (<span class="number">1</span>+(<span class="number">1</span>-p)*(dp[i<span class="number">-1</span>]+dp[i<span class="number">-2</span>]))/p;</span><br><span class="line">            tot += dp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.6lf\n&quot;</span>,<span class="number">2</span>*tot-dp[<span class="number">20</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1024 M子段和最大</title>
      <link href="/2024/10/12/HDU-1024-M%E5%AD%90%E6%AE%B5%E5%92%8C%E6%9C%80%E5%A4%A7/"/>
      <url>/2024/10/12/HDU-1024-M%E5%AD%90%E6%AE%B5%E5%92%8C%E6%9C%80%E5%A4%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="M子段和最大问题"><a href="#M子段和最大问题" class="headerlink" title="M子段和最大问题"></a>M子段和最大问题</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1024">Problem Link</a></p><p>Given an array and divide into m sequences. One sequences at least has one number and the sequences can’t contain the number with same index. And the index of the numbers in one sequence should be continuous. Notice that we don’t have to use all the numbers.</p><p>N between 1 to 1e6.</p><h2 id="SOLUTION"><a href="#SOLUTION" class="headerlink" title="SOLUTION"></a>SOLUTION</h2><p><strong><code>Dynamic programming</code></strong>. </p><p>Let <code>d[i][j]</code> denote the maximum sum of the current array that is divided into i segments and the last segment ends with the jth number. </p><p>When comes to the jth number, we have two options. One is the jth number to be a new segments, the other is to add it to the back of the last segment which ends with (j-1)th number.</p><p>So the transfer equation is <code>dp[i][j]=max(pre_max+a[j],dp[i][j-1]+a[j])</code>. <code>pre_max</code> represents to the maximum answer that the pre array divided into <code>i-1</code> segments.</p><p><a href="https://blog.csdn.net/winter2121/article/details/72848482">Reference blog</a></p><p><img src="https://images.whff521.top/hdu-1024.jpg" alt="Reference Image"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line">ll dp[mxlen];</span><br><span class="line">ll a[mxlen];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;m,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="comment">// 用memset会超时</span></span><br><span class="line">        <span class="comment">//memset(dp,0,sizeof(dp));</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">            dp[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            ll pre = dp[i<span class="number">-1</span>];</span><br><span class="line">            ll pre_max = -inf;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i;j&lt;=n-m+i;j++)&#123;</span><br><span class="line">                pre_max = <span class="built_in">max</span>(pre_max,pre);</span><br><span class="line">                pre = dp[j];</span><br><span class="line">                <span class="keyword">if</span>(j!=i) dp[j] = <span class="built_in">max</span>(pre_max,dp[j<span class="number">-1</span>])+a[j];</span><br><span class="line">                <span class="keyword">else</span> dp[j] = pre_max+a[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = -inf;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=m;i&lt;=n;i++)&#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 子段和 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1029 寻找数列主元素</title>
      <link href="/2024/10/08/HDU-1029-%E5%AF%BB%E6%89%BE%E6%95%B0%E5%88%97%E4%B8%BB%E5%85%83%E7%B4%A0/"/>
      <url>/2024/10/08/HDU-1029-%E5%AF%BB%E6%89%BE%E6%95%B0%E5%88%97%E4%B8%BB%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="寻找数列主元素"><a href="#寻找数列主元素" class="headerlink" title="寻找数列主元素"></a>寻找数列主元素</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1029">Problem link</a></p><p>Finding a integer that appears at least (N+1)&#x2F;2 times in the array.</p><h2 id="摩尔投票法"><a href="#摩尔投票法" class="headerlink" title="摩尔投票法"></a>摩尔投票法</h2><p>The <strong>Boyer-Moore Voting Algorithm</strong> (Moore’s Voting Algorithm) is a highly efficient method to find the majority element in a sequence (an element that appears more than half the time). It operates in <strong>O(n) time</strong> and uses <strong>O(1) space</strong>.</p><h3 id="Key-Idea"><a href="#Key-Idea" class="headerlink" title="Key Idea:"></a>Key Idea:</h3><p>The algorithm works by maintaining a <strong>candidate</strong> for the majority element and a <strong>counter</strong> to track its occurrences. It leverages a “pairing” or “cancellation” mechanism to eliminate non-majority elements.</p><h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps:"></a>Steps:</h3><ol><li><strong>Initialize</strong>:<ul><li>Set the <code>candidate</code> to <code>None</code> and the <code>count</code> to <code>0</code>.</li></ul></li><li><strong>First Pass (Finding the Candidate)</strong>:<ul><li>Traverse the array:<ul><li>If <code>count == 0</code>, set the current element as the <code>candidate</code> and set <code>count = 1</code>.</li><li>If the current element matches the <code>candidate</code>, increment <code>count</code>.</li><li>If the current element differs from the <code>candidate</code>, decrement <code>count</code>.</li></ul></li></ul></li><li><strong>Second Pass (Validation)</strong>:<ul><li>After completing the first pass, the <code>candidate</code> is the potential majority element. To confirm, traverse the array again and count the occurrences of the <code>candidate</code>. If it appears more than half the time, it is the majority element; otherwise, there is no majority element.</li></ul></li></ol><h3 id="Time-and-Space-Complexity"><a href="#Time-and-Space-Complexity" class="headerlink" title="Time and Space Complexity:"></a>Time and Space Complexity:</h3><ul><li><strong>Time Complexity</strong>: O(n) – two passes through the array.</li><li><strong>Space Complexity</strong>: O(1) – constant space is used for the <code>candidate</code> and <code>count</code>.</li></ul><h3 id="Key-Reasons-for-its-Effectiveness"><a href="#Key-Reasons-for-its-Effectiveness" class="headerlink" title="Key Reasons for its Effectiveness:"></a>Key Reasons for its Effectiveness:</h3><h4 id="1-Majority-Element-Dominates"><a href="#1-Majority-Element-Dominates" class="headerlink" title="1. Majority Element Dominates:"></a>1. <strong>Majority Element Dominates</strong>:</h4><p>If there is a majority element, it must appear <strong>more than half</strong> the time in the array. Let’s say the majority element is <code>M</code>, and the number of occurrences of <code>M</code> is greater than half of the total elements in the array (i.e., <code>count(M) &gt; n/2</code>). </p><p>In any process of matching pairs of elements, <code>M</code> will never be fully canceled out because it occurs more frequently than any other element.</p><h4 id="2-Cancellation-Process"><a href="#2-Cancellation-Process" class="headerlink" title="2. Cancellation Process:"></a>2. <strong>Cancellation Process</strong>:</h4><p>During the first pass, the algorithm essentially “cancels out” elements that are different from each other by using the <code>count</code> to increase and decrease based on whether an element matches the current candidate.</p><ul><li>Every time an element that is <strong>not the candidate</strong> is encountered, the <code>count</code> is decreased, effectively <strong>canceling out</strong> both the current candidate and the opposing element.</li><li>When the <code>count</code> reaches zero, a new candidate is chosen. This new candidate can still be the majority element or a temporary placeholder if more occurrences of the majority element appear later.</li></ul><p>This step ensures that elements that appear fewer times will eventually be canceled out by the majority element.</p><h4 id="3-Why-the-Majority-Element-Survives"><a href="#3-Why-the-Majority-Element-Survives" class="headerlink" title="3. Why the Majority Element Survives:"></a>3. <strong>Why the Majority Element Survives</strong>:</h4><p>The majority element will <strong>not be canceled out completely</strong> because it appears more than half the time. Even though other elements may reduce the <code>count</code> temporarily, the majority element’s higher frequency ensures that it will eventually remain as the candidate by the end of the first pass.</p><h3 id="Example-Walkthrough"><a href="#Example-Walkthrough" class="headerlink" title="Example Walkthrough:"></a>Example Walkthrough:</h3><p>Consider an array <code>[2, 2, 1, 1, 1, 2, 2]</code>:</p><ol><li>Initial <code>candidate = None</code>, <code>count = 0</code>.</li><li>First element <code>2</code>: <code>count == 0</code>, so <code>candidate = 2</code>, <code>count = 1</code>.</li><li>Second element <code>2</code>: <code>candidate == 2</code>, <code>count = 2</code>.</li><li>Third element <code>1</code>: <code>candidate != 1</code>, <code>count = 1</code>.</li><li>Fourth element <code>1</code>: <code>candidate != 1</code>, <code>count = 0</code>.</li><li>Fifth element <code>1</code>: <code>count == 0</code>, so <code>candidate = 1</code>, <code>count = 1</code>.</li><li>Sixth element <code>2</code>: <code>candidate != 2</code>, <code>count = 0</code>.</li><li>Seventh element <code>2</code>: <code>count == 0</code>, so <code>candidate = 2</code>, <code>count = 1</code>.</li></ol><p>After this, <code>candidate = 2</code>. In the verification step, <code>2</code> appears 4 times, which is more than <code>n/2 = 3.5</code>, confirming it is the majority element.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>This problem guarantees that there will be an answer. So we don’t need the step of check.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        ll cnt = <span class="number">0</span>;</span><br><span class="line">        ll x;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;x);</span><br><span class="line">            <span class="keyword">if</span>(cnt==<span class="number">0</span>)&#123;</span><br><span class="line">                ans = x;</span><br><span class="line">                cnt = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(ans==x)&#123;</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    cnt--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 摩尔投票法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1465 (错位排列问题)</title>
      <link href="/2024/09/23/HDU-1465-%E9%94%99%E4%BD%8D%E6%8E%92%E5%88%97%E9%97%AE%E9%A2%98/"/>
      <url>/2024/09/23/HDU-1465-%E9%94%99%E4%BD%8D%E6%8E%92%E5%88%97%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Derangement-Problem"><a href="#Derangement-Problem" class="headerlink" title="Derangement Problem"></a>Derangement Problem</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1465">problem link</a></p><h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>You have <code>n</code> letters, each with a different recipient. However, all the letters are delivered to the wrong recipients, meaning no one receives the letter intended for them. You need to determine how many possible ways this can happen.</p><p>This problem can be simplified to a case where you have an array of numbers from 1 to n. For each position in the array(starting from index 1), the number in that position is different from its index. The goal is to count how many such arrangement exist.</p><h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>This is a classic <strong>derangement</strong> problem. You can find a more detailed explanation on <a href="https://oi-wiki.org/math/combinatorics/derangement/">oi-wiki</a> and <a href="https://en.wikipedia.org/wiki/Derangement">wikipedia</a>.</p><p>I solved the problem using a recursive approach. Let<code>D[i]</code>represent the number of derangements when <code>n = i</code>. The recursive formula is: <code>D[i]=(i-1)D[i-1]+(i-1)D[i-2]</code>.</p><p>Here’s an explanation of the formula:</p><p>Assume we already know the answers for <code>i-1</code>. Now, we add the <code>i-th</code> number to the sequence in the <code>i-th</code> position. Since the number in each position must differ from the position itself, we need to swap <code>i</code> with a number in the previous positions. The first case is where all of the previous <code>i-1</code> numbers are already deranged, so we can swap <code>i</code> with any of them, giving us <code>(i-1)D[i-1]</code> possibilities. The second case is where <code>i-2</code> numbers are deranged, but one number matches its index. In this case, we swap <code>i</code> with that number, which gives us <code>(i-1)D[i-2]</code> possibilities.</p><p><img src="https://images.whff521.top/Dislocation.jpg" alt="dislocation"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">ll a[<span class="number">25</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    a[<span class="number">3</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">4</span>;i&lt;=<span class="number">20</span>;i++)&#123;</span><br><span class="line">        a[i] = (i<span class="number">-1</span>)*(a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,a[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数论 </tag>
            
            <tag> 错位排列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notes of Lecture 23: Computational Complexity</title>
      <link href="/2024/09/21/Notes-of-Lecture-23-Computational-Complexity/"/>
      <url>/2024/09/21/Notes-of-Lecture-23-Computational-Complexity/</url>
      
        <content type="html"><![CDATA[<h1 id="Notes-of-Lecture-23-Computational-Complexity"><a href="#Notes-of-Lecture-23-Computational-Complexity" class="headerlink" title="Notes of Lecture 23: Computational Complexity"></a>Notes of Lecture 23: Computational Complexity</h1><p><a href="https://youtu.be/moPtwq_cVH8?si=u92BMoXF0Yqg1YH5">video link</a></p><h2 id="P-EXP-R"><a href="#P-EXP-R" class="headerlink" title="P,EXP,R"></a>P,EXP,R</h2><p>P &#x3D; {problems solvable in at most(&lt;&#x3D;) polynomial time}</p><p>EXP &#x3D; {problems solvable in exponential(2^$n^c$) time}</p><p>R &#x3D; {problems solvable in finite time}</p><p><img src="https://images.whff521.top/PEXPR.png" alt="P,EXP,R"></p><p>The axis is computational difficulty.</p><h2 id="Most-problems-uncomputable"><a href="#Most-problems-uncomputable" class="headerlink" title="Most problems uncomputable"></a>Most problems uncomputable</h2><p>Examples:</p><ul><li>negative-weight cycle detection (P)</li><li>NxN Chess (EXP&amp;!P)</li><li>Tetris (EXP, don’t know whether is P)</li><li>halting problem: given program, does it ever halt&#x2F;stop? (not in R)</li></ul><p>Most decision problems are uncomputable (not in R)</p><ul><li>program $\approx$ binary string $\approx$ natural number (integer)</li><li>decision problem &#x3D; function : input($\approx$ binary string (N)) -&gt;{yes(1),no(0)}</li></ul><p>So decision problem is in $\mathbb{R}$;</p><p>$|\mathbb{R}|$ &gt;&gt; $|\mathbb{N}|$ &#x3D;&gt; almost every problem unsolvable by any program</p><h2 id="NP"><a href="#NP" class="headerlink" title="NP"></a>NP</h2><p>NP &#x3D; {decision problems solvable in polynomial time via a “lucky” algorithm}</p><ul><li><p>nondeterministic model : algorithm makes guesses &amp; says YES&#x2F;NO.</p></li><li><p>guesses are guaranteed to lead to “YES” if possible </p></li><li><p>Tetris is NP</p></li></ul><p>proof &#x3D; sequence of moves to make</p><p>NP &#x3D; {decision problems with “solutions” that can be “checked” in polynomial time}</p><ul><li>When answer &#x3D; YES, can prove it &amp; check proof in polynomial time.</li></ul><h2 id="Hardness-Completeness"><a href="#Hardness-Completeness" class="headerlink" title="Hardness &amp; Completeness"></a>Hardness &amp; Completeness</h2><p>P!&#x3D;NP : big conjecture $\approx$ “can’t engineer luck” $\approx$ generating (proofs of) solutions can be harder than checking them.</p><p>Claim: if P!&#x3D;NP then Tetris is NP-P &#x3D;&gt; not in P.</p><p>Why? Tetris is NP-hard(as hard as every problem which is NP)</p><ul><li>in fact Tetris is NP-complete &#x3D; NP $\cap$ NP-hard</li></ul><p><img src="https://images.whff521.top/NPwholeAxis.png" alt="whole axis"></p><h2 id="Reductions"><a href="#Reductions" class="headerlink" title="Reductions"></a>Reductions</h2><p>Reductions: A -&gt; B</p><p>convert problem A(don’t know how to solve) into problem B(you know how to solve)</p><ul><li><p>unweighted shortest paths -&gt; weighted shortest paths</p></li><li><p>min-product path -&gt; shortest path</p></li><li><p>longest path -&gt; shortest path</p></li></ul><p>B is as hard ad A</p><p>3- partition [Karp] -&gt; Tetris</p>]]></content>
      
      
      <categories>
          
          <category> 摘抄 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1085 multiple knapsack problem</title>
      <link href="/2024/09/19/HDU-1085-multiple-knapsack-problem/"/>
      <url>/2024/09/19/HDU-1085-multiple-knapsack-problem/</url>
      
        <content type="html"><![CDATA[<h1 id="Multiple-Knapsack-Problem"><a href="#Multiple-Knapsack-Problem" class="headerlink" title="Multiple Knapsack Problem"></a>Multiple Knapsack Problem</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1085">problem link</a></p><h2 id="The-Meaning-of-the-problem"><a href="#The-Meaning-of-the-problem" class="headerlink" title="The Meaning of the problem"></a>The Meaning of the problem</h2><p>You have three kinds of coins. Their face values are 1,2 and 5. Of cause you only have a limited number of coins. You need to find the minimum value that you can’t represent exactly with these coins.</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>There are  lots of people solve this problem using Generating function. That way is too hard to understand. We just need to think of this problem as a multiple knapsack problem.</p><p>I learned from <a href="https://seramasumi.github.io/docs/Algorithms/mc-%E5%BE%AE%E8%AF%BE%E5%A0%82-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98.html">this blog</a></p><p><code>dp[j] = 1</code> means that <code>j</code> value can be represent by the coins.</p><p>Set <code>dp[0] = 1</code> initially. And the transfer equation is <code>dp[j] = max(dp[j],dp[j-k*money[i]])</code></p><p>Let’s assume there is only one 1 yuan coin, one 2 yuan coin and one 5 yuan coin. When <code>d[j]</code> need changing, we should see whether <code>d[j-value]</code> can be represent.</p><p>The top row of the table shows the total amount of money. The leftmost column of the table shows the face value of the coins.</p><p>Here’s the picture to show how the sequence is changed.</p><p><img src="https://images.whff521.top/Screenshot%202024-09-19%20at%2020.29.36.png" alt="knapsack sheet"></p><p>The top row of the table shows the total amount of money. The leftmost column of the table shows the face value of the coins.</p><p>The answer is <code>i</code> where <code>dp[i] = 0</code>.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> dp[mxlen];</span><br><span class="line"><span class="type">int</span> num[<span class="number">4</span>];</span><br><span class="line"><span class="type">int</span> money[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n1,n2,n5;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="built_in">sizeof</span>(dp));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;num[<span class="number">1</span>],&amp;num[<span class="number">2</span>],&amp;num[<span class="number">3</span>]);        </span><br><span class="line">        <span class="keyword">if</span>(num[<span class="number">1</span>]==<span class="number">0</span>&amp;&amp;num[<span class="number">2</span>]==<span class="number">0</span>&amp;&amp;num[<span class="number">3</span>]==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="type">int</span> sum = num[<span class="number">1</span>]+<span class="number">2</span>*num[<span class="number">2</span>]+<span class="number">5</span>*num[<span class="number">3</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 多重背包</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)&#123;</span><br><span class="line">            <span class="comment">// 倒序是因为我们转移需要上一层的数据，正序的话会改变值从而后面的值更新错误</span></span><br><span class="line">            <span class="comment">// 因为实际上这是用一维数组代替二维数组</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=sum;j&gt;=money[i];j--)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k*money[i]&lt;=j&amp;&amp;k&lt;=num[i];k++)&#123;</span><br><span class="line">                    dp[j] = <span class="built_in">max</span>(dp[j],dp[j-k*money[i]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = sum+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=sum;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!dp[i]) &#123;</span><br><span class="line">                ans = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多重背包 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1025 longest increasing subsequence</title>
      <link href="/2024/09/17/HDU-1025-longest-increasing-subsequence/"/>
      <url>/2024/09/17/HDU-1025-longest-increasing-subsequence/</url>
      
        <content type="html"><![CDATA[<h1 id="Constructing-Roads-In-JGShining’s-Kingdom"><a href="#Constructing-Roads-In-JGShining’s-Kingdom" class="headerlink" title="Constructing Roads In JGShining’s Kingdom"></a>Constructing Roads In JGShining’s Kingdom</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1025">problem link</a></p><h2 id="The-meaning-of-the-problem"><a href="#The-meaning-of-the-problem" class="headerlink" title="The meaning of the problem"></a>The meaning of the problem</h2><p>So why this is longest increasing subsequence Problem ? Look at the picture below:</p><p><img src="https://images.whff521.top/hdu1025.jpg" alt="hdu1025"></p><p>As the problem described, we can’t have crossed lines. Each line has two endpoints. One is the “rich” endpoint above and the other is the “poor” endpoint below. The rich endpoints’ number of the lines we finally pick up should be <strong>monotonically increasing</strong>. The corresponding poor endpoints should be <strong>monotonically increasing</strong> too. Otherwise the lines will be crossed.</p><p>Let’s use <strong><code>a[p]=q</code> to represent that the p city can link q city</strong>. Then the problem tend to become a question of longest increasing subsequence.</p><h2 id="The-Algorithm"><a href="#The-Algorithm" class="headerlink" title="The Algorithm"></a>The Algorithm</h2><p>There is a quite easy way to understand the LIS problem. I learned it from <a href="https://leetcode.cn/problems/longest-increasing-subsequence/solutions/13118/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/">this tutorial</a></p><blockquote><p>A clever approach. Create a new array <code>cell</code> to store the longest increasing subsequence.  </p><p>Iterate through the original sequence, and binary insert each element into <code>cell</code>.</p><p>If all the elements in <code>cell</code> are smaller than the current one, append it at the end.<br>Otherwise, <strong>replace the smallest element in <code>cell</code> that is larger than the current one</strong>.<br>In short, the idea is to keep <code>cell</code> storing relatively smaller elements. Although <code>cell</code> may not represent the actual longest increasing subsequence, its length is correct.</p><p>Author: ColdMe<br>Link: <a href="https://leetcode.cn/problems/longest-increasing-subsequence/solutions/13118/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/">https://leetcode.cn/problems/longest-increasing-subsequence/solutions/13118/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/</a><br>Source: LeetCode<br>Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please credit the source.</p></blockquote><p>There are ways to prove that the <code>cell</code> array is monotonically increasing. Anything detailed you can see <a href="https://en.wikipedia.org/wiki/Longest_increasing_subsequence">Wikipedia</a></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">5e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> seq[mxlen];</span><br><span class="line"><span class="type">int</span> a[mxlen];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">            a[x]=y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(seq,<span class="number">0</span>,<span class="built_in">sizeof</span>(seq));</span><br><span class="line">        <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]&gt;seq[len])&#123;</span><br><span class="line">                seq[++len] = a[i];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> l=<span class="number">1</span>,r=len;</span><br><span class="line">                <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">                    <span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span>(seq[mid]&gt;=a[i]) r = mid<span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                seq[l] = a[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// When the number of roads is greater than 2, an s needs to be added after the road.</span></span><br><span class="line">        <span class="keyword">if</span>(len==<span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;Case %d:\nMy king, at most 1 road can be built.\n\n&quot;</span>,++cnt);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;Case %d:\nMy king, at most %d roads can be built.\n\n&quot;</span>,++cnt,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 最长上升子序列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1023 Train Problem II 高精度卡特兰数</title>
      <link href="/2024/09/16/HDU-1023-Train-Problem-II-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8D%A1%E7%89%B9%E5%85%B0%E6%95%B0/"/>
      <url>/2024/09/16/HDU-1023-Train-Problem-II-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8D%A1%E7%89%B9%E5%85%B0%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="High-precision-Catalan-number"><a href="#High-precision-Catalan-number" class="headerlink" title="High-precision Catalan number"></a>High-precision Catalan number</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1023">problem link</a></p><p>This is a classic problem of finding the number of stack push ans pop sequences. The only headache is that it requires high precision.</p><h2 id="How-to-determine-whether-it-is-a-Catalan-number"><a href="#How-to-determine-whether-it-is-a-Catalan-number" class="headerlink" title="How to determine whether it is a Catalan number"></a>How to determine whether it is a Catalan number</h2><p>For a more detailed introduction to the Catalan number,see <a href="https://oi-wiki.org/math/combinatorics/catalan/">oi-wiki</a> and <a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E5%A1%94%E5%85%B0%E6%95%B0">wikipedia</a></p><p>I think there is another simple way to judge, which is to see whether the first few numbers are consistent with the Catalan number. If they are the same, then it is likely to be a correct guess.</p><p><img src="https://images.whff521.top/catalan.png" alt="截图来自oi-wiki"></p><h2 id="Algortithm-Implementation"><a href="#Algortithm-Implementation" class="headerlink" title="Algortithm Implementation"></a>Algortithm Implementation</h2><p>We use <code>catalan[i][j]</code> to represent the j-th digital of the i-th Catalan number. </p><p>The formula I use is <code>h(n) = (4n-2)*h(n-1)/(n+1)</code>.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1005</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> catalan[<span class="number">105</span>][mxlen];</span><br><span class="line"><span class="comment">// catalan[i][j] stores the j-th digit of the i-th catalan number</span></span><br><span class="line"><span class="comment">// h(n) = (4n-2)*h(n-1)/(n+1)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre_work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    catalan[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">        <span class="type">int</span> tmp = <span class="number">0</span> ;</span><br><span class="line">        <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;mxlen;j++)&#123;</span><br><span class="line">            tmp+=catalan[i<span class="number">-1</span>][j]*(<span class="number">4</span>*i<span class="number">-2</span>);</span><br><span class="line">            catalan[i][j] = tmp%<span class="number">10</span>;</span><br><span class="line">            tmp/=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// mxlen is big enough, so tmp will be 0 after the loop</span></span><br><span class="line">        j=mxlen<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(catalan[i][j]==<span class="number">0</span>) j--;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            tmp = tmp*<span class="number">10</span>+catalan[i][j];</span><br><span class="line">            catalan[i][j--] = tmp/(i+<span class="number">1</span>);  </span><br><span class="line">            <span class="keyword">if</span>(tmp&gt;=i+<span class="number">1</span>) tmp%=(i+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Catalan number is a integer, so remain is 0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">pre_work</span>();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="type">int</span> i = mxlen<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(catalan[n][i]==<span class="number">0</span>) i--;</span><br><span class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,catalan[n][i--]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 卡特兰数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1011 Starship Troopers 树形DP</title>
      <link href="/2024/09/13/HDU-1011-Starship-Troopers-%E6%A0%91%E5%BD%A2DP/"/>
      <url>/2024/09/13/HDU-1011-Starship-Troopers-%E6%A0%91%E5%BD%A2DP/</url>
      
        <content type="html"><![CDATA[<h1 id="答案会比你想象的简单很多"><a href="#答案会比你想象的简单很多" class="headerlink" title="答案会比你想象的简单很多"></a>答案会比你想象的简单很多</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1011">题目链接</a></p><p>这道题最大的障碍应该是猜对题意。。。题里说的“possibility”应该不是真正的相对于人数的概率，而是可以随意相加的数字，你可以直接当成获得这个数量的金币之类的。</p><p>树形迷宫，只要你能放置超过对应数量的士兵在这个节点，你就可以获得这个节点的“possibility”。同时你可以继续向这个节点的子节点进行进攻，你甚至可以兵分几路向下前进。这些被放置的士兵只能留在被放置的节点而不能重复利用。你一共有m个士兵，求出你可以获得的“possibility”的最大值。</p><h2 id="正向思考"><a href="#正向思考" class="headerlink" title="正向思考"></a>正向思考</h2><p>每当你占领一个节点，面临的就是你如何要用剩下的军队，分成几部分去这个节点的子节点。显然正向出发去求你并不知道到底怎样决策才能获得最大价值，因为你甚至还不知道接下来你会面临什么样的节点。</p><h2 id="反向思考"><a href="#反向思考" class="headerlink" title="反向思考"></a>反向思考</h2><p>这就要搬出和深搜常绑定的一个词——“回溯”。我们一路深搜到叶子节点，我们要从终点走到起点。面对只有一个节点，你当然知道你最少需要多少士兵，你最大能获得多少价值。我们用<code>dp[x][i]</code>表示第x节点用掉i个士兵获得的最大的价值。如果当前节点最少需要j个士兵，那么dp[x][j～m]的初始值就是当前节点的价值量。毕竟人少了不行，但是人多了是肯定可以的。</p><p>当两个叶子汇聚到一个父节点应该怎么转移呢？我们需要就将人分成两部分，一部分x个人给一个叶子，一部分y个人给另一个（或者另好几个）叶子，父节点用的人数就是<code>x+y+i</code>个人。因为我们已经知道了每个节点用多少人能够获得多少价值，我们可以枚举所有情况来进行更新最优解。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> pre[mxlen*<span class="number">2</span>],last[mxlen],other[mxlen*<span class="number">2</span>],l;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    l++;</span><br><span class="line">    pre[l] = last[x];</span><br><span class="line">    last[x] = l;</span><br><span class="line">    other[l] = y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> dp[mxlen][mxlen];</span><br><span class="line"><span class="type">bool</span> vis[mxlen];</span><br><span class="line"><span class="type">int</span> bugs[mxlen],brains[mxlen];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">    l = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(pre,<span class="number">0</span>,<span class="built_in">sizeof</span>(pre));</span><br><span class="line">    <span class="built_in">memset</span>(last,<span class="number">0</span>,<span class="built_in">sizeof</span>(last));</span><br><span class="line">    <span class="built_in">memset</span>(other,<span class="number">0</span>,<span class="built_in">sizeof</span>(other));</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="built_in">sizeof</span>(dp));</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    vis[x] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// 向上取整</span></span><br><span class="line">    <span class="type">int</span> needed = (bugs[x]+<span class="number">19</span>)/<span class="number">20</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=needed;i&lt;=m;i++)&#123;</span><br><span class="line">        dp[x][i] = brains[x];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> p=last[x];p;p=pre[p])&#123;</span><br><span class="line">        <span class="type">int</span> y = other[p];</span><br><span class="line">        <span class="keyword">if</span>(vis[y]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(y);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = m;i&gt;=needed;i--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=i-needed;j++)&#123;</span><br><span class="line">                <span class="comment">//第x节点消耗i个士兵能获得的最大价值</span></span><br><span class="line">                dp[x][i] = <span class="built_in">max</span>(dp[x][i],dp[x][i-j]+dp[y][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">-1</span>&amp;&amp;m==<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">prepare</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;bugs[i],&amp;brains[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="type">int</span> x,y;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">            <span class="built_in">add</span>(x,y);</span><br><span class="line">            <span class="built_in">add</span>(y,x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(m==<span class="number">0</span>)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">        cout&lt;&lt;dp[<span class="number">1</span>][m]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深搜 </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDOJ 1010 Tempter of the Bone 深搜&amp;剪枝</title>
      <link href="/2024/09/12/HDOJ-1010-Tempter-of-the-Bone-%E6%B7%B1%E6%90%9C-%E5%89%AA%E6%9E%9D/"/>
      <url>/2024/09/12/HDOJ-1010-Tempter-of-the-Bone-%E6%B7%B1%E6%90%9C-%E5%89%AA%E6%9E%9D/</url>
      
        <content type="html"><![CDATA[<h1 id="细心和智慧并存的解答"><a href="#细心和智慧并存的解答" class="headerlink" title="细心和智慧并存的解答"></a>细心和智慧并存的解答</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1010">题目链接</a> </p><p>题的大致意思是能不能从起点经过T时间精准到达终点，图中有一些障碍不能走，走过的格子也不能再走。</p><p>其中数据是最大7*7的迷宫，最多50个迷宫。</p><h2 id="智慧之处——精准的剪枝"><a href="#智慧之处——精准的剪枝" class="headerlink" title="智慧之处——精准的剪枝"></a>智慧之处——精准的剪枝</h2><p>类似全排列的深搜时间复杂度是O(n!)，7*7的数据是过不去的。  </p><p>首先就是普通地剪枝：</p><ul><li>如果时间已经大于T，就不用再走了</li><li>如果已经有正确答案，要及时地退出搜索</li></ul><p>然后是奇偶剪枝，这里参考了<a href="https://blog.csdn.net/code_pang/article/details/8839432">其他博客</a>  </p><p>这里我重新画了一张图，如下：</p><p><img src="https://images.whff521.top/maze.jpg" alt="maze"></p><p>图中的S可以代表任何你走到的位置，不一定是起点。就如图中的红色和蓝色路径，这两条路径是最少需要的时间。如果剩余时间少于最短路径长度，那么是一定不能到达终点的。  </p><p>既然时间不够一定不能到达，时间刚好和剩余最少时间相等也能到达，那么还剩一种情况，就是时间大于剩余最少时间。这也应该是大概率会遇到的情况。根据题意我们只能在第T秒精准到达终点，我们时间多出来的怎么办呢？——我们需要在终点周围“<strong>徘徊</strong>”。  </p><p>如图中的绿色和黄色箭头所示，你比最短路径多走出来的路径，一定是先“出去”，再“回来”。多走的路径是“对称的”，那多出来的路径长度一定是偶数。  </p><p>这就是奇偶性剪枝。加上这个剪枝就能过所有的测试数据。</p><h2 id="细心之处——多数据下数组的重复利用"><a href="#细心之处——多数据下数组的重复利用" class="headerlink" title="细心之处——多数据下数组的重复利用"></a>细心之处——多数据下数组的重复利用</h2><p>尽管我写过无数个全排列暴力骗过不少10分、20分。但是在这道题上还是因为粗心而浪费了不少时间。  </p><p>在做杭电这前十道题的时候我就发现基本都是多数据的形式。所以除了输入会重新填入数据的数组外，其他数据都需要进行“<strong>初始化</strong>”。</p><p>但是即使我清空了<code>vis</code>数据，我发现代码运行的答案竟然是错误的（样例是能过的）。  </p><p>原因就是这道题毕竟不是全排列，vis数组不能只在dfs的for循环中去设置。<strong>你的起点在你走出第一步后就再也不能回来了</strong>。</p><p><code>vis[startX][startY]=true;</code></p><p>代码： </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> mp[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> n,m,T;</span><br><span class="line"><span class="type">bool</span> vis[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">string ans;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> startX,startY,endX,endY;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> step)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ans==<span class="string">&quot;YES&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(step&gt;T) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mp[x][y]==<span class="string">&#x27;D&#x27;</span>&amp;&amp;step==T)&#123;</span><br><span class="line">        ans = <span class="string">&quot;YES&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 剩余时间小于到终点的最短距离</span></span><br><span class="line">    <span class="keyword">if</span>(T-step&lt;(<span class="built_in">abs</span>(x-endX)+<span class="built_in">abs</span>(y-endY)))&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 剩余时间剪去最短距离不是偶数</span></span><br><span class="line">    <span class="keyword">if</span>((T-step-(<span class="built_in">abs</span>(x-endX)+<span class="built_in">abs</span>(y-endY)))%<span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">        <span class="type">int</span> nx = x+dx[i];</span><br><span class="line">        <span class="type">int</span> ny = y+dy[i];</span><br><span class="line">        <span class="keyword">if</span>(nx&gt;=<span class="number">1</span>&amp;&amp;nx&lt;=n&amp;&amp;ny&gt;=<span class="number">1</span>&amp;&amp;ny&lt;=m&amp;&amp;!vis[nx][ny]&amp;&amp;mp[nx][ny]!=<span class="string">&#x27;X&#x27;</span>)&#123;</span><br><span class="line">            vis[nx][ny]=<span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,step+<span class="number">1</span>);</span><br><span class="line">            vis[nx][ny]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;T);</span><br><span class="line">        <span class="keyword">if</span>(!n&amp;&amp;!m&amp;&amp;!T) <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">                cin&gt;&gt;mp[i][j];</span><br><span class="line">                <span class="keyword">if</span>(mp[i][j]==<span class="string">&#x27;S&#x27;</span>)&#123;</span><br><span class="line">                    startX=i;</span><br><span class="line">                    startY=j;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mp[i][j]==<span class="string">&#x27;D&#x27;</span>)&#123;</span><br><span class="line">                    endX=i;</span><br><span class="line">                    endY=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="string">&quot;NO&quot;</span>;</span><br><span class="line">        <span class="comment">// vis记得清空</span></span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">        <span class="comment">// 起点要标记为已访问 </span></span><br><span class="line">        vis[startX][startY]=<span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(startX,startY,<span class="number">0</span>);</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深搜 </tag>
            
            <tag> 剪枝 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDOJ 1007 Quoit Design 圆环设计</title>
      <link href="/2024/09/11/HDOJ-1007-Quoit-Design-%E5%9C%86%E7%8E%AF%E8%AE%BE%E8%AE%A1/"/>
      <url>/2024/09/11/HDOJ-1007-Quoit-Design-%E5%9C%86%E7%8E%AF%E8%AE%BE%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="一道经典的分治"><a href="#一道经典的分治" class="headerlink" title="一道经典的分治"></a>一道经典的分治</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1007">题目链接</a></p><p>题意是套圈游戏要设计一款尺寸最大的圆环，满足圆环不会一次套中两个物品。每个物品有一个摆放坐标。我们要求的是这些物品中相邻最近的两个物品之间的距离，这个距离就是我们要求的圆环的直径。  </p><p>这个类型网上常称为<code>寻找最近点对问题</code>。  </p><p>数据是十万（1e5），分治算法时间复杂度是<code>O(nlogn)</code>，刚好能够跑完。</p><p>分治的思想就是我们先将所有点按照横坐标从小到大排序，然后将点分成左右两部分，也就是图中的<code>L</code>和<code>R</code>区域，这样我们就可以分别求两边的距离最小值。当然在中间线的<code>mid</code>部分也是需要求距离的。</p><p>在算完两边的距离最小值<code>d</code>后，我们将中间线向左和向右扩展<code>d</code>长度，组成<code>mid</code>的领域。可以知道如果领域再扩大增加的点并不会形成更优的答案。这里需要注意，我们的<code>L</code>和<code>R</code>区域是以中间线为界，也就是说<code>mid</code>区域其实是叠加在两边区域之上的。</p><p><img src="https://images.whff521.top/fenzhi.jpg" alt="fenzhi"></p><p>虽然中间区域的点已经会排除掉一些点，但是直接用双重循环找最短距离会超时。这是因为如果点都在中间密集的话时间复杂度会接近<code>O(n*n)</code>。</p><p>所以我们需要把中间点按照<code>y</code>的从小到大排序，在循环中如果两点纵坐标之间的距离已经大于<code>d</code>的时候及时跳出循环，完成剪枝。在<a href="http://oi-wiki.com/geometry/nearest-points/">oi-wiki</a>中有证明，这里的满足条件的点不会超过7。</p><p>边界问题：自己与自己之间距离设置成足够大的值，如果区间只有两个点，则直接计算两点之间距离。</p><p><strong>PS: 函数命名不要用distance，会和C++库中函数重名而导致CE</strong> </p><p>代码：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    <span class="type">double</span> y;</span><br><span class="line">&#125;points[mxlen];</span><br><span class="line"><span class="comment">// sort by x</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmpx</span><span class="params">(node qw,node er)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(qw.x==er.x) <span class="keyword">return</span> qw.y&lt;er.y;</span><br><span class="line">    <span class="keyword">return</span> qw.x&lt;er.x;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sort by y</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmpy</span><span class="params">(node qw,node er)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(qw.y==er.y) <span class="keyword">return</span> qw.x&lt;er.x;</span><br><span class="line">    <span class="keyword">return</span> qw.y&lt;er.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// count the distance between two points</span></span><br><span class="line"><span class="comment">// name can not be distance, because there is a function named distance in cmath</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">dis</span><span class="params">(node qw,node er)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((qw.x-er.x)*(qw.x-er.x)+(qw.y-er.y)*(qw.y-er.y));</span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">node temp[mxlen];</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r) <span class="keyword">return</span> <span class="number">1e20</span>;</span><br><span class="line">    <span class="comment">// if there are only two points</span></span><br><span class="line">    <span class="keyword">if</span>(l+<span class="number">1</span>==r) <span class="keyword">return</span> <span class="built_in">dis</span>(points[l],points[r]);</span><br><span class="line">    <span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="type">double</span> d = <span class="built_in">min</span>(<span class="built_in">solve</span>(l,mid),<span class="built_in">solve</span>(mid+<span class="number">1</span>,r));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// sort by y, otherwise the code will TLE</span></span><br><span class="line">    <span class="type">int</span> len = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=mid;i&gt;=l&amp;&amp;points[mid].x-points[i].x&lt;d;i--) temp[len++] = points[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=mid+<span class="number">1</span>;i&lt;=r&amp;&amp;points[i].x-points[mid].x&lt;d;i++) temp[len++] = points[i];</span><br><span class="line">    <span class="built_in">sort</span>(temp+<span class="number">1</span>,temp+len,cmpy);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;len&amp;&amp;temp[j].y-temp[i].y&lt;d;j++)&#123;</span><br><span class="line">            d = <span class="built_in">min</span>(d,<span class="built_in">dis</span>(temp[i],temp[j]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">if</span>(!n) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;points[i].x,&amp;points[i].y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(points+<span class="number">1</span>,points+n+<span class="number">1</span>,cmpx);</span><br><span class="line">        <span class="type">double</span> ans = <span class="built_in">solve</span>(<span class="number">1</span>,n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.2f\n&quot;</span>,ans/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分治 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>更有效地解决括号匹配问题</title>
      <link href="/2024/08/26/%E6%9B%B4%E6%9C%89%E6%95%88%E5%9C%B0%E8%A7%A3%E5%86%B3%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D%E9%97%AE%E9%A2%98/"/>
      <url>/2024/08/26/%E6%9B%B4%E6%9C%89%E6%95%88%E5%9C%B0%E8%A7%A3%E5%86%B3%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>这是力扣上一道非常简单的问题，是经典的解决括号匹配问题。当然做法是用一个栈即可解决问题。<br><a href="https://leetcode.cn/problems/valid-parentheses/description/?envType=study-plan-v2&envId=2024-spring-sprint-100">有效的括号</a></p><p>这是我的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Stack&lt;Character&gt; st = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">            <span class="type">Character</span> <span class="variable">nowC</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(nowC==<span class="string">&#x27;(&#x27;</span>||nowC==<span class="string">&#x27;&#123;&#x27;</span>||nowC==<span class="string">&#x27;[&#x27;</span>)&#123;</span><br><span class="line">                st.push(nowC);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(st.empty())&#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> st.pop();</span><br><span class="line">                <span class="keyword">if</span>((nowC==<span class="string">&#x27;)&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;(&#x27;</span>)||(nowC==<span class="string">&#x27;]&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;[&#x27;</span>)||(nowC==<span class="string">&#x27;&#125;&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;&#123;&#x27;</span>))&#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!st.empty()) flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>显然我的代码是可以不费力的通过测试的。但是我还是去看了一眼题解。 </p><p>这是力扣官方题解。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Map&lt;Character, Character&gt; pairs = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Character&gt;() &#123;&#123;</span><br><span class="line">            put(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">            put(<span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;[&#x27;</span>);</span><br><span class="line">            put(<span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span>);</span><br><span class="line">        &#125;&#125;;</span><br><span class="line">        Deque&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (pairs.containsKey(ch)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (stack.isEmpty() || stack.peek() != pairs.get(ch)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(ch);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">作者：力扣官方题解</span><br><span class="line">链接：https:<span class="comment">//leetcode.cn/problems/valid-parentheses/solutions/373578/you-xiao-de-gua-hao-by-leetcode-solution/</span></span><br><span class="line">来源：力扣（LeetCode）</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure><p>想必大家已经能够看到官方题解和我的代码有着一个明显的差别，那就是题解用了另一个数据结构——<code>Map</code>。  </p><p>用到<code>Map</code>的理由也是非常的简单，就是判断小括号，中括号，大括号匹配的时候，用<code>Map</code>的<code>key-value</code>一一对应能够完美解决。这里的操作看似画蛇添足，但是代码在拓展性上大大增强，只需要更改键值对的内容，就可以把代码扩展到任意匹配问题。  </p><p>还有一点值得一提，就是<code>java</code>中的<code>stack</code>实际上就是<code>vector</code>的一种。整体来看，双端队列能够实现栈的所有功能，且适用范围更加广泛，所以大多数定义栈的时候都会直接用<code>Deque</code>。</p>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 括号匹配 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客的免费图床方案</title>
      <link href="/2024/07/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%96%B9%E6%A1%88/"/>
      <url>/2024/07/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h1 id="博客的免费图床方案（Cloudflare-R2-PicGo）"><a href="#博客的免费图床方案（Cloudflare-R2-PicGo）" class="headerlink" title="博客的免费图床方案（Cloudflare R2 + PicGo）"></a>博客的免费图床方案（Cloudflare R2 + PicGo）</h1><p><a href="https://www.pseudoyu.com/zh/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/">参考博客</a>  </p><p>这个博客写的已经非常详细清楚了，这里不再赘述实现步骤。  </p><p>这里记录一下我是怎么发现这篇博客的。  </p><p>在一个很无聊的时间段，我打开了<code>Inoreader</code>看RSS订阅的博客列表有没有更新，其中有一篇少数派的博客吸引了我，<a href="https://sspai.com/post/90223">是这个博客</a>。</p><p><img src="http://images.whff521.top/Screenshot%202024-07-08%20at%2020.10.44.png" alt="sspai">  </p><p>这里博主提到了<a href="https://x.com/pseudo_yu">他的推特账号</a>。其中很近的时间里他发布了上面提到的免费图床方案的博文。  </p><p>这篇博客解决了我正在苦恼的问题，那就是博文中图片的插入。如果是只有一个github pages的静态网站还好说，直接传在相对文件夹里即可。但是如果面对多平台，比如我还想在csdn中发布，那就变得很麻烦，因为markdown里写的相对路径将不可用，最直接的办法就是更改每个图片链接。  </p><p>然而如果是有自己的图床就很方便了，不用担心网络上的图片会突然失效，多平台发布也不用更改自己的截图路径。上方的图片就是用我自己实现的图库。  </p><p>事实上这个免费解决方案是相对于已经使用过CloudFlare和买过且用过域名的人看的。有一些点没有提及。首先你如果想用R2的话你最好有一张VISA卡进行账户的认证。还有对于公共的域名，如果想用自己的域名，首先这个域名的DNS的NameServer需要改成CloudFlare的，也就是说这里的自定义域名只能是在CloudFlare里进行代理的域名，当然有免费计划可以用。  </p><p>还有关于PicGo这个软件，对于Mac用户来说，你可能会遇到一个问题，就是安装后系统不让你打开并使用这个软件，系统会提示你把它扔进垃圾桶里，因为里面的证书不对。这里解决方案是<a href="https://youngjuning.js.org/bd534125c87e/?highlight=picgo#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F">来自这个博客</a>  </p><p>终端输入：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -r -d com.apple.quarantine 你的APP路径</span><br></pre></td></tr></table></figure><p>APP 路径的获取方法：</p><p>打开 “访达”（Finder）进入 “应用程序” 目录，找到该软件图标，将图标拖到终端窗口，最终的命令类似:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -r -d com.apple.quarantine <span class="string">&#x27;/Applications/PicGo.app&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
            <tag> 博客 </tag>
            
            <tag> 图床 </tag>
            
            <tag> PicGo </tag>
            
            <tag> Cloudflare </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 09 Exercises</title>
      <link href="/2024/06/22/Eloquent-JavaScript-09-Exercises/"/>
      <url>/2024/06/22/Eloquent-JavaScript-09-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><p><a href="https://eloquentjavascript.net/09_regexp.html">To the book page</a>  </p><h2 id="Regexp-golf"><a href="#Regexp-golf" class="headerlink" title="Regexp golf"></a>Regexp golf</h2><p>注意这里如果写对的话，应该什么都不会输出。  </p><p>正则表达式中的<code>\b</code>是单词边界的标志，它用来匹配一个单词的边界。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill in the regular expressions</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正则表达式应该匹配“car”和“cat”，但不匹配其他字符串。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/ca[rt]/</span>,</span><br><span class="line">       [<span class="string">&quot;my car&quot;</span>, <span class="string">&quot;bad cats&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;camper&quot;</span>, <span class="string">&quot;high art&quot;</span>]);</span><br><span class="line"><span class="comment">// 正则表达式应该匹配“pop”和“prop”，但不匹配其他字符串。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/pr?op/</span>,</span><br><span class="line">       [<span class="string">&quot;pop culture&quot;</span>, <span class="string">&quot;mad props&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;plop&quot;</span>, <span class="string">&quot;prrrop&quot;</span>]);</span><br><span class="line"><span class="comment">// 正则表达式应该匹配“ferret”，“ferry”和“ferrari”，但不匹配其他字符串。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/ferr(et|y|ari)/</span>,</span><br><span class="line">       [<span class="string">&quot;ferret&quot;</span>, <span class="string">&quot;ferry&quot;</span>, <span class="string">&quot;ferrari&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;ferrum&quot;</span>, <span class="string">&quot;transfer A&quot;</span>]);</span><br><span class="line"><span class="comment">// 正则表达式应该匹配以“ious”结尾的任何单词。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\b\w*ious\b/</span>,</span><br><span class="line">       [<span class="string">&quot;how delicious&quot;</span>, <span class="string">&quot;spacious room&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;ruinous&quot;</span>, <span class="string">&quot;consciousness&quot;</span>]);</span><br><span class="line"><span class="comment">// 正则表达式应该匹配空白字符后跟一个句号、逗号、冒号或分号。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\s[.,;:]/</span>,</span><br><span class="line">       [<span class="string">&quot;bad punctuation .&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;escape the period&quot;</span>]);</span><br><span class="line"><span class="comment">// 正则表达式应该匹配长度大于六个字母的单词。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\b\w&#123;7,&#125;\b/</span>,</span><br><span class="line">       [<span class="string">&quot;Siebentausenddreihundertzweiundzwanzig&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;no&quot;</span>, <span class="string">&quot;three small words&quot;</span>]);</span><br><span class="line"><span class="comment">// 正则表达式应该匹配不包含字母“e”或“E”的单词。</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\b[a-df-zA-DF-Z]+\b/</span>,</span><br><span class="line">       [<span class="string">&quot;red platypus&quot;</span>, <span class="string">&quot;wobbling nest&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;earth bed&quot;</span>, <span class="string">&quot;bedrøvet abe&quot;</span>, <span class="string">&quot;BEET&quot;</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">verify</span>(<span class="params">regexp, yes, no</span>) &#123;</span><br><span class="line">  <span class="comment">// Ignore unfinished exercises</span></span><br><span class="line">  <span class="keyword">if</span> (regexp.<span class="property">source</span> == <span class="string">&quot;...&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> yes) <span class="keyword">if</span> (!regexp.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Failure to match &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> no) <span class="keyword">if</span> (regexp.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Unexpected match for &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Quoting-style"><a href="#Quoting-style" class="headerlink" title="Quoting style"></a>Quoting style</h2><p>将句子中的单引号换成双引号，但是单词缩写不能变，比如“aren’t”  </p><p>这里调试了半天，因为我错误的将<code>|</code>写成中文的<code>｜</code>了。。。  </p><ul><li><code>(^|\W)</code>：匹配开头或非字母字符后面的单引号。</li><li><code>(\W|$)</code>：匹配单引号后面紧跟非字母字符或字符串结尾。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="string">&quot;&#x27;I&#x27;m the cook,&#x27; he said, &#x27;it&#x27;s my job.&#x27;&quot;</span>;</span><br><span class="line"><span class="comment">// Change this call.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">replace</span>(<span class="regexp">/(^|\W)&#x27;|&#x27;(\W|$)/g</span>,<span class="string">&#x27;$1&quot;$2&#x27;</span>));</span><br><span class="line"><span class="comment">// → &quot;I&#x27;m the cook,&quot; he said, &quot;it&#x27;s my job.&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Numbers-again"><a href="#Numbers-again" class="headerlink" title="Numbers again"></a>Numbers again</h2><p>为了编写一个匹配JavaScript风格数字的正则表达式，我们需要支持以下特性：</p><ul><li>可选的正负号</li><li>可选的十进制点</li><li>指数表示法（e或E），以及可选的正负号</li></ul><p>以下是我们可以遵循的步骤：</p><ol><li><strong>可选的正负号</strong>：<code>[+-]?</code></li><li><strong>整数和小数部分</strong>：<ul><li>整数部分：<code>\d*</code></li><li>小数部分：<code>\.\d+</code></li></ul></li><li><strong>指数部分</strong>：<code>e[+-]?\d+</code></li></ol><p>将这些部分组合在一起，我们得到一个正则表达式来匹配JavaScript风格的数字：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="regexp">/^[+-]?(\d+(\.\d*)?|\.\d+)([eE][+-]?\d+)?$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tests:</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;-1&quot;</span>, <span class="string">&quot;+15&quot;</span>, <span class="string">&quot;1.55&quot;</span>, <span class="string">&quot;.5&quot;</span>, <span class="string">&quot;5.&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;1.3e2&quot;</span>, <span class="string">&quot;1E-4&quot;</span>, <span class="string">&quot;1e+12&quot;</span>]) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!number.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Failed to match &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> [<span class="string">&quot;1a&quot;</span>, <span class="string">&quot;+-1&quot;</span>, <span class="string">&quot;1.2.3&quot;</span>, <span class="string">&quot;1+1&quot;</span>, <span class="string">&quot;1e4.5&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;.5.&quot;</span>, <span class="string">&quot;1f5&quot;</span>, <span class="string">&quot;.&quot;</span>]) &#123;</span><br><span class="line">  <span class="keyword">if</span> (number.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Incorrectly accepted &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><ul><li><code>^[+-]?</code>：匹配开头的可选正负号。</li><li><code>(\d+(\.\d*)?|\.\d+)</code>：匹配整数或小数部分。<ul><li><code>\d+(\.\d*)?</code>：匹配整数部分，后面跟着可选的小数部分。例如，<code>123</code>或<code>123.456</code>。</li><li><code>|\.\d+</code>：或者匹配只有小数点和小数部分。例如，<code>.456</code>。</li></ul></li><li><code>([eE][+-]?\d+)?</code>：匹配可选的指数部分。<ul><li><code>[eE]</code>：匹配<code>e</code>或<code>E</code>。</li><li><code>[+-]?</code>：匹配可选的正负号。</li><li><code>\d+</code>：匹配一或多个数字。</li></ul></li><li><code>$</code>：匹配字符串的结尾。</li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2024年Android项目实现高德导航</title>
      <link href="/2024/06/21/2024%E5%B9%B4Android%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%BE%B7%E5%AF%BC%E8%88%AA/"/>
      <url>/2024/06/21/2024%E5%B9%B4Android%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%BE%B7%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h1 id="使用高德SDK实现导航功能"><a href="#使用高德SDK实现导航功能" class="headerlink" title="使用高德SDK实现导航功能"></a>使用高德SDK实现导航功能</h1><p><a href="https://blog.csdn.net/weixin_46974030/article/details/134059600">参考博客</a>  </p><p><a href="https://github.com/WHFF521/AMAP-Android-Navigation">Github仓库直达</a>  </p><p>这是今天企业实训的一个小作业，实际上我从昨天就开始尝试申请key然后下载官方Demo开始实验。本来是要做flutter项目，但是高德官方里flutter教程只有显示地图和定位功能，没有导航功能，导航功能官方只有Android的教程。今天也是用Android原生进行编写的。至于怎么整合到flutter项目里目前还不知道。。。</p><h2 id="1-官网下载SDK"><a href="#1-官网下载SDK" class="headerlink" title="1. 官网下载SDK"></a>1. 官网下载SDK</h2><p>我也尝试过直接gradle引入包的操作，但是直接引入的会缺少<code>AmapNaviParams</code>。官网也一直强调有个什么东西开源了所以提供的包里移除了一些东西（不知道到底是什么）。  </p><p><a href="https://lbs.amap.com/api/android-sdk/download">官网SDK下载地址</a>  </p><p>我下载的是导航合包：</p><p><img src="/../images/Android/gaodeSDK.png" alt="SDK">  </p><h2 id="2-创建项目"><a href="#2-创建项目" class="headerlink" title="2. 创建项目"></a>2. 创建项目</h2><p>直接Android Studio创建一个java，Groovy的项目即可。  </p><p>设置里需要设置生成所有Gradle Task：  </p><p><img src="/../images/Android/openALLTask.png" alt="set generate all tasks">  </p><p>这样你就可以靠点击这里直接获得你项目的SHA1的值，申请key的时候需要这个。</p><p><img src="/../images/Android/signing.png" alt="signing">  </p><p>点击上图位置你就可以在终端看见你的SHA1值。在我这里release和debug的SHA1的值是一样的。  </p><h2 id="3-导入你下载的SDK"><a href="#3-导入你下载的SDK" class="headerlink" title="3. 导入你下载的SDK"></a>3. 导入你下载的SDK</h2><p>在app的<code>build.gradle</code>的<code>dependencies</code>里添加一行<br><code>implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</code>  </p><p>在上方和<code>compileOptions</code>同级的位置添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sourceSets &#123;</span><br><span class="line">    main &#123;</span><br><span class="line">        jniLibs.srcDirs = [&#x27;libs&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如图：</p><p><img src="/../images/Android/SouceSet.png" alt="souceSet">  </p><p>同时下载的SDK如图放在app文件夹下的libs文件夹下。</p><p>同步一下即导入完成。</p><h2 id="添加权限和你的KEY"><a href="#添加权限和你的KEY" class="headerlink" title="添加权限和你的KEY"></a>添加权限和你的KEY</h2><p>这里需要在manifest文件里添加一些权限，你的key和一个服务。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--允许访问网络，必选权限--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取粗略位置，若用GPS实现定位小蓝点功能则必选--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取设备和运营商信息，用于问题排查和网络定位，若无gps但仍需实现定位小蓝点功能则此权限必选--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_PHONE_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取网络状态，用于网络定位，若无gps但仍需实现定位小蓝点功能则此权限必选--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取wifi网络信息，用于网络定位，若无gps但仍需实现定位小蓝点功能则此权限必选--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取wifi状态改变，用于网络定位，若无gps但仍需实现定位小蓝点功能则此权限必选--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.CHANGE_WIFI_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许写入扩展存储，用于数据缓存，若无此权限则写到私有目录--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许读设备等信息，用于问题排查--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许访问网络，必选权限--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许读设备等信息，用于问题排查--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_PHONE_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取网络状态--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许获取wifi网络信息--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许写入扩展存储，用于搜索结果缓存，若无此权限则写到私有目录--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--允许读设备等信息，用于问题排查--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>然后application下添加你的key和一个服务，之后还要用到一个高德自己的activity，这里顺便一起声明了,这些和你的启动Activity是同级的：  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">&quot;com.amap.api.v2.apikey&quot;</span> <span class="attr">android:value</span>=<span class="string">&quot;你的key&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">meta-data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">service</span> <span class="attr">android:name</span>=<span class="string">&quot;com.amap.api.location.APSService&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">&quot;com.amap.api.navi.AmapRouteActivity&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:theme</span>=<span class="string">&quot;@android:style/Theme.NoTitleBar&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:configChanges</span>=<span class="string">&quot;orientation|keyboardHidden|screenSize|navigation&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="继续之前"><a href="#继续之前" class="headerlink" title="继续之前"></a>继续之前</h2><p>首先你的key应该按照官网已经申请成功了，这里我把我的项目传到github上。如果想要源码请直接跳转下载。</p><p><a href="https://github.com/WHFF521/AMAP-Android-Navigation">我的仓库</a>  </p><h2 id="展示图"><a href="#展示图" class="headerlink" title="展示图"></a>展示图</h2><div style="display: flex;gap: 10px;">  <img src="/images/Android/navi-mainpage.jpg" alt="description" width="300" height="600">  <img src="/images/Android/navigating.jpg" alt="description" width="300" height="600"></div><h2 id="相对于参考博客做的代码替换"><a href="#相对于参考博客做的代码替换" class="headerlink" title="相对于参考博客做的代码替换"></a>相对于参考博客做的代码替换</h2><p>由于有一些APi在最新的SDK中已经失效，这里重点写一下相对于参考博客代码中的不同：</p><p>MainActivity中：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">configureMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (aMap == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        MyLocationStyle myLocationStyle;</span><br><span class="line">        myLocationStyle = <span class="keyword">new</span> <span class="title class_">MyLocationStyle</span>();<span class="comment">//初始化定位蓝点样式类myLocationStyle.myLocationType(MyLocationStyle.LOCATION_TYPE_LOCATION_ROTATE);//连续定位、且将视角移动到地图中心点，定位点依照设备方向旋转，并且会跟随设备移动。（1秒1次定位）如果不设置myLocationType，默认也会执行此种模式。</span></span><br><span class="line">        myLocationStyle.interval(<span class="number">2000</span>); <span class="comment">//设置连续定位模式下的定位间隔，只在连续定位模式下生效，单次定位模式下不会生效。单位为毫秒。</span></span><br><span class="line">        aMap.setMyLocationStyle(myLocationStyle);<span class="comment">//设置定位蓝点的Style</span></span><br><span class="line"><span class="comment">//aMap.getUiSettings().setMyLocationButtonEnabled(true);设置默认定位按钮是否显示，非必需设置。</span></span><br><span class="line">        aMap.setMyLocationEnabled(<span class="literal">true</span>);<span class="comment">// 设置为true表示启动显示定位蓝点，false表示隐藏定位蓝点并不进行定位，默认是false。</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>这个函数中的MyLocationStyle需要进行替换。</p><p>由于参考博客中并没有完整的代码，你需要在MainActivity中添加：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">LOCATION_PERMISSION_REQUEST_CODE</span> <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>作为这个code的声明和初始化。  </p><p>我在实际编写的时候，Android Studio不能自动import关于manifest的库，会导致申请权限的代码中爆红一片。你需要引用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.Manifest;</span><br></pre></td></tr></table></figure><p>其他应该没有什么变化。</p><h2 id="MainActivity"><a href="#MainActivity" class="headerlink" title="MainActivity"></a>MainActivity</h2><p>这是这个project中的核心文件，其中按钮绑定的跳转函数那里是重点：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">findViewById(R.id.btnGotoNavi).setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">                <span class="comment">// 无起终点启动导航</span></span><br><span class="line">                <span class="type">AmapNaviParams</span> <span class="variable">params</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AmapNaviParams</span>(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, AmapNaviType.DRIVER, AmapPageType.ROUTE);</span><br><span class="line">                AmapNaviPage.getInstance().showRouteActivity(getApplicationContext(), params, <span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>这里直接跳转到高德包里的一个activity中，可以进行导航等行为，这个是调用<code>AmapRouteActivity</code>，之前已在manifest中声明。当然也可以进行有起终点启动导航。<a href="https://lbs.amap.com/api/android-navi-sdk/guide/navi-component/basic-functions">官网文档</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//起点</span></span><br><span class="line"><span class="type">Poi</span> <span class="variable">start</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Poi</span>(<span class="string">&quot;北京首都机场&quot;</span>, <span class="keyword">new</span> <span class="title class_">LatLng</span>(<span class="number">40.080525</span>,<span class="number">116.603039</span>), <span class="string">&quot;B000A28DAE&quot;</span>);</span><br><span class="line"><span class="comment">//途经点</span></span><br><span class="line">List&lt;Poi&gt; poiList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">poiList.add(<span class="keyword">new</span> <span class="title class_">Poi</span>(<span class="string">&quot;故宫&quot;</span>, <span class="keyword">new</span> <span class="title class_">LatLng</span>(<span class="number">39.918058</span>,<span class="number">116.397026</span>), <span class="string">&quot;B000A8UIN8&quot;</span>));</span><br><span class="line"><span class="comment">//终点</span></span><br><span class="line"><span class="type">Poi</span> <span class="variable">end</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Poi</span>(<span class="string">&quot;北京大学&quot;</span>, <span class="keyword">new</span> <span class="title class_">LatLng</span>(<span class="number">39.941823</span>,<span class="number">116.426319</span>), <span class="string">&quot;B000A816R6&quot;</span>);</span><br><span class="line"><span class="comment">// 组件参数配置</span></span><br><span class="line"><span class="type">AmapNaviParams</span> <span class="variable">params</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AmapNaviParams</span>(start, poiList, end, AmapNaviType.DRIVER, AmapPageType.ROUTE);  </span><br><span class="line"><span class="comment">// 启动组件</span></span><br><span class="line">AmapNaviPage.getInstance().showRouteActivity(getApplicationContext(), params, <span class="literal">null</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="记录开发环境和调试手机"><a href="#记录开发环境和调试手机" class="headerlink" title="记录开发环境和调试手机"></a>记录开发环境和调试手机</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Android Studio Jellyfish | 2023.3.1 Patch 1</span><br><span class="line">Build #AI-233.14808.21.2331.11842104, built on May 15, 2024</span><br><span class="line">Runtime version: 17.0.10+0-17.0.10b1087.21-11572160 aarch64</span><br><span class="line">VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</span><br><span class="line">macOS 14.5</span><br><span class="line">GC: G1 Young Generation, G1 Old Generation</span><br><span class="line">Memory: 2048M</span><br><span class="line">Cores: 8</span><br><span class="line">Metal Rendering is ON</span><br><span class="line">Registry:</span><br><span class="line">  ide.experimental.ui=true</span><br><span class="line">Non-Bundled Plugins:</span><br><span class="line">  Dart (233.15271)</span><br><span class="line">  io.flutter (79.0.2)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>手机是vivo iqoo，android11。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 08 Exercises</title>
      <link href="/2024/06/19/Eloquent-JavaScript-08-Exercises/"/>
      <url>/2024/06/19/Eloquent-JavaScript-08-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h1><p><a href="https://eloquentjavascript.net/08_error.html">To the book page</a>  </p><h2 id="Retry"><a href="#Retry" class="headerlink" title="Retry"></a>Retry</h2><p>大概率触发MultiplicatorUnitFailure错误，承接直到运行成功并返回结果。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MultiplicatorUnitFailure</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Error</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">primitiveMultiply</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MultiplicatorUnitFailure</span>(<span class="string">&quot;Klunk&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reliableMultiply</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> ans = <span class="title function_">primitiveMultiply</span>(a,b);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">      <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="title class_">MultiplicatorUnitFailure</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> e;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">reliableMultiply</span>(<span class="number">8</span>, <span class="number">8</span>));</span><br><span class="line"><span class="comment">// → 64</span></span><br></pre></td></tr></table></figure><h2 id="The-locked-box"><a href="#The-locked-box" class="headerlink" title="The locked box"></a>The locked box</h2><p>先开锁，不管之后干什么都要在函数执行完毕返回前锁上盒子，因为中间操作可能抛出异常导致后面函数不执行，用finally执行关闭函数即可。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="keyword">new</span> <span class="keyword">class</span> &#123;</span><br><span class="line">  locked = <span class="literal">true</span>;</span><br><span class="line">  #content = [];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">unlock</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">locked</span> = <span class="literal">false</span>; &#125;</span><br><span class="line">  <span class="title function_">lock</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">locked</span> = <span class="literal">true</span>;  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">content</span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">locked</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Locked!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.#content;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">withBoxUnlocked</span>(<span class="params">body</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  box.<span class="title function_">unlock</span>();</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="title function_">body</span>();</span><br><span class="line">  &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="keyword">throw</span> e;</span><br><span class="line">  &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    box.<span class="title function_">lock</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">withBoxUnlocked</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  box.<span class="property">content</span>.<span class="title function_">push</span>(<span class="string">&quot;gold piece&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="title function_">withBoxUnlocked</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Pirates on the horizon! Abort!&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Error raised: &quot;</span> + e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(box.<span class="property">locked</span>);</span><br><span class="line"><span class="comment">// → true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 07 robot</title>
      <link href="/2024/06/19/Eloquent-JavaScript-07-robot/"/>
      <url>/2024/06/19/Eloquent-JavaScript-07-robot/</url>
      
        <content type="html"><![CDATA[<h1 id="robot"><a href="#robot" class="headerlink" title="robot"></a>robot</h1><p><a href="https://eloquentjavascript.net/07_robot.html">To the book page</a><br>代码解释由AI生成。  </p><h2 id="总代码"><a href="#总代码" class="headerlink" title="总代码"></a>总代码</h2><h3 id="数据结构和图的构建"><a href="#数据结构和图的构建" class="headerlink" title="数据结构和图的构建"></a>数据结构和图的构建</h3><p>首先定义了村庄中各个地点之间的道路：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> roads = [</span><br><span class="line">    <span class="string">&quot;Alice&#x27;s House-Bob&#x27;s House&quot;</span>,   <span class="string">&quot;Alice&#x27;s House-Cabin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Alice&#x27;s House-Post Office&quot;</span>,   <span class="string">&quot;Bob&#x27;s House-Town Hall&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Daria&#x27;s House-Ernie&#x27;s House&quot;</span>, <span class="string">&quot;Daria&#x27;s House-Town Hall&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Ernie&#x27;s House-Grete&#x27;s House&quot;</span>, <span class="string">&quot;Grete&#x27;s House-Farm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Grete&#x27;s House-Shop&quot;</span>,          <span class="string">&quot;Marketplace-Farm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Marketplace-Post Office&quot;</span>,     <span class="string">&quot;Marketplace-Shop&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Marketplace-Town Hall&quot;</span>,       <span class="string">&quot;Shop-Town Hall&quot;</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>接着，定义 <code>buildGraph</code> 函数来构建图：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">buildGraph</span>(<span class="params">edges</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> graph = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>); <span class="comment">// 创建一个空对象作为图</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">addEdge</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123; <span class="comment">// 定义一个添加边的函数</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">from</span> <span class="keyword">in</span> graph) &#123;</span><br><span class="line">        graph[<span class="keyword">from</span>].<span class="title function_">push</span>(to); <span class="comment">// 如果节点已经存在，直接添加边</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        graph[<span class="keyword">from</span>] = [to]; <span class="comment">// 如果节点不存在，创建新数组并添加边</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="keyword">from</span>, to] <span class="keyword">of</span> edges.<span class="title function_">map</span>(<span class="function"><span class="params">r</span> =&gt;</span> r.<span class="title function_">split</span>(<span class="string">&quot;-&quot;</span>))) &#123;</span><br><span class="line">      <span class="title function_">addEdge</span>(<span class="keyword">from</span>, to); <span class="comment">// 添加双向边</span></span><br><span class="line">      <span class="title function_">addEdge</span>(to, <span class="keyword">from</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> graph; <span class="comment">// 返回构建好的图</span></span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> roadGraph = <span class="title function_">buildGraph</span>(roads);</span><br></pre></td></tr></table></figure><h3 id="村庄状态类"><a href="#村庄状态类" class="headerlink" title="村庄状态类"></a>村庄状态类</h3><p><code>VillageState</code> 类表示村庄的状态，包括机器人的位置和包裹的位置：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VillageState</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">place, parcels</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">place</span> = place; <span class="comment">// 机器人当前所在的位置</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">parcels</span> = parcels; <span class="comment">// 包裹列表，每个包裹有一个位置和目标地址</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="title function_">move</span>(<span class="params">destination</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!roadGraph[<span class="variable language_">this</span>.<span class="property">place</span>].<span class="title function_">includes</span>(destination)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">// 如果目的地不在当前地点的邻居中，返回当前状态</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> parcels = <span class="variable language_">this</span>.<span class="property">parcels</span>.<span class="title function_">map</span>(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (p.<span class="property">place</span> != <span class="variable language_">this</span>.<span class="property">place</span>) <span class="keyword">return</span> p; <span class="comment">// 如果包裹不在当前位置，不做改变</span></span><br><span class="line">          <span class="keyword">return</span> &#123;<span class="attr">place</span>: destination, <span class="attr">address</span>: p.<span class="property">address</span>&#125;; <span class="comment">// 否则将包裹移动到目的地</span></span><br><span class="line">        &#125;).<span class="title function_">filter</span>(<span class="function"><span class="params">p</span> =&gt;</span> p.<span class="property">place</span> != p.<span class="property">address</span>); <span class="comment">// 过滤掉已送达的包裹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">VillageState</span>(destination, parcels); <span class="comment">// 返回新的村庄状态</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="运行机器人"><a href="#运行机器人" class="headerlink" title="运行机器人"></a>运行机器人</h3><p><code>runRobot</code> 函数模拟机器人运行：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">runRobot</span>(<span class="params">state, robot, memory</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> turn = <span class="number">0</span>;; turn++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (state.<span class="property">parcels</span>.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// 如果所有包裹都已送达，结束循环</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> action = <span class="title function_">robot</span>(state, memory); <span class="comment">// 调用机器人函数，获取下一步动作</span></span><br><span class="line">      state = state.<span class="title function_">move</span>(action.<span class="property">direction</span>); <span class="comment">// 移动到下一步位置</span></span><br><span class="line">      memory = action.<span class="property">memory</span>; <span class="comment">// 更新机器人的记忆</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> turn; <span class="comment">// 返回所用的回合数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="随机机器人"><a href="#随机机器人" class="headerlink" title="随机机器人"></a>随机机器人</h3><p><code>randomRobot</code> 随机选择一个方向移动：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">randomPick</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> choice = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * array.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">return</span> array[choice]; <span class="comment">// 从数组中随机选择一个元素</span></span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">randomRobot</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: <span class="title function_">randomPick</span>(roadGraph[state.<span class="property">place</span>])&#125;; <span class="comment">// 随机选择一个邻居方向</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="预定义路径机器人"><a href="#预定义路径机器人" class="headerlink" title="预定义路径机器人"></a>预定义路径机器人</h3><p><code>routeRobot</code> 按照预定义的路径移动：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mailRoute = [</span><br><span class="line">    <span class="string">&quot;Alice&#x27;s House&quot;</span>, <span class="string">&quot;Cabin&quot;</span>, <span class="string">&quot;Alice&#x27;s House&quot;</span>, <span class="string">&quot;Bob&#x27;s House&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Town Hall&quot;</span>, <span class="string">&quot;Daria&#x27;s House&quot;</span>, <span class="string">&quot;Ernie&#x27;s House&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Grete&#x27;s House&quot;</span>, <span class="string">&quot;Shop&quot;</span>, <span class="string">&quot;Grete&#x27;s House&quot;</span>, <span class="string">&quot;Farm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Marketplace&quot;</span>, <span class="string">&quot;Post Office&quot;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">routeRobot</span>(<span class="params">state, memory</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (memory.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      memory = mailRoute; <span class="comment">// 如果记忆为空，初始化为预定义路径</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: memory[<span class="number">0</span>], <span class="attr">memory</span>: memory.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;; <span class="comment">// 按照路径顺序移动</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="目标导向机器人"><a href="#目标导向机器人" class="headerlink" title="目标导向机器人"></a>目标导向机器人</h3><p><code>goalOrientedRobot</code> 根据包裹的位置和目标地址找到最佳路径：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findRoute</span>(<span class="params">graph, <span class="keyword">from</span>, to</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> work = [&#123;<span class="attr">at</span>: <span class="keyword">from</span>, <span class="attr">route</span>: []&#125;];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; work.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123;at, route&#125; = work[i];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> place <span class="keyword">of</span> graph[at]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (place == to) <span class="keyword">return</span> route.<span class="title function_">concat</span>(place); <span class="comment">// 找到目标地点，返回路径</span></span><br><span class="line">        <span class="keyword">if</span> (!work.<span class="title function_">some</span>(<span class="function"><span class="params">w</span> =&gt;</span> w.<span class="property">at</span> == place)) &#123;</span><br><span class="line">          work.<span class="title function_">push</span>(&#123;<span class="attr">at</span>: place, <span class="attr">route</span>: route.<span class="title function_">concat</span>(place)&#125;); <span class="comment">// 将新的位置加入工作队列</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">goalOrientedRobot</span>(<span class="params">&#123;place, parcels&#125;, route</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (route.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> parcel = parcels[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">if</span> (parcel.<span class="property">place</span> != place) &#123;</span><br><span class="line">        route = <span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">place</span>); <span class="comment">// 找到包裹位置的路径</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        route = <span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">address</span>); <span class="comment">// 找到包裹目标地址的路径</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: route[<span class="number">0</span>], <span class="attr">memory</span>: route.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;; <span class="comment">// 返回下一步方向和剩余路径</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效率机器人"><a href="#效率机器人" class="headerlink" title="效率机器人"></a>效率机器人</h3><p><code>efficientRobot</code> 根据所有包裹找到最短路径，以提高效率：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">efficientRobot</span>(<span class="params">&#123;place, parcels&#125;, route</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (route.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> routes = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> parcel <span class="keyword">of</span> parcels) &#123;</span><br><span class="line">        <span class="keyword">if</span> (parcel.<span class="property">place</span> != place) &#123;</span><br><span class="line">            routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">place</span>)); <span class="comment">// 找到包裹位置的路径</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">address</span>)); <span class="comment">// 找到包裹目标地址的路径</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        route = routes.<span class="title function_">reduce</span>(<span class="function">(<span class="params">shortest, current</span>) =&gt;</span> </span><br><span class="line">        shortest.<span class="property">length</span> &lt; current.<span class="property">length</span> ? shortest : current <span class="comment">// 选择最短路径</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: route[<span class="number">0</span>], <span class="attr">memory</span>: route.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;; <span class="comment">// 返回下一步方向和剩余路径</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="机器人比较"><a href="#机器人比较" class="headerlink" title="机器人比较"></a>机器人比较</h3><p><code>compareRobots</code> 用于比较两个机器人的性能：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compareRobots</span>(<span class="params">robot1, memory1, robot2, memory2</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> totalTurns1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> totalTurns2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> state = <span class="title class_">VillageState</span>.<span class="title function_">random</span>(); <span class="comment">// 随机生成初始状态</span></span><br><span class="line">      totalTurns1 += <span class="title function_">runRobot</span>(state, robot1, memory1); <span class="comment">// 运行第一个机器人</span></span><br><span class="line">      totalTurns2 += <span class="title function_">runRobot</span>(state, robot2, memory2); <span class="comment">// 运行第二个机器人</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 1 average turns: <span class="subst">$&#123;totalTurns1 / <span class="number">100</span>&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 2 average turns: <span class="subst">$&#123;totalTurns2 / <span class="number">100</span>&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后，比较目标导向机器人和效率机器人的表现：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">compareRobots</span>(goalOrientedRobot, [], efficientRobot, []);</span><br></pre></td></tr></table></figure><p>这段代码会运行两个机器人各100次，比较它们完成任务所需的平均回合数。</p><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><h3 id="Measuring-a-robot"><a href="#Measuring-a-robot" class="headerlink" title="Measuring a robot"></a>Measuring a robot</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 运行机器人并计算所需回合数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">runRobotCount</span>(<span class="params">state, robot, memory</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> turn = <span class="number">0</span>;; turn++) &#123; <span class="comment">// 从0开始记录回合数</span></span><br><span class="line">    <span class="keyword">if</span> (state.<span class="property">parcels</span>.<span class="property">length</span> == <span class="number">0</span>) &#123; <span class="comment">// 如果所有包裹都已送达</span></span><br><span class="line">      <span class="keyword">return</span> turn; <span class="comment">// 返回总回合数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> action = <span class="title function_">robot</span>(state, memory); <span class="comment">// 获取机器人下一步的动作</span></span><br><span class="line">    state = state.<span class="title function_">move</span>(action.<span class="property">direction</span>); <span class="comment">// 根据机器人的指示移动</span></span><br><span class="line">    memory = action.<span class="property">memory</span>; <span class="comment">// 更新机器人的记忆</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 比较两个机器人的表现</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compareRobots</span>(<span class="params">robot1, memory1, robot2, memory2</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> totalTurns1 = <span class="number">0</span>, totalTurns2 = <span class="number">0</span>; <span class="comment">// 初始化两个机器人所用的总回合数</span></span><br><span class="line">  <span class="keyword">let</span> tasks = <span class="number">100</span>; <span class="comment">// 设置任务数量为100</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; tasks; i++) &#123; <span class="comment">// 循环运行100次</span></span><br><span class="line">    <span class="keyword">let</span> state = <span class="title class_">VillageState</span>.<span class="title function_">random</span>(); <span class="comment">// 随机生成初始状态</span></span><br><span class="line">    totalTurns1 += <span class="title function_">runRobotCount</span>(state, robot1, memory1); <span class="comment">// 运行第一个机器人并累计回合数</span></span><br><span class="line">    totalTurns2 += <span class="title function_">runRobotCount</span>(state, robot2, memory2); <span class="comment">// 运行第二个机器人并累计回合数</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 输出每个机器人完成任务所需的平均回合数</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 1 averaged <span class="subst">$&#123;totalTurns1 / tasks&#125;</span> turns per task`</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 2 averaged <span class="subst">$&#123;totalTurns2 / tasks&#125;</span> turns per task`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 比较预定义路径机器人和目标导向机器人的表现</span></span><br><span class="line"><span class="title function_">compareRobots</span>(routeRobot, [], goalOrientedRobot, []);</span><br></pre></td></tr></table></figure><h3 id="Robot-efficiency"><a href="#Robot-efficiency" class="headerlink" title="Robot efficiency"></a>Robot efficiency</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 找到从起点到多个目标中最短的路线</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findShortestRoute</span>(<span class="params">graph, <span class="keyword">from</span>, goals</span>) &#123;</span><br><span class="line">  <span class="comment">// 对每个目标调用 findRoute 函数，返回所有路径</span></span><br><span class="line">  <span class="keyword">let</span> routes = goals.<span class="title function_">map</span>(<span class="function"><span class="params">goal</span> =&gt;</span> <span class="title function_">findRoute</span>(graph, <span class="keyword">from</span>, goal));</span><br><span class="line">  <span class="comment">// 通过 reduce 方法找到最短的路径</span></span><br><span class="line">  <span class="keyword">return</span> routes.<span class="title function_">reduce</span>(<span class="function">(<span class="params">shortest, current</span>) =&gt;</span> </span><br><span class="line">    shortest.<span class="property">length</span> &lt; current.<span class="property">length</span> ? shortest : current</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 高效机器人，选择最优路径来传递包裹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">efficientRobot</span>(<span class="params">&#123;place, parcels&#125;, route</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (route.<span class="property">length</span> == <span class="number">0</span>) &#123; <span class="comment">// 如果当前没有预定的路径</span></span><br><span class="line">    <span class="keyword">let</span> routes = []; <span class="comment">// 存储所有可能的路径</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> parcel <span class="keyword">of</span> parcels) &#123; <span class="comment">// 遍历每个包裹</span></span><br><span class="line">      <span class="keyword">if</span> (parcel.<span class="property">place</span> != place) &#123;</span><br><span class="line">        <span class="comment">// 如果包裹还没被捡起，找到去包裹位置的路径</span></span><br><span class="line">        routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">place</span>));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果包裹已捡起，找到去目标地址的路径</span></span><br><span class="line">        routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">address</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 选择所有路径中最短的一条</span></span><br><span class="line">    route = routes.<span class="title function_">reduce</span>(<span class="function">(<span class="params">shortest, current</span>) =&gt;</span> </span><br><span class="line">      shortest.<span class="property">length</span> &lt; current.<span class="property">length</span> ? shortest : current</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 返回机器人下一步的方向和更新后的记忆</span></span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">direction</span>: route[<span class="number">0</span>], <span class="attr">memory</span>: route.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">runRobotAnimation</span>(<span class="title class_">VillageState</span>.<span class="title function_">random</span>(), efficientRobot, []);</span><br></pre></td></tr></table></figure><h3 id="Persistent-group"><a href="#Persistent-group" class="headerlink" title="Persistent group"></a>Persistent group</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PGroup</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">members</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = members; <span class="comment">// 初始化成员列表</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 添加新成员</span></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">has</span>(value)) <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">// 如果成员已经存在，返回当前对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PGroup</span>(<span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">concat</span>(value)); <span class="comment">// 否则，创建新对象并添加新成员</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 删除成员</span></span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">has</span>(value)) <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">// 如果成员不存在，返回当前对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PGroup</span>(<span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">m</span> =&gt;</span> m !== value)); <span class="comment">// 否则，创建新对象并删除指定成员</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 检查成员是否存在</span></span><br><span class="line">  <span class="title function_">has</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">includes</span>(value); <span class="comment">// 返回成员是否在列表中</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 定义一个静态属性，表示一个空的 PGroup 实例</span></span><br><span class="line">  <span class="keyword">static</span> empty = <span class="keyword">new</span> <span class="title class_">PGroup</span>([]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试实现</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="title class_">PGroup</span>.<span class="property">empty</span>.<span class="title function_">add</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// 向空组添加 &#x27;a&#x27;</span></span><br><span class="line"><span class="keyword">let</span> ab = a.<span class="title function_">add</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// 向包含 &#x27;a&#x27; 的组添加 &#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = ab.<span class="title function_">delete</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// 从包含 &#x27;a&#x27; 和 &#x27;b&#x27; 的组删除 &#x27;a&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">has</span>(<span class="string">&quot;b&quot;</span>)); <span class="comment">// → true  检查 &#x27;b&#x27; 是否存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">has</span>(<span class="string">&quot;b&quot;</span>)); <span class="comment">// → false 检查 &#x27;b&#x27; 是否存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">has</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">// → false 检查 &#x27;a&#x27; 是否存在</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 06 Exercises</title>
      <link href="/2024/06/17/Eloquent-JavaScript-06-Exercises/"/>
      <url>/2024/06/17/Eloquent-JavaScript-06-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h1><p><a href="https://eloquentjavascript.net/06_object.html">To the book page</a>  </p><h2 id="A-vector-type"><a href="#A-vector-type" class="headerlink" title="A vector type"></a>A vector type</h2><p>封装一个类，实现坐标的加减法，以及get属性的length返回坐标离原点的距离。  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code here.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vec</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">plus</span>(<span class="params">other</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="variable language_">this</span>.<span class="property">x</span>+other.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>+other.<span class="property">y</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">minus</span>(<span class="params">other</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="variable language_">this</span>.<span class="property">x</span>-other.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>-other.<span class="property">y</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">length</span>()&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(<span class="variable language_">this</span>.<span class="property">x</span>**<span class="number">2</span>+<span class="variable language_">this</span>.<span class="property">y</span>**<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">1</span>, <span class="number">2</span>).<span class="title function_">plus</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">2</span>, <span class="number">3</span>)));</span><br><span class="line"><span class="comment">// → Vec&#123;x: 3, y: 5&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">1</span>, <span class="number">2</span>).<span class="title function_">minus</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">2</span>, <span class="number">3</span>)));</span><br><span class="line"><span class="comment">// → Vec&#123;x: -1, y: -1&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">3</span>, <span class="number">4</span>).<span class="property">length</span>);</span><br><span class="line"><span class="comment">// → 5</span></span><br></pre></td></tr></table></figure><h2 id="Groups"><a href="#Groups" class="headerlink" title="Groups"></a>Groups</h2><p>封装一个Group类，实现相当于Set的功能。  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Group</span> &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = [];  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">value</span>)&#123;</span><br><span class="line">   <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="title function_">has</span>(value))&#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">push</span>(value);  </span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">member</span> =&gt;</span> member!==value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">has</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">includes</span>(value);  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">from</span>(<span class="params">iterable</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> group = <span class="keyword">new</span> <span class="title class_">Group</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> iterable)&#123;</span><br><span class="line">      group.<span class="title function_">add</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> group;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> group = <span class="title class_">Group</span>.<span class="title function_">from</span>([<span class="number">10</span>, <span class="number">20</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(group.<span class="title function_">has</span>(<span class="number">10</span>));</span><br><span class="line"><span class="comment">// → true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(group.<span class="title function_">has</span>(<span class="number">30</span>));</span><br><span class="line"><span class="comment">// → false</span></span><br><span class="line">group.<span class="title function_">add</span>(<span class="number">10</span>);</span><br><span class="line">group.<span class="title function_">delete</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(group.<span class="title function_">has</span>(<span class="number">10</span>));</span><br><span class="line"><span class="comment">// → false</span></span><br></pre></td></tr></table></figure><h2 id="Iterable-groups"><a href="#Iterable-groups" class="headerlink" title="Iterable groups"></a>Iterable groups</h2><p>让上面的数组类可迭代。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code here (and the code from the previous exercise)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Group</span> &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = [];  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">value</span>)&#123;</span><br><span class="line">   <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="title function_">has</span>(value))&#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">push</span>(value);  </span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">member</span> =&gt;</span> member!==value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">has</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">includes</span>(value);  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">from</span>(<span class="params">iterable</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> group = <span class="keyword">new</span> <span class="title class_">Group</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> iterable)&#123;</span><br><span class="line">      group.<span class="title function_">add</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> group;</span><br><span class="line">  &#125;</span><br><span class="line">   [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()&#123;</span><br><span class="line">     <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">let</span> members = <span class="variable language_">this</span>.<span class="property">members</span>;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">       <span class="title function_">next</span>(<span class="params"></span>)&#123;</span><br><span class="line">         <span class="keyword">if</span>(index &lt; members.<span class="property">length</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> &#123;<span class="attr">value</span>:members[index++],<span class="attr">done</span>:<span class="literal">false</span>&#125;;</span><br><span class="line">         &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> &#123;<span class="attr">done</span>:<span class="literal">true</span>&#125;;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="title class_">Group</span>.<span class="title function_">from</span>([<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>])) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// → a</span></span><br><span class="line"><span class="comment">// → b</span></span><br><span class="line"><span class="comment">// → c</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 05 Exercises</title>
      <link href="/2024/06/17/Eloquent-JavaScript-05-Exercises/"/>
      <url>/2024/06/17/Eloquent-JavaScript-05-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h1><p>记录一下这本书的习题的答案，这是第五章的练习。</p><p><a href="https://eloquentjavascript.net/05_higher_order.html">To the book page</a>  </p><h2 id="Flattening"><a href="#Flattening" class="headerlink" title="Flattening"></a>Flattening</h2><p>将包含数组的数组展开，即只有一对中括号的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrays = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>]];</span><br><span class="line"><span class="comment">// Your code here.</span></span><br><span class="line"><span class="keyword">let</span> combineArrays = arrays.<span class="title function_">reduce</span>(<span class="function">(<span class="params">accumulator,currentArray</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> accumulator.<span class="title function_">concat</span>(currentArray);</span><br><span class="line">&#125;,[])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(combineArrays);</span><br><span class="line"><span class="comment">// → [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h2 id="Your-own-loop"><a href="#Your-own-loop" class="headerlink" title="Your own loop"></a>Your own loop</h2><p>如果不能满足条件（testAct）就不能继续循环。下一次循环要用新的值（updateAct），每次循环需要执行一定的操作（bodyAct）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code here.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">value, testAct, updateAct,bodyAct</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">testAct</span>(value)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="title function_">bodyAct</span>(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">loop</span>(<span class="title function_">updateAct</span>(value),testAct,updateAct,bodyAct);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loop</span>(<span class="number">3</span>, <span class="function"><span class="params">n</span> =&gt;</span> n &gt; <span class="number">0</span>, <span class="function"><span class="params">n</span> =&gt;</span> n - <span class="number">1</span>, <span class="variable language_">console</span>.<span class="property">log</span>);</span><br><span class="line"><span class="comment">// → 3</span></span><br><span class="line"><span class="comment">// → 2</span></span><br><span class="line"><span class="comment">// → 1</span></span><br></pre></td></tr></table></figure><h2 id="Everything"><a href="#Everything" class="headerlink" title="Everything"></a>Everything</h2><p>判断数组中所有元素是否都满足一定的条件，和some函数相反。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">every</span>(<span class="params">array, test</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="keyword">for</span>(item <span class="keyword">of</span> array)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">test</span>(item))&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//   return !array.some(element=&gt;!test(element));</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">every</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], <span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">10</span>));</span><br><span class="line"><span class="comment">// → true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">every</span>([<span class="number">2</span>, <span class="number">4</span>, <span class="number">16</span>], <span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">10</span>));</span><br><span class="line"><span class="comment">// → false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">every</span>([], <span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">10</span>));</span><br><span class="line"><span class="comment">// → true</span></span><br></pre></td></tr></table></figure><h2 id="Dominant-writing-direction"><a href="#Dominant-writing-direction" class="headerlink" title="Dominant writing direction"></a>Dominant writing direction</h2><p>找出文字中最主要的读法方向。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dominantDirection</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">    <span class="keyword">let</span> counted = <span class="title function_">countBy</span>(text,<span class="function"><span class="params">char</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> script = <span class="title function_">characterScript</span>(char.<span class="title function_">codePointAt</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> script ? script.<span class="property">direction</span> : <span class="string">&quot;none&quot;</span>;</span><br><span class="line">  &#125;).<span class="title function_">filter</span>(<span class="function">(<span class="params">&#123;name&#125;</span>) =&gt;</span> name!=<span class="string">&quot;none&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(counted.<span class="property">length</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;ltr&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> counted.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a.<span class="property">count</span>&gt;b.<span class="property">count</span>?<span class="attr">a</span>:b).<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">dominantDirection</span>(<span class="string">&quot;Hello!&quot;</span>));</span><br><span class="line"><span class="comment">// → ltr</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">dominantDirection</span>(<span class="string">&quot;Hey, مساء الخير&quot;</span>));</span><br><span class="line"><span class="comment">// → rtl</span></span><br></pre></td></tr></table></figure><p>这是<code>countBy</code>,作用是返回数组中满足要求的数量，groupName作为函数名称调用，返回属于当前item所属于的组名称，在这里有两个组别，分别是true组和false组，然后将所在组的数量加1:  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">countBy</span>(<span class="params">items, groupName</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> counts = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> items) &#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="title function_">groupName</span>(item);</span><br><span class="line">    <span class="keyword">let</span> known = counts.<span class="title function_">find</span>(c = c.<span class="property">name</span> == name);</span><br><span class="line">    <span class="keyword">if</span> (!known) &#123;</span><br><span class="line">      counts.<span class="title function_">push</span>(&#123;name, <span class="attr">count</span>: <span class="number">1</span>&#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      known.<span class="property">count</span>++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> counts;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">countBy</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="function"><span class="params">n</span> =&gt;</span> n &gt; <span class="number">2</span>));</span><br><span class="line"><span class="comment">// → [&#123;name: false, count: 2&#125;, &#123;name: true, count: 3&#125;]</span></span><br></pre></td></tr></table></figure><p>这是<code>characterScript</code>，作用是判断code属于哪一种语言。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">characterScript</span>(<span class="params">code</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> script <span class="keyword">of</span> <span class="variable constant_">SCRIPTS</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (script.<span class="property">ranges</span>.<span class="title function_">some</span>(<span class="function">(<span class="params">[<span class="keyword">from</span>, to]</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> code &gt;= <span class="keyword">from</span> &amp;&amp; code &lt; to;</span><br><span class="line">    &#125;)) &#123;</span><br><span class="line">      <span class="keyword">return</span> script;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">characterScript</span>(<span class="number">121</span>));</span><br><span class="line"><span class="comment">// → &#123;name: &quot;Latin&quot;, …&#125;</span></span><br></pre></td></tr></table></figure><p><code>SCRIPTS</code>类型的格式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Coptic&quot;</span>,</span><br><span class="line">  <span class="attr">ranges</span>: [[<span class="number">994</span>, <span class="number">1008</span>], [<span class="number">11392</span>, <span class="number">11508</span>], [<span class="number">11513</span>, <span class="number">11520</span>]],</span><br><span class="line">  <span class="attr">direction</span>: <span class="string">&quot;ltr&quot;</span>,</span><br><span class="line">  <span class="attr">year</span>: -<span class="number">200</span>,</span><br><span class="line">  <span class="attr">living</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">link</span>: <span class="string">&quot;https://en.wikipedia.org/wiki/Coptic_alphabet&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用Github Desktop简化你的推送流程</title>
      <link href="/2024/06/12/%E7%94%A8github-Desktop%E7%AE%80%E5%8C%96%E4%BD%A0%E7%9A%84%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B/"/>
      <url>/2024/06/12/%E7%94%A8github-Desktop%E7%AE%80%E5%8C%96%E4%BD%A0%E7%9A%84%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="用Github-Desktop简化你的推送流程"><a href="#用Github-Desktop简化你的推送流程" class="headerlink" title="用Github Desktop简化你的推送流程"></a>用Github Desktop简化你的推送流程</h1><p><a href="https://desktop.github.com/">Github Desktop官方网站</a></p><h2 id="1-第三方仓库克隆"><a href="#1-第三方仓库克隆" class="headerlink" title="1. 第三方仓库克隆"></a>1. 第三方仓库克隆</h2><h3 id="选择file-clone-repository"><a href="#选择file-clone-repository" class="headerlink" title="选择file-&gt;clone repository,"></a>选择file-&gt;clone repository,</h3><p><img src="/../images/githubDesktop/chooseclone.png" alt="chooseClone"></p><h3 id="通过URL克隆你的仓库"><a href="#通过URL克隆你的仓库" class="headerlink" title="通过URL克隆你的仓库"></a>通过URL克隆你的仓库</h3><p>选择URL，里面填你的第三方仓库的https克隆链接，注意要填写公网地址而不是内网地址。  </p><p><img src="/../images/githubDesktop/writeURL.png" alt="writeURL"></p><p><strong>注意选择你保存仓库的本地位置</strong>  </p><p>点击clone后应该会弹出让你输入用户名和密码，如果是gitlab，直接输入你登录gitlab的用户名和密码。  </p><p>到此为止应该是可以克隆仓库到本地了。之后的操作，和一般的git操作是一致的，不过是有了图形化的界面，不用输入繁琐的命令。</p><h2 id="2-add-和-commit"><a href="#2-add-和-commit" class="headerlink" title="2. add 和 commit"></a>2. add 和 commit</h2><p>直接到app界面，一旦仓库有文件更改，app界面会罗列出你更新文件的内容，需要你进行commit操作。  </p><p><img src="/../images/githubDesktop/commit.png" alt="commit"></p><h2 id="3-push"><a href="#3-push" class="headerlink" title="3. push"></a>3. push</h2><p>处理完所有的commit后就可以进行推送了，直接点击界面右边的push origin 即可。</p><p><img src="/../images/githubDesktop/push.png" alt="push"></p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chess For Three</title>
      <link href="/2024/05/22/check-for-three/"/>
      <url>/2024/05/22/check-for-three/</url>
      
        <content type="html"><![CDATA[<h1 id="Chess-For-Three"><a href="#Chess-For-Three" class="headerlink" title="Chess For Three"></a>Chess For Three</h1><p>这是Codeforces Round 945 (Div. 2) 第一题。  </p><p><a href="https://codeforces.com/contest/1973/problem/A">题目链接</a>  </p><h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>三个人玩游戏，每局两个人玩。赢得人得2分，输的人得0分。平局每个人得1分。会给你三个人的最终得分，问最多平局多少局。</p><h2 id="重点记录"><a href="#重点记录" class="headerlink" title="重点记录"></a>重点记录</h2><p>这里题确实不难，但是有一个样例因为没有给怎么算的导致我一直以为样例给错了。。。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3 4 5</span><br><span class="line">6</span><br></pre></td></tr></table></figure><p>3分4分5分，最大平局数是6。  </p><p>我最一开始想的是a和b平局3次，b还剩一局和c平局，这是4次。a和c平局3次，b和c平局2次，这是5次。<br>但是样例给的是6次。</p><p>6次的情况应该是<strong>c和a平局2次，c和b平局3次，a和b平局1次</strong>，这样就是6次。这真的是太amazing了。</p><h2 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h2><p>可以直接暴力枚举a和b，a和c，b和c平局次数，然后判断分数是否合法。除去平局的分数，剩下的分数应该<code>left%2==0</code>。  </p><p>但是还有结论， <code>min((p1+p2+p3)/2,p1+p2)</code>，这里保证<code>p1&lt;=p2&lt;=p3</code>。  </p><p>先考虑合不合法，三个数加一起如果是偶数就一定合法。  </p><p>其次，如果<code>p1+p2&lt;=p3</code>，那么情况应该是a和c平局p1次，b和c平局p2次。这就是最大的平局数。  </p><p>如果<code>p1+p2&gt;p3</code>，相当于<code>p1&gt;p3-p2</code>。a可以和c玩p3-p2次，相当于a剩余分数为<code>p1-(p3-p2)</code>，这个分数一定是偶数。a还可以和b和c分别玩<code>(p1-(p3-p2))/2</code>次。这里a和其他人的平局数就是p1。b和c还可以平局<code>p2-(p1-(p3-p2))/2)</code>次。加一起就是<code>(p1+p2+p3)/2</code>。</p><p>标程核心：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; (v[<span class="number">0</span>] + v[<span class="number">1</span>] + v[<span class="number">2</span>] - <span class="built_in">max</span>(<span class="number">0</span>, v[<span class="number">2</span>] - v[<span class="number">0</span>] - v[<span class="number">1</span>])) / <span class="number">2</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br></pre></td></tr></table></figure><p>暴力正解：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> p1,p2,p3;</span><br><span class="line">        cin&gt;&gt;p1&gt;&gt;p2&gt;&gt;p3;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="comment">// i d12,j d13,k d23</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">30</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">30</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;=<span class="number">30</span>;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(p1-i-j&gt;=<span class="number">0</span>&amp;&amp;(p1-i-j)%<span class="number">2</span>==<span class="number">0</span> &amp;&amp;</span><br><span class="line">                       p2-i-k&gt;=<span class="number">0</span>&amp;&amp;(p2-i-k)%<span class="number">2</span>==<span class="number">0</span> &amp;&amp;</span><br><span class="line">                       p3-j-k&gt;=<span class="number">0</span>&amp;&amp;(p3-j-k)%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                        ans = <span class="built_in">max</span>(ans,i+j+k);    </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans!=<span class="number">-1</span>) cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
            <tag> 数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Prison Escape</title>
      <link href="/2024/05/17/Prison-Escape/"/>
      <url>/2024/05/17/Prison-Escape/</url>
      
        <content type="html"><![CDATA[<h1 id="Prison-Escape"><a href="#Prison-Escape" class="headerlink" title="Prison Escape"></a>Prison Escape</h1><p>这是<code>codechef starter 134 div4</code>的第六题。<br><a href="https://www.codechef.com/problems/PRISON">题目链接</a></p><h2 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a>题目大意</h2><p>NxM的01矩阵，0代表罪犯，1代表守卫者。罪犯可以上下左右移动，计算罪犯最少需要经过几个守卫者才能逃出这个矩阵。我们要求出这些罪犯里边经过最少守卫者数量的最大值。<br>数据范围：<code>T 1000，N和M 3e5，NxM&lt;3e5</code>。</p><h2 id="赛时回顾"><a href="#赛时回顾" class="headerlink" title="赛时回顾"></a>赛时回顾</h2><p>一眼最短路，但是看见数据范围就没有去写代码。我觉得每个0点去执行最短路算法应该会超时。或者直接每个0进行bfs应该也会超时。</p><h2 id="正解"><a href="#正解" class="headerlink" title="正解"></a>正解</h2><p><strong>有个东西叫多源最短路</strong>。实际上我应该换位思考，不是去求0到边界的最短路，而是边界到0的最短路。多源最短路有两种方法，一是设置虚拟节点连接到所有源，二是直接把所有源节点压入队列中，不需要理会。</p><p>所以实际上这个题目是典型的<code>0-1BFS</code>问题。我们只需要将所有边界节点压入队列中，然后一点点向内更新距离即可。最后答案就是<code>d[i][j]</code>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        string a[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt; &gt; <span class="built_in">d</span>(n,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m,INT_MAX));</span><br><span class="line">        deque&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt; dq;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i==<span class="number">0</span>||j==<span class="number">0</span>||i==n<span class="number">-1</span>||j==m<span class="number">-1</span>)&#123;</span><br><span class="line">                    d[i][j]=a[i][j]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    <span class="keyword">if</span>(d[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">                        dq.<span class="built_in">push_front</span>(&#123;i,j&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> dq.<span class="built_in">push_back</span>(&#123;i,j&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> dx[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line">        <span class="type">int</span> dy[] = &#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">while</span>(!dq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            <span class="type">int</span> x = dq.<span class="built_in">front</span>().first;</span><br><span class="line">            <span class="type">int</span> y = dq.<span class="built_in">front</span>().second;</span><br><span class="line">            dq.<span class="built_in">pop_front</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">                <span class="type">int</span> xx = x+dx[i];</span><br><span class="line">                <span class="type">int</span> yy = y+dy[i];</span><br><span class="line">                <span class="keyword">if</span>(xx&lt;<span class="number">0</span>||yy&lt;<span class="number">0</span>||xx&gt;=n||yy&gt;=m) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                <span class="type">int</span> weight = a[xx][yy]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>(d[x][y]+weight&lt;d[xx][yy])&#123;</span><br><span class="line">                    d[xx][yy]=d[x][y]+weight;</span><br><span class="line">                    <span class="keyword">if</span>(weight==<span class="number">0</span>)&#123;</span><br><span class="line">                        dq.<span class="built_in">push_front</span>(&#123;xx,yy&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> dq.<span class="built_in">push_back</span>(&#123;xx,yy&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i][j]==<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans,d[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 01BFS </tag>
            
            <tag> 多源最短路 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3 out 1 in</title>
      <link href="/2024/05/16/3-out-1-in/"/>
      <url>/2024/05/16/3-out-1-in/</url>
      
        <content type="html"><![CDATA[<h1 id="3out1in"><a href="#3out1in" class="headerlink" title="3out1in"></a>3out1in</h1><p><a href="https://www.codechef.com/problems/OKLAMA">题目链接</a>  </p><h2 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a>题目大意</h2><p>这是<code>codechef starter 134 div4</code>的第五题。  </p><p>给你一个数组B，里面包含M个数字，其中M必定为奇数。操作是选出三个数字a,b,c, 这三个数字从数组里剔除，数组中重新加入成员<code>a+b-c</code>。可以看出来每一次操作会让数组少两个元素，问最后剩下一个元素的最大值是多少。其中有多个询问，询问内容是如果只有前k个元素，剩下的最后一个元素最大值是多少。</p><h2 id="赛时回顾"><a href="#赛时回顾" class="headerlink" title="赛时回顾"></a>赛时回顾</h2><p>我在第一次做这道题的时候就直接考虑到了用优先队列。显然最优解是每次选两个最大值，然后减去最小值。原数组我用数组<code>a</code>存储，每次将前<code>k</code>个元素送入优先队列和数组<code>b</code>中，数组<code>b</code>进行排序用来获得最小值，优先队列获取最大值。成功拿到30分的部分分，其他测试会超时。</p><h2 id="正解"><a href="#正解" class="headerlink" title="正解"></a>正解</h2><p>官方题解思路让我恍然大悟。<strong>永远记得可以用空间换取时间</strong>。既然可以用一个优先队列，那么我们就可以用两个优先队列。虽然我们不知道给出的qurey里<code>k</code>的值是多少，但是我们可以用<code>ans</code>数组记录所有对应k值的答案。  </p><p>首先就要考虑随着数组元素的增加，状态是如何转移的。我们可以将现有元素分成两组，一个是<code>samll</code>组，一个是<code>large</code>组。<code>small</code>组是所有会被减去的数字，<code>large</code>组是所有会被加上的数字。每次需要两个<code>large</code>组的元素相加，一个<code>small</code>组的元素被减，但是得到的数字还应该被保留在<code>large</code>数组里。可以推断出，<code>large</code>数组元素个数应该永远比<code>small</code>数组多1。</p><p>事实上我们并不需要将真的每次操作得到的数字压到优先队列里面。因为每个数字只有两种可能，被赋予加号，代表和其他元素相加，被赋予减号，代表被减去。符号确定后所有元素的和是不会变的。我们只需要计算现在<code>small</code>组里元素的总和<code>sumin</code>，<code>large</code>组里元素的总和<code>sumax</code>，然后答案就是<code>sumax-sumin</code>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[mxlen];</span><br><span class="line">ll ans[mxlen];</span><br><span class="line"><span class="type">int</span> n,q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    priority_queue&lt;ll&gt; pqmin;</span><br><span class="line">    priority_queue&lt;ll&gt; pqmax;</span><br><span class="line">    ll sumin = <span class="number">0</span>;</span><br><span class="line">    ll sumax = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        pqmin.<span class="built_in">push</span>(a[i]);</span><br><span class="line">        sumin+=a[i];</span><br><span class="line">        <span class="comment">//这里表达式的意思是pqmin.size()要永远少一个</span></span><br><span class="line">        <span class="keyword">while</span>(pqmin.<span class="built_in">size</span>()&gt;=pqmax.<span class="built_in">size</span>())&#123;</span><br><span class="line">            ll mi = pqmin.<span class="built_in">top</span>();</span><br><span class="line">            pqmin.<span class="built_in">pop</span>();</span><br><span class="line">            pqmax.<span class="built_in">push</span>(-mi);</span><br><span class="line">            sumax+=mi;</span><br><span class="line">            sumin-=mi;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!pqmin.<span class="built_in">empty</span>()&amp;&amp;pqmin.<span class="built_in">top</span>()&gt;-pqmax.<span class="built_in">top</span>())&#123;</span><br><span class="line">            ll mi = pqmin.<span class="built_in">top</span>();</span><br><span class="line">            ll ma = -pqmax.<span class="built_in">top</span>();</span><br><span class="line">            pqmin.<span class="built_in">pop</span>(); pqmax.<span class="built_in">pop</span>();</span><br><span class="line">            pqmin.<span class="built_in">push</span>(ma);</span><br><span class="line">            pqmax.<span class="built_in">push</span>(-mi);</span><br><span class="line">            sumin = sumin-mi+ma;</span><br><span class="line">            sumax = sumax-ma+mi;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ans[i]=sumax-sumin;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> T;</span><br><span class="line">cin&gt;&gt;T;</span><br><span class="line"><span class="keyword">while</span>(T--)&#123;</span><br><span class="line">    </span><br><span class="line">    cin&gt;&gt;n&gt;&gt;q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="built_in">work</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">        <span class="type">int</span> k;</span><br><span class="line">        cin&gt;&gt;k;</span><br><span class="line">            cout&lt;&lt;ans[k]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 优先队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round 944 (Div. 4) 回顾</title>
      <link href="/2024/05/11/Codeforces-Round-944-Div-4-%E5%9B%9E%E9%A1%BE/"/>
      <url>/2024/05/11/Codeforces-Round-944-Div-4-%E5%9B%9E%E9%A1%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="Codeforces-Round-944-Div-4-回顾"><a href="#Codeforces-Round-944-Div-4-回顾" class="headerlink" title="Codeforces Round 944 (Div. 4) 回顾"></a>Codeforces Round 944 (Div. 4) 回顾</h1><h2 id="比赛回顾"><a href="#比赛回顾" class="headerlink" title="比赛回顾"></a>比赛回顾</h2><p>赛中是AC了前四题，E答案错误，F超时。可以说是做到了最后五分钟，排名是6000多。  </p><p><a href="https://codeforces.com/contest/1971">比赛链接</a>  </p><p><a href="https://codeforces.com/blog/entry/129364">官方题解链接</a>  </p><h2 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a>题目分析</h2><p>AB就直接跳过了，纯签到。 </p><h3 id="C-Clock-and-Strings"><a href="#C-Clock-and-Strings" class="headerlink" title="C. Clock and Strings"></a>C. Clock and Strings</h3><p>C题意思是给出表中两对数字，看每对数字连接的线是否相交。我的思路是只要一条线的一个端点在另一条线的区间内，切另一端在区间外即可断定这两条线是相交的。</p><p>为了更好的进行区分，我进行了排序，其中满足<code>a&lt;c a&lt;b c&lt;d</code>。</p><p>我觉得不能直接去写，表上的数字是1到12，对于一条线，一个端点是1，另一个端点是10，其中11和12其实是在线的包围内的，所以我给所有小于6的数字加了12，区间变成了6到17，然后判断是否<code>c</code>在<code>a</code>和<code>b</code>之间,<code>d</code>在<code>a</code>和<code>b</code>之外。<br>但是我今天才发现我的判断语句竟然是这样的：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((a&lt;c&amp;&amp;c&lt;b)||(a&lt;d&amp;&amp;d&lt;b)) cout&lt;&lt;<span class="string">&quot;YES&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl;</span><br></pre></td></tr></table></figure><p>我究竟是怎么过了这题的所有数据，只判断了一端在区间内就过了，根本没看是否另一端是否在区间外。。。  </p><p>官方题解就很有意思，他是从1到12遍历，记录一个字符串，如果碰到第一条线的端点，字符串就加一个’a’，碰到另一条线的端点，字符串就加一个’b’，这样如果答案是’abab’或者’baba’就说明有一条线的端点在另一条线区间内而且另一端点在区间外，非常巧妙。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a, b, c, d;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == a || i == b) &#123;s += <span class="string">&quot;a&quot;</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (i == c || i == d) &#123;s += <span class="string">&quot;b&quot;</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; (s == <span class="string">&quot;abab&quot;</span> || s == <span class="string">&quot;baba&quot;</span> ? <span class="string">&quot;YES\n&quot;</span> : <span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="D-Binary-Cut"><a href="#D-Binary-Cut" class="headerlink" title="D. Binary Cut"></a>D. Binary Cut</h3><p>将01数组剪切成最少的组，使能够让这些组自由组合后成为一个0全部在前面，1全部在后面的数组。  </p><p>很遗憾我的AC代码被场后Hack数据卡掉了。这里思路就是相邻的1或者0分成一组，这样就分成了很多个1的组合和很多个0的组合，但是有一点需要注意，因为最终我们需要的数组是0在前1在后，所以如果有<code>01</code>出现的话，我们可以少分一组，比如<code>10001</code>我们不是分成三组<code>1</code>、<code>000</code>、<code>1</code>,而是<code>1</code>和<code>0001</code>两组。因为分界点只有一个，所以如果有一个<code>01</code>出现，答案我们减去1即可。  </p><p>同样这题的官方题解也很有趣。他在判断是否有<code>01</code>出现时采用了位运算，<del>而不是像我一样写丑陋的if语句</del>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string s;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line"><span class="type">bool</span> ex = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i + <span class="number">1</span> &lt; (<span class="type">int</span>)(s.<span class="built_in">size</span>()); i++) &#123;</span><br><span class="line">res += (s[i] != s[i + <span class="number">1</span>]);</span><br><span class="line">ex |= (s[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; s[i + <span class="number">1</span>] == <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; res - ex &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="E-Find-the-Car"><a href="#E-Find-the-Car" class="headerlink" title="E. Find the Car"></a>E. Find the Car</h3><p>这题就是很简单的物理里的算速度的题目。给出k个路上的点，然后给出到达每个点的时间，其中设定每两点之间的速度是常数，也就是每一段路都是匀速。我们需要找到到达某一个点（不一定是给出的点）所花费的时间。但是比赛时我以为给出的时间是前一个点到下一个点的时间，所以用前缀和算的时间，样例竟然都过了。。。。注意我们要先用二分找到问的点是哪两个已知点之间。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="type">int</span> n,k,q;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k&gt;&gt;q;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>&gt; <span class="title">a</span><span class="params">(k+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">            cin&gt;&gt;a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>&gt; <span class="title">b</span><span class="params">(k+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>&gt; <span class="title">sum</span><span class="params">(k+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">            cin&gt;&gt;b[i];</span><br><span class="line">            sum[i]=sum[i<span class="number">-1</span>]+b[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">            <span class="type">int</span> pos;</span><br><span class="line">            cin&gt;&gt;pos;</span><br><span class="line">            <span class="type">int</span> l=<span class="number">1</span>,r=k;</span><br><span class="line">            <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">                <span class="type">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(a[mid]&gt;=pos)&#123;</span><br><span class="line">                    r=mid;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    l=mid+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            a[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            b[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            sum[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            l--;</span><br><span class="line">            <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ans= <span class="number">0</span>;</span><br><span class="line">            ans = b[l]+((<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>)pos-a[l])*(b[r]-b[l])/(a[r]-a[l]);</span><br><span class="line">            cout&lt;&lt;ans&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="F-Circle-Perimeter"><a href="#F-Circle-Perimeter" class="headerlink" title="F. Circle Perimeter"></a>F. Circle Perimeter</h3><p>在笛卡尔坐标系中找到与原点的直线距离大于r小于r+1的点的个数。  </p><p>因为数据很大不能纯暴力找。坐标系都是对称的，所以只需要算第一象限加y轴或者x轴然后答案x4即可。  </p><p>官方题解的意思是x轴0到1遍历，先将y坐标设置为r。显然x只会越来越大，如果想要满足要求y就必须越来越小。先将y控制到点到原点距离小于r+1的高度，然后y继续减的同时ans++，直到距离小于r，x增加后继续此操作。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> r;</span><br><span class="line">    cin &gt;&gt; r;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> height = r;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt;= r; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(i*i+height*height &gt;= (r+<span class="number">1</span>)*(r+<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            height--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> cop = height;</span><br><span class="line">        <span class="keyword">while</span>(i*i+cop*cop &gt;= r*r &amp;&amp; cop &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cop--;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans*<span class="number">4</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="G-XOUR"><a href="#G-XOUR" class="headerlink" title="G. XOUR"></a>G. XOUR</h3><p>这题就是给你n个数字，如果两个数之间XOR操作后小于等于4，那么这两个数是可以换位置的。求换位后字典序最小的数列。  </p><p>先把所有数字以二进制的方式看待，不难发现如果两个数XOR操作后如果小于等于4，说明除了后两位，其他位置的0或者1是完全一样的，这样才能让前面的数异或后变成0。我们需要把所有除了后两位前面位全部相同的数字分到一个组里面，这样一个组里面的数字位置是可以随意互换的。</p><p>官方题解非常巧妙地运用了C++的STL。使用了一个map，key是<code>a[i]&gt;&gt;2</code>，value是一个<code>priority_queue</code>，这样就可以将所有前面位一样的存在一个优先队列里面。在取数字的时候，排在队列前面的就是一个组里面字典序最小的数字。注意，优先队列默认是大根堆，所以我们需要存的是每个数的相反数。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">    map&lt;<span class="type">int</span>, priority_queue&lt;<span class="type">int</span>&gt;&gt; mp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        mp[a[i]&gt;&gt;<span class="number">2</span>].<span class="built_in">push</span>(-a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; -mp[a[i]&gt;&gt;<span class="number">2</span>].<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        mp[a[i]&gt;&gt;<span class="number">2</span>].<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="H-±1"><a href="#H-±1" class="headerlink" title="H. ±1"></a>H. ±1</h3><p>这是一个关于<a href="https://en.wikipedia.org/wiki/Boolean_satisfiability_problem">SAT</a>的题目，暂时不会。</p>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装完整版Xcode后我的C++万能库不见了</title>
      <link href="/2024/05/11/%E5%AE%89%E8%A3%85%E5%AE%8C%E6%95%B4%E7%89%88Xcode%E5%90%8E%E6%88%91%E7%9A%84C-%E4%B8%87%E8%83%BD%E5%BA%93%E4%B8%8D%E8%A7%81%E4%BA%86/"/>
      <url>/2024/05/11/%E5%AE%89%E8%A3%85%E5%AE%8C%E6%95%B4%E7%89%88Xcode%E5%90%8E%E6%88%91%E7%9A%84C-%E4%B8%87%E8%83%BD%E5%BA%93%E4%B8%8D%E8%A7%81%E4%BA%86/</url>
      
        <content type="html"><![CDATA[<h1 id="安装完整版Xcode后我的C-万能库不见了"><a href="#安装完整版Xcode后我的C-万能库不见了" class="headerlink" title="安装完整版Xcode后我的C++万能库不见了"></a>安装完整版Xcode后我的C++万能库不见了</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>昨天因为安装了<code>flutter</code>的原因，因为这个需要完整版<code>Xcode</code>，之前都是安装的命令行版本的，所以直接去苹果应用商店安装了。但是万万没想到的是，完整版<code>Xcode</code>竟然更改了我使用的<code>Clang</code>地址。他更改到了<code>Applications</code>文件夹下的完整版<code>Xcode</code>里面。看来是<code>Xcode</code>自带了<code>Clang</code>然后就直接更改了默认地址。  </p><p>好巧不巧昨天<code>codeforces Round 944</code>开赛前三分钟我才发现了问题。因为我的万能库引用不能用了。还好我有在博客写过<a href="https://blog.whff521.xyz/2024/04/13/mac%E7%94%B5%E8%84%91vscode%E7%9A%84c-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/">mac电脑vscode的c++运行配置</a>。所以只花了五分钟就添加好了万能库文件。不过我所经历的和上篇文章有所不同。所以在此记录一下。  </p><h2 id="在完整Xcode里添加万能库文件"><a href="#在完整Xcode里添加万能库文件" class="headerlink" title="在完整Xcode里添加万能库文件"></a>在完整<code>Xcode</code>里添加万能库文件</h2><ol><li>同样是在终端里输入<code>echo | g++ -v -x c++ -E -</code>, 其中<code>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include</code>是我们要修改的路径。</li><li>修改include文件夹的访问权限为读写。<code>sudo chmod 777 /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include</code>。</li><li>创建<code>bits</code>文件夹并进入。<code>mkdir bits</code>, <code>cd bits/</code>。这里电脑会提示消息，因为我终端用的是<code>Iterm2</code>，提示我这个软件想要修改<code>Applications</code>文件里的东西，是否给权限，点开消息在设置里允许就可以。</li><li>创建<code>stdc++.h</code>，<code>touch stdc++.h</code></li><li>这里如果直接 <code>open stdc++.h</code> 的话会发现默认是<code>Xcode</code>打开的，想使用<code>Vscode</code>打开使用<code>code stdc++.h</code>即可。同样系统会消息提示是否给权限修改，选择允许即可。</li><li>将代码复制粘帖即可。</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ includes used for precompiling -*- C++ -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Copyright (C) 2003-2014 Free Software Foundation, Inc.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This file is part of the GNU ISO C++ Library.  This library is free</span></span><br><span class="line"><span class="comment">// software; you can redistribute it and/or modify it under the</span></span><br><span class="line"><span class="comment">// terms of the GNU General Public License as published by the</span></span><br><span class="line"><span class="comment">// Free Software Foundation; either version 3, or (at your option)</span></span><br><span class="line"><span class="comment">// any later version.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful,</span></span><br><span class="line"><span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="comment">// GNU General Public License for more details.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Under Section 7 of GPL version 3, you are granted additional</span></span><br><span class="line"><span class="comment">// permissions described in the GCC Runtime Library Exception, version</span></span><br><span class="line"><span class="comment">// 3.1, as published by the Free Software Foundation.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// You should have received a copy of the GNU General Public License and</span></span><br><span class="line"><span class="comment">// a copy of the GCC Runtime Library Exception along with this program;</span></span><br><span class="line"><span class="comment">// see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see</span></span><br><span class="line"><span class="comment">// &lt;http://www.gnu.org/licenses/&gt;.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/** @file stdc++.h</span></span><br><span class="line"><span class="comment"> *  This is an implementation file for a precompiled header.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 17.4.1.2 Headers</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _GLIBCXX_NO_ASSERT</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cerrno&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfloat&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ciso646&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;clocale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csetjmp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csignal&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdarg&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstddef&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ccomplex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfenv&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cinttypes&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdbool&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctgmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwchar&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C++</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ios&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iosfwd&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;istream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;new&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;streambuf&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;valarray&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;forward_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ratio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;regex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;scoped_allocator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;system_error&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeindex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="后话"><a href="#后话" class="headerlink" title="后话"></a>后话</h2><p>因为是直接在应用文件夹里改的，不知道以后更新软件后会不会消失，不过到时候在说吧，添加方法也比较简单。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将本机ipv6地址复制到粘贴板脚本</title>
      <link href="/2024/05/08/%E5%B0%86%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80%E5%A4%8D%E5%88%B6%E5%88%B0%E7%B2%98%E8%B4%B4%E6%9D%BF%E8%84%9A%E6%9C%AC/"/>
      <url>/2024/05/08/%E5%B0%86%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80%E5%A4%8D%E5%88%B6%E5%88%B0%E7%B2%98%E8%B4%B4%E6%9D%BF%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="将本机ipv6地址复制到粘贴板脚本"><a href="#将本机ipv6地址复制到粘贴板脚本" class="headerlink" title="将本机ipv6地址复制到粘贴板脚本"></a>将本机ipv6地址复制到粘贴板脚本</h1><p>准确的来说是将windows主机的ipv6地址复制到粘贴板上的<code>powershell</code>脚本。因为有时候需要远程连接我自己的R9000p，所以与其每次开机去命令行运行<code>ipconfig</code>，不如直接复制到粘贴板里，这样就可以直接打开邮件将地址发送出去。本来想写一个一件发送ipv6地址到指定邮箱的脚本，但是好像很麻烦，就算了。代码由chatgpt生成，再根据我的实际情况改写的。  </p><h2 id="设备配置"><a href="#设备配置" class="headerlink" title="设备配置"></a>设备配置</h2><p>windows为win11，由于学校校园网比较特殊，使用的是拨号上网，拨号名称我设置成了<code>DIANXIN</code>。  </p><p>在命令行中运行<code>ipconfig</code>后会显示很多网络适配器，其中我需要的是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Windows IP Configuration</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PPP adapter DIANXIN:</span><br><span class="line"></span><br><span class="line">Connection-specific DNS Suffix  . :</span><br><span class="line">IPv6 Address. . . . . . . . . . . : 240e:360:40b:200:XXXX:XXXX:fc48:XXX</span><br><span class="line">Link-local IPv6 Address . . . . . : fe80::XXXX:XXXX:fc48:XXX%64</span><br><span class="line">IPv4 Address. . . . . . . . . . . : XXX.XX.XXX.XX</span><br><span class="line">Subnet Mask . . . . . . . . . . . : 255.255.255.XXX</span><br><span class="line">Default Gateway . . . . . . . . . : XXXX::ce1a:XXXX:XXXX:bf80%64</span><br></pre></td></tr></table></figure><p>其中<code>IPv6 Address</code>是我想要的。</p><h2 id="脚本代码"><a href="#脚本代码" class="headerlink" title="脚本代码"></a>脚本代码</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取网络适配器的全局 IPv6 地址</span></span><br><span class="line"><span class="variable">$ipv6Addresses</span> = (<span class="built_in">Get-NetIPAddress</span> <span class="literal">-AddressFamily</span> IPv6 | </span><br><span class="line">                  <span class="built_in">Where-Object</span> &#123; <span class="variable">$_</span>.InterfaceAlias <span class="operator">-eq</span> <span class="string">&quot;DIANXIN&quot;</span> <span class="operator">-and</span> <span class="variable">$_</span>.PrefixOrigin <span class="operator">-ne</span> <span class="string">&quot;LinkLayerAddress&quot;</span> &#125;).IPAddress</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取第二个全局 IPv6 地址</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$ipv6Addresses</span>.Count <span class="operator">-ge</span> <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="variable">$ipv6Address</span> = <span class="variable">$ipv6Addresses</span>[<span class="number">1</span>]  <span class="comment"># 第二个地址的索引为 1</span></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Second IPv6 Address: <span class="variable">$ipv6Address</span>&quot;</span></span><br><span class="line">    <span class="variable">$ipv6Address</span> | <span class="built_in">Set-Clipboard</span>  <span class="comment"># 将 IPv6 地址复制到剪贴板</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Second IPv6 Address not found for specified network adapter.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="代码解释"><a href="#代码解释" class="headerlink" title="代码解释"></a>代码解释</h2><ol><li><p><code>$ipv6Addresses = (Get-NetIPAddress -AddressFamily IPv6 | Where-Object &#123; $_.InterfaceAlias -eq &quot;DIANXIN&quot; -and $_.PrefixOrigin -ne &quot;LinkLayerAddress&quot; &#125;).IPAddress</code>：<br>这行代码获取特定网络适配器（InterfaceAlias为”DIANXIN”）的全局 IPv6 地址，并将结果存储在 <code>$ipv6Addresses</code> 变量中。</p></li><li><p><code>if ($ipv6Addresses.Count -ge 2) &#123;</code>：<br>这是一个条件语句，用于检查变量 <code>$ipv6Addresses</code> 中存储的 IPv6 地址数量是否至少为 2。</p></li><li><p><code>$ipv6Address = $ipv6Addresses[1]</code>：<br>如果存在至少两个 IPv6 地址，那么这行代码将第二个 IPv6 地址（索引为 1）存储在 <code>$ipv6Address</code> 变量中。</p></li><li><p><code>Write-Host &quot;Second IPv6 Address: $ipv6Address&quot;</code>：<br>这行代码输出第二个 IPv6 地址到控制台，并在前面添加一条消息 “Second IPv6 Address: “。</p></li><li><p><code>$ipv6Address | Set-Clipboard</code>：<br>这行代码将第二个 IPv6 地址复制到剪贴板中，以便将其粘贴到其他应用程序中使用。</p></li><li><p><code>&#125; else &#123;</code>：<br>这是条件语句的结尾，用于处理当 IPv6 地址数量小于 2 时的情况。</p></li><li><p><code>Write-Host &quot;Second IPv6 Address not found for specified network adapter.&quot;</code>：<br>如果 IPv6 地址数量小于 2，那么这行代码输出一条消息到控制台，提示找不到第二个 IPv6 地址。</p></li><li><p><code>Read-Host -Prompt &quot;Press Enter to exit&quot;</code>：<br>这行代码在脚本执行完毕后等待用户按下 Enter 键，以保持 PowerShell 会话处于打开状态。</p></li></ol><p>因为脚本会获取到两个<code>ipv6</code>地址，一个内网地址和一个外网地址，外网地址是第二个，所以选择了第二个地址。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ipv6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Project 1: Data Structures</title>
      <link href="/2024/05/05/Project-1-Data-Structures/"/>
      <url>/2024/05/05/Project-1-Data-Structures/</url>
      
        <content type="html"><![CDATA[<h1 id="Project-1-Data-Structures"><a href="#Project-1-Data-Structures" class="headerlink" title="Project 1: Data Structures"></a>Project 1: Data Structures</h1><h2 id="类值的相等判断永远用-equals-而不是"><a href="#类值的相等判断永远用-equals-而不是" class="headerlink" title="类值的相等判断永远用.equals()而不是=="></a><strong>类值的相等判断永远用<code>.equals()</code>而不是<code>==</code></strong></h2><p>花了近两天的时间终于是把Probject 1 完成了，完成了<code>LinkedListDeque</code>和<code>ArrayDeque</code>两种实现的<code>Deque</code>。在此就不再赘述数据结构的实现方法，<a href="https://github.com/WHFF521/skeleton-sp21/tree/master/proj1">代码地址</a>  </p><p>那么我要写一些什么呢？写一些我遇到的问题和bug。  </p><p><strong>这个bug实在是令人火大，这本是不应该出现的错误</strong>  </p><p>正如二级标题所说的，<strong>类值的相等判断永远用<code>.equals()</code>而不是<code>==</code><strong>。而且值得铭记的是，</strong>测试文件一定要扩大数据规模</strong>，因为扩大规模真的会发现意想不到的错误。</p><p>事情的起因是<code>public boolean equals(Object o)</code>这个函数，对于一个自己实现的数据类，这个方法是很有<code>Override</code>的必要的。因为两种数据类基本一样，这里我只用<code>LinkedListDeque</code>举例。  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* check if two deques are equal</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> o</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> true if they are equal, false otherwise</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Deque)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Deque&lt;?&gt; other = (Deque&lt;?&gt;) o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.size() != other.size()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="built_in">this</span>.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.get(i)!=other.get(i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码是有bug的，我写的时候这种是真的很难注意到。你有可能也没有注意到，接下来是<code>get()</code>函数的实现：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> index</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> the item at the given index, if no such item exists, return null</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> T <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="built_in">this</span>.size) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">current</span> <span class="operator">=</span> sentinal.next;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">        current = current.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> current.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>到这里其实就已经能看清楚问题所在了，<code>get()</code>函数返回的是类型<code>T</code>，是任意封装类，并不是基础数据类型。众所周知Java在比对类是否相等时，<code>==</code>操作符默认是比对类的地址是否一致，也就是看对方是否是自己。显然我们并不想这么做，我们需要比对的是内部存储的值是否相等。就像十张百元钞票和另外十张百元钞票，都是一千元，代表的价值是相同的，而不是因为钞票编号不同所以表示这两堆钞票是不相等的。  </p><p>相信学习过CS61B课程的同学都已经有了写测试代码的好习惯。我也是如此，但是很遗憾的是尽管我写了<code>junit</code>测试，也并没有查出来这个bug。以下是我一开始写的测试代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEquals</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld1 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld2 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">    lld1.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertFalse(lld1.equals(lld2));</span><br><span class="line">    lld2.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>是的，测试很容易的通过了。这是为什么呢？这里就要引入大名鼎鼎的<code>IntegerCache</code>了。</p><blockquote><p><code>IntegerCache</code>是Java中的一个类，它是用于缓存Integer对象的一个内部类。在Java中，由于Integer是不可变对象，一些整数值在一定范围内是经常使用的，为了提高性能和节省内存，Java使用了IntegerCache来缓存一些常用的整数对象。<br>在Java中，对于数值在[-128, 127]范围内的Integer对象，如果通过自动装箱的方式创建，会直接使用<code>IntegerCache</code>中已经存在的对象，而不是每次创建新的对象。这样做可以避免频繁创建新的Integer对象，提高了性能和节省了内存。<br>例如，当你通过<code>Integer.valueOf()</code>方法创建一个整数值在[-128, 127]范围内的Integer对象时，如果该值在<code>IntegerCache</code>中已经存在，则直接返回缓存中的对象，而不会创建新的对象。<br>但是需要注意的是，这种缓存机制只适用于整数值在[-128, 127]范围内的情况，超出这个范围的整数值仍然会创建新的Integer对象。</p></blockquote><p>因为<code>IntegerCache</code>的原因，虽然我向两个<code>Deque</code>分别塞入了<code>Ingeter 1</code>，但是实际上这两个1地址是一样的，<del>编号一样的钞票真的不是假钞吗😂</del></p><p>所以正确的测试应该扩大数据规模：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEquals</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld1 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld2 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">    lld1.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertFalse(lld1.equals(lld2));</span><br><span class="line">    lld2.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++) &#123;</span><br><span class="line">        lld1.addFirst(i);</span><br><span class="line">        lld2.addFirst(i);</span><br><span class="line">    &#125;</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样因为数据超过了128，显然以前的代码是无法通过这个代码的。在这里贴出修改后正确的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Deque)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Deque&lt;?&gt; other = (Deque&lt;?&gt;) o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.size() != other.size()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="built_in">this</span>.size(); i++) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">a</span> <span class="operator">=</span> <span class="built_in">this</span>.get(i);</span><br><span class="line">            <span class="type">Object</span> <span class="variable">b</span> <span class="operator">=</span> other.get(i);</span><br><span class="line">            <span class="keyword">if</span> (!a.equals(b)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>直接调用<code>T</code>本身的<code>equals()</code>方法即可，<del>这样即使还是通不过测试的话那也不是咱们代码的错了</del>。</p><h2 id="style-问题"><a href="#style-问题" class="headerlink" title="style 问题"></a>style 问题</h2><p>这个<code>Project 1</code>还挺有意思的，实现完数据类后还要用自己写的数据类去弹吉他。但是在此项目中，code 的 style 有严格的要求，第一次交代码的时候一共 640 points 因为 style 没有按照要求竟然扣了大约 84 points，。。。。<br>但是大可不必阅读那长长的 style 要求，只需要把 IDEA 的自动格式化代码打开即可。具体位置是<code>Settings -&gt; Tools -&gt; Actions on Save -&gt; Reformat code</code>。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CS61B 21sp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round 943 (Div. 3) A-E solutions</title>
      <link href="/2024/05/03/Codeforces-Round-943-Div-3-A-E-solutions/"/>
      <url>/2024/05/03/Codeforces-Round-943-Div-3-A-E-solutions/</url>
      
        <content type="html"><![CDATA[<h1 id="Codeforces-Round-943-Div-3"><a href="#Codeforces-Round-943-Div-3" class="headerlink" title="Codeforces Round 943 (Div. 3)"></a>Codeforces Round 943 (Div. 3)</h1><p>In this competition, I just got three Accepted.<br><strong><a href="https://codeforces.com/contest/1968">Competition Address</a></strong></p><h2 id="A-Maximize"><a href="#A-Maximize" class="headerlink" title="A. Maximize?"></a>A. Maximize?</h2><p>The meaning of the question is to find maximum of gcd(x,y)+y when gives you x.<br>My solution is to  have a linear search. Enough to pass this question.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">gcd</span>(b,a%b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;x;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">gcd</span>(i,x)+i&gt;ans)&#123;</span><br><span class="line">                temp = i;</span><br><span class="line">                ans = <span class="built_in">gcd</span>(i,x)+i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But the real answer is <code>x-1</code>,it need some mathematical derivations。</p><h2 id="B-Prefiquence"><a href="#B-Prefiquence" class="headerlink" title="B. Prefiquence"></a>B. Prefiquence</h2><p>Give you two 01 strings named a and b, find the max length of prefix of a which is a subsequence of b.<br>I worte a Binary search and passed it.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string a,b;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> len)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len&gt;b.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    string temp = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        temp+=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;b.<span class="built_in">size</span>();j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&gt;=temp.<span class="built_in">size</span>()) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(b[j]==temp[k])&#123;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k==temp.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> lena,lenb;</span><br><span class="line">        cin&gt;&gt;lena&gt;&gt;lenb;</span><br><span class="line">        </span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        string temp=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> l=<span class="number">0</span>,r=lena;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">check</span>(mid))&#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                l = mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> r = mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;r&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But last night I must have something wrong in my head. It obviously didn’t need a binary search. The better solution is to use two iterators and linear search.<br>The better code is below.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string a,b;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> lena,lenb;</span><br><span class="line">        cin&gt;&gt;lena&gt;&gt;lenb;</span><br><span class="line">        </span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;lena&amp;&amp;j&lt;lenb)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]==b[j])&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="C-Assembly-via-Remainders"><a href="#C-Assembly-via-Remainders" class="headerlink" title="C. Assembly via Remainders"></a>C. Assembly via Remainders</h2><p>An array: x<sub>1</sub>,x<sub>2</sub>,…,x<sub>n</sub>, find any array a<sub>1</sub>,a<sub>2</sub>,a<sub>3</sub>,…,a<sub>n</sub>, that a<sub>i</sub>%a<sub>i-1</sub> &#x3D; x<sub>i</sub>, i : 2~n.  </p><p>Solution: take a number that is bigger than any number in x array, the number is a<sub>1</sub>, and next is a<sub>1</sub>+x<sub>2</sub>…<br>Notice that 1 &lt;&#x3D; x<sub>i</sub> &lt;&#x3D; 500, you can just take 501 as the first number.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> x[<span class="number">550</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="type">int</span> mi=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;x[i];</span><br><span class="line">            mi = <span class="built_in">max</span>(x[i],mi);</span><br><span class="line">        &#125;</span><br><span class="line">        x[<span class="number">1</span>]=mi+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            x[i]=x[i<span class="number">-1</span>]+x[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cout&lt;&lt;x[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="D-Permutation-Game"><a href="#D-Permutation-Game" class="headerlink" title="D. Permutation Game"></a>D. Permutation Game</h2><p>A permutation of length 𝑛 is an array consisting of 𝑛 distinct integers from 1 to 𝑛 in arbitrary order.  </p><p>Two people, Bodya and Sasha, play the game which has k turns. Both of them are trying to win. Each turn, they get score in their current position. They can decide to move from x to p<sub>x</sub> or stay in current position.  </p><p>Of course you will get the first position of them.  </p><p>The key of the solution is that you move from x to p<sub>x</sub>,it’s acturally a circle. What we need to do is to traverse this circle once. ans &#x3D; max (ans,sum<sub>i</sub> + (k-i)a<sub>pos<sub>i</sub></sub>).</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">ll <span class="title">score</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp;p,vector&lt;<span class="type">int</span>&gt;&amp;a,<span class="type">int</span> pos,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">vis</span><span class="params">(p.size())</span></span>;</span><br><span class="line">    <span class="keyword">while</span>(!vis[pos]&amp;&amp;k&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        vis[pos]=<span class="literal">true</span>;</span><br><span class="line">        ans = <span class="built_in">max</span>(ans,sum+<span class="number">1LL</span>*k*a[pos]);</span><br><span class="line">        sum+=a[pos];</span><br><span class="line">        pos=p[pos];</span><br><span class="line">        k--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,k,pb,ps;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k&gt;&gt;pb&gt;&gt;ps;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(n)</span>,<span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;pi:p)&#123;</span><br><span class="line">            cin&gt;&gt;pi;</span><br><span class="line">            pi-=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;ai:a)&#123;</span><br><span class="line">            cin&gt;&gt;ai;</span><br><span class="line">        &#125;</span><br><span class="line">        ll Bodya=<span class="built_in">score</span>(p,a,pb<span class="number">-1</span>,k);</span><br><span class="line">        ll Sasha=<span class="built_in">score</span>(p,a,ps<span class="number">-1</span>,k);</span><br><span class="line">cout&lt;&lt;(Bodya&gt;Sasha?<span class="string">&quot;Bodya\n&quot;</span>:Bodya&lt;Sasha?<span class="string">&quot;Sasha\n&quot;</span>:<span class="string">&quot;Draw\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Cells-Arrangement"><a href="#E-Cells-Arrangement" class="headerlink" title="E. Cells Arrangement"></a>E. Cells Arrangement</h2><p>A n*n grid, find n cells that maximize Manhattan distances between any pair of the cells.<br>Official solutions:  </p><blockquote><p>Can you generalize the pattern? We put 𝑛−2 cells on the main diagonal. Then put two cells at (𝑛−1,𝑛) and (𝑛,𝑛).<br>But why does it work? Interesting fact, that in such way we generate all possible Manhattan distances.<br>Odd distances are generated between cells from the main diagonal and (𝑛−1,𝑛).<br>Even distances are generated between cells from the main diagonal and (𝑛,𝑛). </p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin&gt;&gt;t;</span><br><span class="line"><span class="keyword">while</span>(t--)&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-2</span>;i++)&#123;</span><br><span class="line">cout&lt;&lt;i&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;n<span class="number">-1</span>&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;n&lt;&lt;<span class="string">&quot;\n&quot;</span>&lt;&lt;n&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;n&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F-Equal-XOR-Segments"><a href="#F-Equal-XOR-Segments" class="headerlink" title="F. Equal XOR Segments"></a>F. <a href="https://codeforces.com/contest/1968/problem/F">Equal XOR Segments</a></h2><p>Too hard for me to understand,sorry.</p><h2 id="G1-Division-LCP-easy-version"><a href="#G1-Division-LCP-easy-version" class="headerlink" title="G1. Division + LCP (easy version)"></a>G1. <a href="https://codeforces.com/contest/1968/problem/G1">Division + LCP (easy version)</a></h2><p>Too hard for me to understand,sorry.</p><h2 id="G2-Division-LCP-hard-version"><a href="#G2-Division-LCP-hard-version" class="headerlink" title="G2. Division + LCP (hard version)"></a>G2. <a href="https://codeforces.com/contest/1968/problem/G2">Division + LCP (hard version)</a></h2><p>Too hard for me to understand,sorry.</p>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spotify美化</title>
      <link href="/2024/04/25/spotify%E7%BE%8E%E5%8C%96/"/>
      <url>/2024/04/25/spotify%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h1 id="基于spicetify-cli对Spotify进行客制化"><a href="#基于spicetify-cli对Spotify进行客制化" class="headerlink" title="基于spicetify-cli对Spotify进行客制化"></a>基于<code>spicetify-cli</code>对Spotify进行客制化</h1><h2 id="什么是spicetify-cli"><a href="#什么是spicetify-cli" class="headerlink" title="什么是spicetify-cli"></a>什么是<code>spicetify-cli</code></h2><ul><li><a href="https://github.com/spicetify/spicetify-cli">spicetify仓库地址</a>  </li><li><a href="https://spicetify.app/docs/getting-started">官网Doc</a>  <blockquote><p>Command-line tool to customize the official Spotify client. Supports Windows, MacOS and Linux.</p></blockquote></li></ul><p>仓库readme明确说明了这是用于定制官方客户端的命令行工具。但是在官网Doc的安装教程里面却没有说清楚，这样会带来很多的麻烦。</p><h2 id="在安装之前你必须要做的事情："><a href="#在安装之前你必须要做的事情：" class="headerlink" title="在安装之前你必须要做的事情："></a>在安装之前你必须要做的事情：</h2><ul><li>确保电脑已经<strong>安装了spotify官方客户端</strong>，因为spicetify只是美化工具而不包含客户端</li><li>确保已经<strong>登陆了个人账号</strong>，新安装的spotify客户端在登陆之前<code>prefs</code>文件并不会创建，会导致spicetify找不到路径而报错。</li><li>默认你已经解决了所有关于网络的问题</li></ul><h2 id="macOS安装步骤"><a href="#macOS安装步骤" class="headerlink" title="macOS安装步骤"></a>macOS安装步骤</h2><p>若安装步骤有问题或者是其他操作系统，你可以直接去官网Doc查看最新的安装步骤。</p><ul><li><p>Spicetify CLI(工具本身)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://raw.githubusercontent.com/spicetify/spicetify-cli/master/install.sh | sh</span><br></pre></td></tr></table></figure></li><li><p>Spicetify Marketplace(在ui中显示市场，一定程度上减轻命令行操作)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/install.sh | sh</span><br></pre></td></tr></table></figure></li><li><p>卸载命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spicetify restore</span><br><span class="line">rm -rf ~/.spicetify</span><br><span class="line">rm -rf ~/.config/spicetify</span><br></pre></td></tr></table></figure></li></ul><h2 id="具体使用"><a href="#具体使用" class="headerlink" title="具体使用"></a>具体使用</h2><p>在此贴出我<a href="https://www.cnblogs.com/hui-tong/p/18065055">参考的博客</a>。  </p><ul><li><p>我使用的主题：<code>Sleek</code><br><img src="https://raw.githubusercontent.com/spicetify/spicetify-themes/master/Sleek/wealthy.png" alt="Sleek"></p></li><li><p>我使用的插件：</p><ul><li><code>lyrics-plus</code> 歌词强化，从各种源中搜寻当前歌的歌词。  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spicetify config custom_apps lyrics-plus   </span><br><span class="line">spicetify apply</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="让mac拥有桌面歌词"><a href="#让mac拥有桌面歌词" class="headerlink" title="让mac拥有桌面歌词"></a>让mac拥有桌面歌词</h2><p><a href="https://github.com/ddddxxx/LyricsX">LyricsX</a><br>直接用<code>homebrew</code>安装：<code>brew install --cask lyricsx</code>。<br>安装后，打开，点击右上角<code>LyricsX</code>图标，选择<code>Preferences</code>，将默认音乐播放器改为<code>spotify</code>即可，播放歌曲的时候会自动匹配。<br><img src="https://raw.githubusercontent.com/ddddxxx/LyricsX/master/docs/img/desktop_lyrics.gif" alt="lyricsx"></p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spotify </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为博客添加RSS，sitemap和本地搜索</title>
      <link href="/2024/04/23/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0RSS%EF%BC%8Csitemap%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/"/>
      <url>/2024/04/23/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0RSS%EF%BC%8Csitemap%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="博客的一些配置总结"><a href="#博客的一些配置总结" class="headerlink" title="博客的一些配置总结"></a>博客的一些配置总结</h1><h2 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加RSS</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p>在<code>_config.yml</code> 里添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">icon.png</span></span><br><span class="line">  <span class="attr">autodiscovery:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">template:</span></span><br></pre></td></tr></table></figure><p>其中<code>limit</code>指源里保存的文章个数，<code>content_limit</code>指summary的长度。<br>如果想要添加RSS图标，可在<code>butterfly</code>主题配置文件<code>_config.yml</code>里，<code>social:</code>后添加<code>fas fa-rss: /atom.xml || RSS || &#39;#f26522&#39;</code>,这样RSS图标就会出现在右边头像下边</p><h2 id="添加sitemap"><a href="#添加sitemap" class="headerlink" title="添加sitemap"></a>添加sitemap</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>根目录<code>_config.yml</code>里添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugin:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-sitemap</span></span><br></pre></td></tr></table></figure><p>配置成功标志：generate后生成<code>sitemap.xml</code></p><h2 id="添加本地搜索"><a href="#添加本地搜索" class="headerlink" title="添加本地搜索"></a>添加本地搜索</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>我用的<code>butterfly</code>主题，直接在主题配置文件里更改：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure><h2 id="webhook"><a href="#webhook" class="headerlink" title="webhook"></a>webhook</h2><p>在此贴出参考博客<a href="https://blog.haysc.tech/hexo-feed-setup/">here</a></p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Project 0: 2048</title>
      <link href="/2024/04/22/Project-0-2048/"/>
      <url>/2024/04/22/Project-0-2048/</url>
      
        <content type="html"><![CDATA[<h1 id="Project-0-2048"><a href="#Project-0-2048" class="headerlink" title="Project 0: 2048"></a><a href="https://sp21.datastructur.es/materials/proj/proj0/proj0">Project 0: 2048</a></h1><p>在这里贴一个线上2048的网站，<a href="https://play2048.co/">link</a><br><strong>整体代码仓库：<a href="https://github.com/WHFF521/skeleton-sp21">github</a></strong></p><h2 id="TASK-1-emptySpaceExists-Board-b"><a href="#TASK-1-emptySpaceExists-Board-b" class="headerlink" title="TASK 1: emptySpaceExists(Board b)"></a>TASK 1: emptySpaceExists(Board b)</h2><p>简单来说就是检测面板上是否还有没有数的地方。直接O(n)遍历。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Returns true if at least one space on the Board is empty.</span></span><br><span class="line"><span class="comment"> *  Empty spaces are stored as null.</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">emptySpaceExists</span><span class="params">(Board b)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j)==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="TASK-2-maxTileExists-Board-b"><a href="#TASK-2-maxTileExists-Board-b" class="headerlink" title="TASK 2: maxTileExists(Board b)"></a>TASK 2: maxTileExists(Board b)</h2><p>是否有数字已经等于2048。和上面一样遍历即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns true if any tile is equal to the maximum valid value.</span></span><br><span class="line"><span class="comment"> * Maximum valid value is given by MAX_PIECE. Note that</span></span><br><span class="line"><span class="comment"> * given a Tile object t, we get its value with t.value().</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">maxTileExists</span><span class="params">(Board b)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j)==<span class="literal">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j).value()==MAX_PIECE) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="TASK-3-atLeastOneMoveExists-Board-b"><a href="#TASK-3-atLeastOneMoveExists-Board-b" class="headerlink" title="TASK 3: atLeastOneMoveExists(Board b)"></a>TASK 3: atLeastOneMoveExists(Board b)</h2><p>用户起码还能再走一步的检测函数。首先就是如果有空格子一定可以走，其次是如果有相邻的数相同也可以走。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns true if there are any valid moves on the board.</span></span><br><span class="line"><span class="comment"> * There are two ways that there can be valid moves:</span></span><br><span class="line"><span class="comment"> * 1. There is at least one empty space on the board.</span></span><br><span class="line"><span class="comment"> * 2. There are two adjacent tiles with the same value.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">atLeastOneMoveExists</span><span class="params">(Board b)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j)==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i+dx[k];</span><br><span class="line">                    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> j+dy[k];</span><br><span class="line">                    <span class="keyword">if</span>(x&lt;<span class="number">0</span>||x&gt;=length||y&lt;<span class="number">0</span>||y&gt;=length) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(b.tile(x,y)==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span>(b.tile(x,y).value()==b.tile(i,j).value()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="TASK4-Main-Task-Building-the-Game-Logic"><a href="#TASK4-Main-Task-Building-the-Game-Logic" class="headerlink" title="TASK4: Main Task: Building the Game Logic"></a>TASK4: Main Task: Building the Game Logic</h2><p>最主要的逻辑部分。主要实现了根据不同方向进行<code>move</code>操作，使得数字向指定方向移动并合并。<br>主要规则：  </p><ul><li>在一次整体移动中，如果两个数合并过了，那么就不能和其他数字进行合并。</li><li>每一次合并得到的值也是玩家得到的分数。</li></ul><p><strong>解决方案：</strong>  </p><ol><li>分四个方向进行，先完成<code>NORTH</code>方向的移动，其他方向照猫画虎即可。</li><li>根据移动方向选择遍历的次序，如向上移动，我们需要从最上方一行进行遍历，移动后保证最上方没有空格子出现。</li><li>对于已经合并的位置进行标记，用<code>merge[][]</code>进行了标记。</li><li>对于每个已经移动的方块，要及时<code>break</code>退出</li><li>由于向指定方向移动的时候只有在搜索到有数字的格子才进行判断并移动，用<code>nullTileRow</code>和<code>nullTileCol</code>进行记录空格子的位置，防止格子的指定方向上只有空格子的方向而没有进行移动的情况发生。</li><li>每当<code>move</code>执行都要更改<code>changed</code>为<code>true</code>。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Tilt the board toward SIDE. Return true iff this changes the board.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 1. If two Tile objects are adjacent in the direction of motion and have</span></span><br><span class="line"><span class="comment"> *    the same value, they are merged into one Tile of twice the original</span></span><br><span class="line"><span class="comment"> *    value and that new value is added to the score instance variable</span></span><br><span class="line"><span class="comment"> * 2. A tile that is the result of a merge will not merge again on that</span></span><br><span class="line"><span class="comment"> *    tilt. So each move, every tile will only ever be part of at most one</span></span><br><span class="line"><span class="comment"> *    merge (perhaps zero).</span></span><br><span class="line"><span class="comment"> * 3. When three adjacent tiles in the direction of motion have the same</span></span><br><span class="line"><span class="comment"> *    value, then the leading two tiles in the direction of motion merge,</span></span><br><span class="line"><span class="comment"> *    and the trailing tile does not.</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">tilt</span><span class="params">(Side side)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> changed;</span><br><span class="line">    changed = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Modify this.board (and perhaps this.score) to account</span></span><br><span class="line">    <span class="comment">// for the tilt to the Side SIDE. If the board changed, set the</span></span><br><span class="line">    <span class="comment">// changed local variable to true.</span></span><br><span class="line">    <span class="type">boolean</span>[][] merge = <span class="keyword">new</span> <span class="title class_">boolean</span>[board.size()][board.size()];</span><br><span class="line">    <span class="keyword">if</span>(side==Side.NORTH)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> <span class="number">0</span>; col &lt; board.size(); col++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; row &gt;= <span class="number">0</span>; row--)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileRow=row;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> row+<span class="number">1</span>; k &lt;=<span class="number">3</span>; k++)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(col, k);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileRow = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[col][k])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k-<span class="number">1</span>!=row)&#123;</span><br><span class="line">                                    board.move(col,k-<span class="number">1</span>,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(col,k,t);</span><br><span class="line">                                merge[col][k]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileRow!=row) &#123;</span><br><span class="line">                            board.move(col,nullTileRow,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(side==Side.SOUTH)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> <span class="number">0</span>; col &lt; board.size(); col++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> <span class="number">0</span>; row &lt; board.size(); row++)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileRow=row;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> row-<span class="number">1</span>; k &gt;=<span class="number">0</span>; k--)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(col, k);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileRow = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[col][k])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k+<span class="number">1</span>!=row)&#123;</span><br><span class="line">                                    board.move(col,k+<span class="number">1</span>,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(col,k,t);</span><br><span class="line">                                merge[col][k]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileRow!=row) &#123;</span><br><span class="line">                            board.move(col,nullTileRow,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(side==Side.WEST)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> <span class="number">0</span>; col &lt; board.size(); col++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; row &gt;= <span class="number">0</span>; row--)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileCol=col;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> col-<span class="number">1</span>; k &gt;= <span class="number">0</span>; k--)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(k, row);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileCol = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[k][row])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k+<span class="number">1</span>!=col)&#123;</span><br><span class="line">                                    board.move(k+<span class="number">1</span>,row,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(k,row,t);</span><br><span class="line">                                merge[k][row]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileCol!=col) &#123;</span><br><span class="line">                            board.move(nullTileCol,row,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(side==Side.EAST)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; col &gt;= <span class="number">0</span>; col--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; row &gt;= <span class="number">0</span>; row--)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileCol=col;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> col+<span class="number">1</span>; k &lt; board.size(); k++)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(k, row);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileCol = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[k][row])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k-<span class="number">1</span>!=col)&#123;</span><br><span class="line">                                    board.move(k-<span class="number">1</span>,row,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(k,row,t);</span><br><span class="line">                                merge[k][row]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileCol!=col) &#123;</span><br><span class="line">                            board.move(nullTileCol,row,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    checkGameOver();</span><br><span class="line">    <span class="keyword">if</span> (changed) &#123;</span><br><span class="line">        setChanged();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> changed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这是CS61B 21sp的第0个project，正如老师说的那样，思考过程的重要性是大于代码编写的。我完成这个项目也是花了几个小时的时间（从一开始看描述到完成，估计得6个多小时）。2048作为<code>Oier</code>们喜闻乐见的游戏，没想到我也能进行亲手编写。很期待接下来的project。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CS61B 21sp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell 相关</title>
      <link href="/2024/04/16/shell-%E7%9B%B8%E5%85%B3/"/>
      <url>/2024/04/16/shell-%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<p><a href="https://youtu.be/Z56Jmr9Z34Q?si=_VH1jttQRmA_-t82">Lecture 1: Course Overview + The Shell (2020)</a><br><a href="https://missing-semester-cn.github.io/2020/course-shell/">对应中文网站</a></p><ul><li><p><code>date</code> 查看时间</p></li><li><p><code>echo Hello\ World</code> 输出Hello World</p></li><li><p><code>echo $path</code>  查看电脑有哪些路径</p></li><li><p><code>which echo</code>  查看echo命令会执行哪里的文件</p></li><li><p><code>pwd</code> Print Working Directory，即打印当前工作目录</p></li><li><p><code>cd ./home</code>  打开当前目录下home文件夹</p></li><li><p><code>ls</code> “list” 的缩写，表示列出目录中的文件和子目录</p></li><li><p><code>cd</code> ||<code>cd ~</code>  take you home </p></li><li><p><code>cd -</code>  返回刚才所在文件夹，常用于cd ~ 后</p></li><li><p><code>ls -l</code> 长格式显示目录内容,包括文件权限、所有者、文件大小、最后修改时间等</p></li><li><p><code>mv file.txt newfile.txt</code> 重新命名文件</p></li><li><p><code>mv file.txt directory/</code> 移动文件到指定目录中</p></li><li><p><code>cp file.txt directory/</code> 复制文件到指定文件夹</p></li><li><p><code>cp file.txt directory/newfile.txt</code> 复制文件到指定文件夹并重命名</p></li><li><p><code>rm file.txt</code> 删除指定文件，不能删除文件夹及里面的内容</p></li><li><p><code>rm -r directory</code> 删除指定文件夹及其内容，能进行递归删除</p></li><li><p><code>rmdir</code> 仅能删除空文件夹</p></li><li><p><code>mkdir My\ Photos</code> 创建My Photos文件夹，或者用双引号包围带空格的名称</p><ul><li><code>mkdir My Photos</code> 创建My文件夹和Photos文件夹</li></ul></li><li><p><code>ctrl</code>+<code>l</code> clear your terminal and go back to the top</p></li><li><p><code>&gt; file</code>和<code>&lt; file</code><br>  <code>&gt; file</code> 和 <code>&lt;file</code> 重定向符号，用于输入和输出文件。</p><ul><li><p><code>&gt;</code> 符号用于将命令的输出重定向到一个文件中。例如，<code>ls &gt; file.txt</code> 将 <code>ls</code> 命令的输出写入到 <code>file.txt</code> 文件中，如果文件不存在则创建，如果文件已经存在则覆盖原有内容。</p></li><li><p><code>&lt;</code> 符号用于将一个文件的内容作为输入提供给命令。例如，<code>cat &lt; file.txt</code> 将 <code>file.txt</code> 文件的内容作为 <code>cat</code> 命令的输入，<code>cat</code> 命令会将文件的内容输出到终端上。</p></li></ul></li><li><p><code>cat filename</code> 显示一个文件的内容。  </p><ul><li><code>cat</code> 命令还有一些常用的选项，例如 <code>-n</code> 选项用于显示行号，<code>-b</code> 选项用于显示非空行的行号，<code>-E</code> 选项用于在每行的末尾显示一个 <code>$</code> 符号等。</li><li><code>cat &lt; hello.txt &gt; hello2.txt</code> 将<code>hello.txt</code>的内容覆盖写入<code>hello2.txt</code><br>  -<code>cat &lt; hello.txt &gt;&gt; hello2.txt</code> 将内容append到<code>hello2.txt</code></li></ul></li><li><p><code>ls -l | tail -n1</code> 其中 <code>|</code> 组成命令行管道，用于将一个命令的输出作为另一个命令的输入</p></li><li><p><code>sudo su</code> 切换为root用户</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tarjan算法</title>
      <link href="/2024/04/15/tarjan%E7%AE%97%E6%B3%95/"/>
      <url>/2024/04/15/tarjan%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="tarjan-算法（Tarjan’s-strongly-connected-components-algorithm）"><a href="#tarjan-算法（Tarjan’s-strongly-connected-components-algorithm）" class="headerlink" title="tarjan 算法（Tarjan’s strongly connected components algorithm）"></a>tarjan 算法（Tarjan’s strongly connected components algorithm）</h1><p><a href="https://youtu.be/wUgWX0nc4NY?si=pbuZzimi3Nep-z36">很棒的解释视频</a></p><h2 id="简述算法"><a href="#简述算法" class="headerlink" title="简述算法"></a>简述算法</h2><p>Tarjan 算法是一种用于查找图中强连通分量的算法，由 Robert Tarjan 在 1972 年提出。强连通分量是指在有向图中，如果从顶点 u 到顶点 v 以及从顶点 v 到顶点 u 都存在一条路径，那么顶点 u 和顶点 v 是强连通的。</p><p>Tarjan 算法的核心思想是通过深度优先搜索（DFS）遍历图，并使用堆栈来追踪搜索过程中的顶点。在遍历的过程中，对每个顶点进行标记，记录其在搜索树中的深度和最小后向边的深度。如果发现某个顶点的后继节点指向了一个已经被访问过的顶点，那么这个顶点及其所有后继节点构成一个强连通分量。</p><p>Tarjan 算法的关键点在于维护一个栈，用来保存正在搜索的节点。当 DFS 遍历过程中发现一个节点的所有后继节点已经搜索完毕，并且该节点是当前 DFS 搜索树中的根节点时，可以将该节点以及其所有后继节点弹出栈，并将它们标记为一个强连通分量。</p><p>Tarjan 算法的时间复杂度为 O(V + E)，其中 V 表示图中的顶点数，E 表示图中的边数。由于只需要一次 DFS 遍历即可找到所有的强连通分量，因此 Tarjan 算法是一种高效的强连通分量查找算法。</p><h2 id="个人理解"><a href="#个人理解" class="headerlink" title="个人理解"></a>个人理解</h2><p>首先什么是<strong>强连通分量</strong>。就是有向图中一些点，如果每两个点之间互相都有一条到达对方的道路，那么这些点就组成了强连通分量（Strongly Connected Component，简称 SCC）。  </p><p>我们可以想象为每一个SCC就是一个家庭，如果送报纸的话只需要给家庭中任意一个人就行了，因为他们每个人都可以在看完报纸后递给另一个家人。显然我们可以进行<strong>缩点</strong>了。从之前人与人之间的联系上升到家庭与家庭之间的关系。但是因为是有向图，SCC之间可能有边相连，但是是单向的，所以家庭之间并不能合并为同一个SCC。但是在一个家庭所有成员读完报纸后可以委托一个有出边的人去把报纸给邻居（另一个SCC）。  </p><h2 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h2><p>在此并不证明算法的正确性。现在只聊一聊算法是怎么实现的。  </p><p>首先就是<code>dfn[]</code>和<code>low[]</code>数组。对于图的遍历选择dfs（Depth-First Search）。<code>dfn[]</code>数组记录遍历点的次序。通常为每遍历到一个点，计数器+1，此点的<code>dfn</code>值即为计数器的值。而<code>low[]</code>数组则为记录该点以及其子节点最小的<code>dfn</code>值。  </p><p>如果我们想要知道每个SCC中成员都有谁，那么我们需要在遍历点的同时再将点压入栈<code>stack s</code>内。同时我们需要知道该点是否在栈内，定义一个记录数组<code>onStack[]</code>,如果节点<code>i</code>在栈内，那么<code>onStack[i]=1</code>。如果点的标值不是从<code>1~n</code>连续的，可能需要<code>hash</code>处理。</p><p>那么我们在回过头讨论<code>dfn</code>和<code>low</code>。对于不在栈内的节点，我们直接<code>low[u]=min(low[u],low[v])</code>进行更新。其中<code>u</code>为当前节点，<code>v</code>为<code>u</code>的子节点。对于已经在栈内的子节点，我们通过<code>low[u]=min(low[u],dfn[v])</code>更新。我们可以想象有向图中边一直往前冲，突然有一个边是往回走的，这样就会连接到刚才已经遍历过的点（可能形成一个环），但是这种边我们需要判断是否连接到了另一个SCC，所以我们需要记录点是否在栈内，如果在栈内说明两个点属于同一个SCC，所以可以更新，如果不在，就不能更新当前点的<code>low</code>值。  </p><p><strong>数据出栈</strong>。对于遍历完所有子节点的点来说，如果<code>dfn[u]==low[u]</code>那么说明这是一个SCC。栈内点一个个出栈直到当前点出栈，出栈的所有点即为一个SCC的所有点。定义<code>sccs[]</code>数组记录点所属于的SCC。</p><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="java"><a href="#java" class="headerlink" title="java"></a>java</h3><p><a href="https://github.com/williamfiset/Algorithms/blob/da50861a53fc2f6642cfc7d82c285166f41d03e2/src/main/java/com/williamfiset/algorithms/graphtheory/TarjanSccSolverAdjacencyList.java">摘自github</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * An implementation of Tarjan&#x27;s Strongly Connected Components algorithm using an adjacency list.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Verified against:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;ul&gt;</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;https://open.kattis.com/problems/equivalences</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;https://open.kattis.com/problems/runningmom</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;https://www.hackerearth.com/practice/algorithms/graphs/strongly-connected-components/tutorial</span></span><br><span class="line"><span class="comment"> * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Time complexity: O(V+E)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> William Fiset, william.alexandre.fiset@gmail.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> com.williamfiset.algorithms.graphtheory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.min;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TarjanSccSolverAdjacencyList</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line">  <span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; graph;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span> solved;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> sccCount, id;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span>[] visited;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span>[] ids, low, sccs;</span><br><span class="line">  <span class="keyword">private</span> Deque&lt;Integer&gt; stack;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">UNVISITED</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">TarjanSccSolverAdjacencyList</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (graph == <span class="literal">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Graph cannot be null.&quot;</span>);</span><br><span class="line">    n = graph.size();</span><br><span class="line">    <span class="built_in">this</span>.graph = graph;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Returns the number of strongly connected components in the graph.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sccCount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!solved) solve();</span><br><span class="line">    <span class="keyword">return</span> sccCount;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Get the connected components of this graph. If two indexes</span></span><br><span class="line">  <span class="comment">// have the same value then they&#x27;re in the same SCC.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span>[] getSccs() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!solved) solve();</span><br><span class="line">    <span class="keyword">return</span> sccs;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (solved) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    ids = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    low = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    sccs = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    Arrays.fill(ids, UNVISITED);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ids[i] == UNVISITED) &#123;</span><br><span class="line">        dfs(i);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    solved = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> at)</span> &#123;</span><br><span class="line">    ids[at] = low[at] = id++;</span><br><span class="line">    stack.push(at);</span><br><span class="line">    visited[at] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> to : graph.get(at)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ids[to] == UNVISITED) &#123;</span><br><span class="line">        dfs(to);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (visited[to]) &#123;</span><br><span class="line">        low[at] = min(low[at], low[to]);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">       TODO(william): investigate whether the proper way to update the lowlinks</span></span><br><span class="line"><span class="comment">       is the following bit of code. From my experience this doesn&#x27;t seem to</span></span><br><span class="line"><span class="comment">       matter if the output is placed in a separate output array, but this needs</span></span><br><span class="line"><span class="comment">       further investigation.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       if (ids[to] == UNVISITED) &#123;</span></span><br><span class="line"><span class="comment">         dfs(to);</span></span><br><span class="line"><span class="comment">         low[at] = min(low[at], low[to]);</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       if (visited[to]) &#123;</span></span><br><span class="line"><span class="comment">         low[at] = min(low[at], ids[to]);</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// On recursive callback, if we&#x27;re at the root node (start of SCC)</span></span><br><span class="line">    <span class="comment">// empty the seen stack until back to root.</span></span><br><span class="line">    <span class="keyword">if</span> (ids[at] == low[at]) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop(); ; node = stack.pop()) &#123;</span><br><span class="line">        visited[node] = <span class="literal">false</span>;</span><br><span class="line">        sccs[node] = sccCount;</span><br><span class="line">        <span class="keyword">if</span> (node == at) <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      sccCount++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Initializes adjacency list with n nodes.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">createGraph</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) graph.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> graph;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Adds a directed edge from node &#x27;from&#x27; to node &#x27;to&#x27;</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">addEdge</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="type">int</span> from, <span class="type">int</span> to)</span> &#123;</span><br><span class="line">    graph.get(from).add(to);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Example usage: */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] arg)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = createGraph(n);</span><br><span class="line"></span><br><span class="line">    addEdge(graph, <span class="number">6</span>, <span class="number">0</span>);</span><br><span class="line">    addEdge(graph, <span class="number">6</span>, <span class="number">2</span>);</span><br><span class="line">    addEdge(graph, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    addEdge(graph, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line">    addEdge(graph, <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">    addEdge(graph, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    addEdge(graph, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">    addEdge(graph, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">    addEdge(graph, <span class="number">3</span>, <span class="number">7</span>);</span><br><span class="line">    addEdge(graph, <span class="number">7</span>, <span class="number">5</span>);</span><br><span class="line">    addEdge(graph, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    addEdge(graph, <span class="number">7</span>, <span class="number">3</span>);</span><br><span class="line">    addEdge(graph, <span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">TarjanSccSolverAdjacencyList</span> <span class="variable">solver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TarjanSccSolverAdjacencyList</span>(graph);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] sccs = solver.getSccs();</span><br><span class="line">    Map&lt;Integer, List&lt;Integer&gt;&gt; multimap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!multimap.containsKey(sccs[i])) multimap.put(sccs[i], <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">      multimap.get(sccs[i]).add(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Prints:</span></span><br><span class="line">    <span class="comment">// Number of Strongly Connected Components: 3</span></span><br><span class="line">    <span class="comment">// Nodes: [0, 1, 2] form a Strongly Connected Component.</span></span><br><span class="line">    <span class="comment">// Nodes: [3, 7] form a Strongly Connected Component.</span></span><br><span class="line">    <span class="comment">// Nodes: [4, 5, 6] form a Strongly Connected Component.</span></span><br><span class="line">    System.out.printf(<span class="string">&quot;Number of Strongly Connected Components: %d\n&quot;</span>, solver.sccCount());</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; scc : multimap.values()) &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Nodes: &quot;</span> + scc + <span class="string">&quot; form a Strongly Connected Component.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h3><p><a href="https://www.luogu.com.cn/problem/P2002">对应洛谷题目</a><br>如果SCC之间有边相邻，只需通知一个SCC即可。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> pre[mxlen],last[mxlen/<span class="number">5</span>],other[mxlen],l;</span><br><span class="line"><span class="type">int</span> cnt,sccCount;</span><br><span class="line"><span class="type">int</span> dfn[mxlen/<span class="number">5</span>],low[mxlen/<span class="number">5</span>],onStack[mxlen/<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> sccFlags[mxlen/<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> sccIndice[mxlen/<span class="number">5</span>];</span><br><span class="line">stack&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    l++;</span><br><span class="line">    pre[l]=last[x];</span><br><span class="line">    last[x]=l;</span><br><span class="line">    other[l]=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">tarjan</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    cnt++;</span><br><span class="line">    dfn[x]=low[x]=cnt;</span><br><span class="line">    onStack[x]=<span class="number">1</span>;</span><br><span class="line">    s.<span class="built_in">push</span>(x);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> p=last[x];p;p=pre[p])&#123;</span><br><span class="line">        <span class="type">int</span> y=other[p];</span><br><span class="line">        <span class="keyword">if</span>(!dfn[y])&#123;</span><br><span class="line">            <span class="built_in">tarjan</span>(y);</span><br><span class="line">            low[x]=<span class="built_in">min</span>(low[x],low[y]);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(onStack[y])&#123;</span><br><span class="line">            low[x]=<span class="built_in">min</span>(low[x],dfn[y]);</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dfn[x]==low[x])&#123;</span><br><span class="line">        sccCount++;</span><br><span class="line">        <span class="keyword">while</span>(s.<span class="built_in">top</span>()!=x)&#123;</span><br><span class="line">            sccIndice[s.<span class="built_in">top</span>()]=sccCount;</span><br><span class="line">            onStack[s.<span class="built_in">top</span>()]=<span class="number">0</span>;</span><br><span class="line">            s.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        sccIndice[x]=sccCount;</span><br><span class="line">        onStack[x]=<span class="number">0</span>;</span><br><span class="line">        s.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">checkPropagation</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> p=last[i];p;p=pre[p])&#123;</span><br><span class="line">            <span class="type">int</span> y=other[p];</span><br><span class="line">            <span class="keyword">if</span>(sccIndice[i]!=sccIndice[y])&#123;</span><br><span class="line">                sccFlags[sccIndice[y]]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="built_in">add</span>(x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[i]) <span class="built_in">tarjan</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">checkPropagation</span>();</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=sccCount;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!sccFlags[i]) ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tarjan </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 2 1-20</title>
      <link href="/2024/04/14/verbal-advantage-level-2-1-20/"/>
      <url>/2024/04/14/verbal-advantage-level-2-1-20/</url>
      
        <content type="html"><![CDATA[<h1 id="word-1-10"><a href="#word-1-10" class="headerlink" title="word 1-10"></a>word 1-10</h1><h2 id="word-1-advocate-提倡，拥护，主张"><a href="#word-1-advocate-提倡，拥护，主张" class="headerlink" title="word 1: advocate 提倡，拥护，主张"></a>word 1: <strong>advocate</strong> 提倡，拥护，主张</h2><p>Similarly, many are now aware of this polarized notion of the field and some have begun to advocate possible alternatives.</p><h2 id="word-2-delegate-委托，托付"><a href="#word-2-delegate-委托，托付" class="headerlink" title="word 2: delegate 委托，托付"></a>word 2: <strong>delegate</strong> 委托，托付</h2><p>However, these delegates saw their efforts as serving purposes beyond profit generation.</p><h2 id="word-3-unprecedented-前所未有的，史无前例的"><a href="#word-3-unprecedented-前所未有的，史无前例的" class="headerlink" title="word 3: unprecedented 前所未有的，史无前例的"></a>word 3: <strong>unprecedented</strong> 前所未有的，史无前例的</h2><p>With the surge of population and economic activity during the past two generations or so, the environment has come under unprecedented stress.</p><h2 id="word-4-poignant-尖锐的，强烈的，酸楚的"><a href="#word-4-poignant-尖锐的，强烈的，酸楚的" class="headerlink" title="word 4: poignant 尖锐的，强烈的，酸楚的"></a>word 4: <strong>poignant</strong> 尖锐的，强烈的，酸楚的</h2><p>The women’s stories are at once poignant and remarkable.</p><h2 id="word-5-nebulous-朦胧的，模糊的"><a href="#word-5-nebulous-朦胧的，模糊的" class="headerlink" title="word 5: nebulous 朦胧的，模糊的"></a>word 5: <strong>nebulous</strong> 朦胧的，模糊的</h2><p>The authors admit that their subject matter is nebulous and its meanings ambiguous.</p><h2 id="word-6-clandestine-秘密的，暗中的"><a href="#word-6-clandestine-秘密的，暗中的" class="headerlink" title="word 6: clandestine 秘密的，暗中的"></a>word 6: <strong>clandestine</strong> 秘密的，暗中的</h2><p>They have wanted war, they have been waging it upon us for three years, but in a clandestine, hypocritical, roundabout manner.</p><h2 id="word-7-tirade-（激烈的）长篇演说"><a href="#word-7-tirade-（激烈的）长篇演说" class="headerlink" title="word 7: tirade （激烈的）长篇演说"></a>word 7: <strong>tirade</strong> （激烈的）长篇演说</h2><p>The whole of his speech has been directed as a tirade against and an attack upon trade unionism.</p><h2 id="word-8-recur-重现"><a href="#word-8-recur-重现" class="headerlink" title="word 8: recur 重现"></a>word 8: <strong>recur</strong> 重现</h2><p>Yet in the midst of this diversity, at least four themes recur.</p><h2 id="word-9-tacit-缄默的，默许的"><a href="#word-9-tacit-缄默的，默许的" class="headerlink" title="word 9: tacit 缄默的，默许的"></a>word 9: <strong>tacit</strong> 缄默的，默许的</h2><p>There is a tacit but quite unjustified assumption in traditional grammar that nouns can appear in adjunct function only when accompanied by an explicit dependent.</p><h2 id="word-10-allegation-宣称，断言，指控"><a href="#word-10-allegation-宣称，断言，指控" class="headerlink" title="word 10: allegation 宣称，断言，指控"></a>word 10: <strong>allegation</strong> 宣称，断言，指控</h2><p>Surprisingly, the source for this serious allegation is not identified.</p><h1 id="word-11-20"><a href="#word-11-20" class="headerlink" title="word 11-20"></a>word 11-20</h1><h2 id="word-11-gullible-轻信的，易受骗的"><a href="#word-11-gullible-轻信的，易受骗的" class="headerlink" title="word 11: gullible 轻信的，易受骗的"></a>word 11: <strong>gullible</strong> 轻信的，易受骗的</h2><p>Not only are the public often assumed to be a trifle gullible, they are also portrayed as empty vessels.</p><h2 id="word-12-benign-和蔼的，良性的，吉利的"><a href="#word-12-benign-和蔼的，良性的，吉利的" class="headerlink" title="word 12: benign 和蔼的，良性的，吉利的"></a>word 12: <strong>benign</strong> 和蔼的，良性的，吉利的</h2><p>The chance of malignant degeneration in a benign papillioma is not well understood.</p><h2 id="word-13-peripheral-外围的，不重要的"><a href="#word-13-peripheral-外围的，不重要的" class="headerlink" title="word 13: peripheral 外围的，不重要的"></a>word 13: <strong>peripheral</strong> 外围的，不重要的</h2><p>The book contains a great deal of peripheral detail.</p><h2 id="word-14-rebuff-断然拒绝，回绝"><a href="#word-14-rebuff-断然拒绝，回绝" class="headerlink" title="word 14: rebuff 断然拒绝，回绝"></a>word 14: <strong>rebuff</strong> 断然拒绝，回绝</h2><p>She rebuffed all suggestions that she should resign.</p><h2 id="word-15-animosity-敌意，仇恨"><a href="#word-15-animosity-敌意，仇恨" class="headerlink" title="word 15: animosity 敌意，仇恨"></a>word 15: <strong>animosity</strong> 敌意，仇恨</h2><p>Of course we’re competitive, but there’s no personal animosity between us.</p><h2 id="word-16-tenuous-纤细的，脆弱的"><a href="#word-16-tenuous-纤细的，脆弱的" class="headerlink" title="word 16: tenuous 纤细的，脆弱的"></a>word 16: <strong>tenuous</strong> 纤细的，脆弱的</h2><p>The police have only found a tenuous connection between the two robberies.</p><h2 id="word-17-complacent-自满的，沾沾自喜的"><a href="#word-17-complacent-自满的，沾沾自喜的" class="headerlink" title="word 17: complacent 自满的，沾沾自喜的"></a>word 17: <strong>complacent</strong> 自满的，沾沾自喜的</h2><p>We can’t afford to become complacent about any of our products.</p><h2 id="word-18-acme-顶端，最高点"><a href="#word-18-acme-顶端，最高点" class="headerlink" title="word 18: acme 顶端，最高点"></a>word 18: <strong>acme</strong> 顶端，最高点</h2><p>To act on this world-famous stage is surely the acme of any actor’s career.</p><h2 id="word-19-defunct-失效的，不在世的"><a href="#word-19-defunct-失效的，不在世的" class="headerlink" title="word 19: defunct 失效的，不在世的"></a>word 19: <strong>defunct</strong> 失效的，不在世的</h2><p>(humorous) I think this TV is defunct!</p><h2 id="word-20-abet-支持，煽动，教唆"><a href="#word-20-abet-支持，煽动，教唆" class="headerlink" title="word 20: abet 支持，煽动，教唆"></a>word 20: <strong>abet</strong> 支持，煽动，教唆</h2><p>His accountant had aided and abetted him in the fraud.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac电脑vscode的c++运行配置</title>
      <link href="/2024/04/13/mac%E7%94%B5%E8%84%91vscode%E7%9A%84c-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/04/13/mac%E7%94%B5%E8%84%91vscode%E7%9A%84c-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>最近换了电脑，vscode的环境是重新配的，遇到了些许问题。</p><h1 id="1-Code-Runner-对于C-的一些函数不识别"><a href="#1-Code-Runner-对于C-的一些函数不识别" class="headerlink" title="1. Code Runner 对于C++的一些函数不识别"></a>1. Code Runner 对于C++的一些函数不识别</h1><p>这是因为code runner默认执行命令里没有添加c++17的选项。<br>解决方案：  </p><ol><li>打开vscode设置，搜索<code>code runner</code>，找到<code>Code-runner: Executor Map</code>，点击<code>edit in settings.json</code>。</li><li>Find the <code>cpp</code> and add <code>-std=c++17</code> after <code>cd $dir &amp;&amp; g++</code> Like this <code>&quot;cpp&quot;: &quot;cd $dir &amp;&amp; g++ -std=c++17 $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</code></li></ol><h1 id="2-Code-Runner-运行C-是在OUTPUT里运行的，不能通过键盘输入数据"><a href="#2-Code-Runner-运行C-是在OUTPUT里运行的，不能通过键盘输入数据" class="headerlink" title="2. Code Runner 运行C++是在OUTPUT里运行的，不能通过键盘输入数据"></a>2. Code Runner 运行C++是在OUTPUT里运行的，不能通过键盘输入数据</h1><p>解决方案：<br>打开vscode设置，搜索<code>code runner</code>，勾选<code>Code-runner: Run In Terminal</code></p><h1 id="3-vscode-不识别-include"><a href="#3-vscode-不识别-include" class="headerlink" title="3. vscode 不识别#include&lt;bits/stdc++.h&gt;"></a>3. vscode 不识别<code>#include&lt;bits/stdc++.h&gt;</code></h1><h2 id="我有问过chatgpt关于为什么mac没有这个库，回答是这样的："><a href="#我有问过chatgpt关于为什么mac没有这个库，回答是这样的：" class="headerlink" title="我有问过chatgpt关于为什么mac没有这个库，回答是这样的："></a>我有问过chatgpt关于为什么mac没有这个库，回答是这样的：</h2><p><code>#include&lt;bits/stdc++.h&gt;</code> 是一个常用的 C++ 头文件，它包含了常用的标准库和一些常见的标准头文件。在一些编译器和环境中，这个头文件是存在的，但并不是所有的环境都支持它。</p><p>在 macOS 上，通常使用的是 <strong>Clang</strong> 或者 GNU 编译器集合中的 Clang。Clang 是一个优秀的 C++ 编译器，它支持大多数 C++11、C++14、C++17 和部分 C++20 特性，但并不提供 <code>#include&lt;bits/stdc++.h&gt;</code> 这个头文件。</p><p>这个头文件通常出现在一些 Windows 平台上的编译器（比如 MinGW 和 Visual C++）中，用于方便包含所有标准库的头文件。但是在其他平台，比如 macOS 上，通常需要明确地包含所需的标准库头文件，例如 <code>&lt;iostream&gt;</code>, <code>&lt;vector&gt;</code>, <code>&lt;algorithm&gt;</code> 等。</p><p>所以，在 macOS 上编写 C++ 代码时，你需要根据具体需要，显式地包含你需要的标准库头文件，而不依赖于 <code>#include&lt;bits/stdc++.h&gt;</code>。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>实际上万能头不就是把所有库都import一遍而已。解决方案我看的这一篇<a href="https://www.cnblogs.com/lipoicyclic/p/14623307.html">博客</a>。我在此基础上优化了一部分步骤，更加简洁。</p><ol><li>终端中输入<code>echo | g++ -v -x c++ -E -</code>, 其中<code>/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include</code> 即为我们要找的路径。</li><li>修改include文件夹的访问权限为读写。<code>sudo chmod 777 /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include</code> </li><li>直接<code>cd /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include</code></li><li>创建<code>bits</code>文件夹并进入。<code>mkdir bits</code>,<code>cd bits/</code></li><li>创建<code>stdc++.h</code>，<code>touch stdc++.h</code> </li><li>打开刚刚创建的文件，<code>open stdc++.h</code>，这时应该是默认vscode进行打开的。进行编辑：  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ includes used for precompiling -*- C++ -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Copyright (C) 2003-2014 Free Software Foundation, Inc.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This file is part of the GNU ISO C++ Library.  This library is free</span></span><br><span class="line"><span class="comment">// software; you can redistribute it and/or modify it under the</span></span><br><span class="line"><span class="comment">// terms of the GNU General Public License as published by the</span></span><br><span class="line"><span class="comment">// Free Software Foundation; either version 3, or (at your option)</span></span><br><span class="line"><span class="comment">// any later version.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful,</span></span><br><span class="line"><span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="comment">// GNU General Public License for more details.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Under Section 7 of GPL version 3, you are granted additional</span></span><br><span class="line"><span class="comment">// permissions described in the GCC Runtime Library Exception, version</span></span><br><span class="line"><span class="comment">// 3.1, as published by the Free Software Foundation.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// You should have received a copy of the GNU General Public License and</span></span><br><span class="line"><span class="comment">// a copy of the GCC Runtime Library Exception along with this program;</span></span><br><span class="line"><span class="comment">// see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see</span></span><br><span class="line"><span class="comment">// &lt;http://www.gnu.org/licenses/&gt;.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/** @file stdc++.h</span></span><br><span class="line"><span class="comment"> *  This is an implementation file for a precompiled header.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 17.4.1.2 Headers</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _GLIBCXX_NO_ASSERT</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cerrno&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfloat&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ciso646&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;clocale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csetjmp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csignal&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdarg&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstddef&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ccomplex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfenv&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cinttypes&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdbool&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctgmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwchar&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C++</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ios&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iosfwd&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;istream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;new&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;streambuf&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;valarray&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;forward_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ratio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;regex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;scoped_allocator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;system_error&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeindex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>最后保存退出即可。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> mac </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java面试准备整理(二)</title>
      <link href="/2024/04/11/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%BA%8C/"/>
      <url>/2024/04/11/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="1-缓存雪崩、缓存穿透、缓存击穿在实际中如何处理"><a href="#1-缓存雪崩、缓存穿透、缓存击穿在实际中如何处理" class="headerlink" title="1. 缓存雪崩、缓存穿透、缓存击穿在实际中如何处理"></a>1. 缓存雪崩、缓存穿透、缓存击穿在实际中如何处理</h2><p>名词解释：  </p><ol><li><p><strong>缓存雪崩（Cache Avalanche）</strong>：指在缓存中大量的缓存条目在同一时间段内失效或者过期，导致大量请求直接访问底层存储系统（如数据库），从而造成系统性能急剧下降或者崩溃的现象。</p></li><li><p><strong>缓存穿透（Cache Penetration）</strong>：指恶意或者非法的请求直接穿过缓存层，访问底层存储系统，因为缓存层无法命中任何缓存数据。通常是由于查询不存在的数据或者恶意构造的查询条件导致。</p></li><li><p><strong>缓存击穿（Cache Breakdown）</strong>：指在缓存中存在的数据，在即将过期或者失效时，被大量的请求同时访问，导致缓存失效，直接击穿缓存层，访问底层存储系统。</p></li></ol><p>如何处理这些问题：</p><ul><li><p><strong>缓存雪崩处理方法</strong>：</p><ul><li>设置合理的缓存失效时间，避免所有缓存同时失效。</li><li>实现缓存预热，在缓存失效前提前加载数据到缓存中。</li><li>使用多级缓存架构，如本地缓存和分布式缓存，降低单点故障风险。</li><li>引入缓存锁定机制，在缓存失效时只允许一个请求重新加载缓存数据，其他请求等待。</li></ul></li><li><p><strong>缓存穿透处理方法</strong>：</p><ul><li>对于查询数据库中不存在的数据，也将其缓存，但是设置一个较短的过期时间，避免攻击者频繁查询不存在的数据导致大量请求直接击穿缓存到达数据库。</li><li>使用布隆过滤器等技术对请求参数进行校验，过滤掉明显无效的请求。</li></ul></li><li><p><strong>缓存击穿处理方法</strong>：</p><ul><li>对于热点数据或者频繁访问的数据，可以设置永不过期，或者通过手动更新缓存来确保数据不会过期。</li><li>引入互斥锁或者分布式锁，保证在缓存失效时只有一个请求能够重新加载数据，其他请求等待。</li></ul></li></ul><p>以上处理方法可以根据具体场景和需求进行组合使用，以尽可能地减少缓存相关问题对系统稳定性和性能的影响。</p><h2 id="2-Mysql-的隔离级别有哪些？"><a href="#2-Mysql-的隔离级别有哪些？" class="headerlink" title="2. Mysql 的隔离级别有哪些？"></a>2. Mysql 的隔离级别有哪些？</h2><p>MySQL支持四种隔离级别，分别是：</p><ol><li><p><strong>读未提交（Read Uncommitted）</strong>：最低的隔离级别。在这个级别下，一个事务可以看到其他事务未提交的数据修改。这意味着其他事务对数据的修改可能会导致脏读（Dirty Read）问题。</p></li><li><p><strong>读已提交（Read Committed）</strong>：这是MySQL默认的隔离级别。在这个级别下，一个事务只能看到已经提交的数据修改。其他事务对数据的修改不会被当前事务看到，这可以避免脏读问题，但是可能导致不可重复读（Non-repeatable Read）问题。</p></li><li><p><strong>可重复读（Repeatable Read）</strong>：在这个级别下，一个事务在执行期间多次读取同一行数据时，得到的结果是一致的。即使其他事务对数据进行了修改，当前事务在同一事务内读取数据时也不会看到其他事务对数据的修改。这可以避免不可重复读问题，但是可能导致幻读（Phantom Read）问题。</p></li><li><p><strong>串行化（Serializable）</strong>：这是最高的隔离级别。在这个级别下，每个事务都会在一个独立的时间段内执行，彼此之间不会相互干扰。这可以避免脏读、不可重复读和幻读等所有并发问题，但是会降低并发性能，因为事务需要串行执行。</p></li></ol><p>选择合适的隔离级别取决于应用的需求以及对并发性能和数据一致性的要求。</p><h2 id="3-mysql的复制原理是什么？"><a href="#3-mysql的复制原理是什么？" class="headerlink" title="3. mysql的复制原理是什么？"></a>3. mysql的复制原理是什么？</h2><p>MySQL的复制是指将一个MySQL数据库的数据复制到另一个MySQL实例上的过程，其基本原理如下：</p><ol><li><p><strong>主从复制架构</strong>：MySQL复制基于主从（Master-Slave）架构。在这种架构中，一个MySQL实例作为主服务器（Master），负责接收客户端的写操作（INSERT、UPDATE、DELETE等），而其他MySQL实例作为从服务器（Slave），负责接收主服务器的写操作并复制其数据。</p></li><li><p><strong>二进制日志（Binary Log）</strong>：主服务器上的数据更改操作会被记录到二进制日志中，这些日志记录了对数据的所有修改操作，包括对数据的增、删、改等。二进制日志是主从复制的关键，从服务器通过读取主服务器上的二进制日志来获取需要复制的数据变更。</p></li><li><p><strong>复制线程</strong>：从服务器上会启动一个复制线程（Replication Thread），该线程负责连接到主服务器，并获取主服务器上的二进制日志。从服务器上的复制线程会解析主服务器上的二进制日志，并将其中的数据变更操作应用到自己的数据库中，从而保持与主服务器上相同的数据状态。</p></li><li><p><strong>复制过程</strong>：复制过程分为两个阶段。首先是复制的初始化阶段，从服务器连接到主服务器并请求二进制日志的位置，然后从服务器根据主服务器上的二进制日志位置开始复制数据。其次是复制的持续阶段，从服务器持续地读取主服务器上的二进制日志，将数据变更操作应用到自己的数据库中，保持与主服务器数据的一致性。</p></li></ol><p>通过以上原理，MySQL的复制实现了数据在不同MySQL实例之间的同步，从而提供了数据的备份、负载均衡以及故障恢复等功能。</p><h2 id="4-mysql聚簇和非聚簇索引的区别是什么"><a href="#4-mysql聚簇和非聚簇索引的区别是什么" class="headerlink" title="4. mysql聚簇和非聚簇索引的区别是什么"></a>4. mysql聚簇和非聚簇索引的区别是什么</h2><p>在MySQL中，聚簇索引和非聚簇索引是两种不同类型的索引结构，它们在数据存储和访问方式上有着显著的区别。</p><ol><li><p><strong>聚簇索引（Clustered Index）</strong>：</p><ul><li>聚簇索引中，索引和数据行存储在同一个B树（或B+树）结构中，也就是说索引的叶子节点包含了实际的数据行。在MySQL中，InnoDB存储引擎的主键索引就是一个聚簇索引。</li><li>由于<strong>数据行和索引在物理上存储在一起</strong>，因此通过聚簇索引进行数据检索时，可以直接定位到数据所在的磁盘页，减少了额外的IO操作，因此查询效率更高。</li><li>聚簇索引的缺点是，当表中的数据行被频繁更新时，可能导致数据页的分裂和重新组织，增加了维护索引的成本。</li></ul></li><li><p><strong>非聚簇索引（Non-Clustered Index）</strong>：</p><ul><li>非聚簇索引中，<strong>索引和数据行是分开存储的</strong>。索引的叶子节点包含了指向对应数据行的指针（或者叫引用），而数据行存储在另外的位置。在MySQL中，InnoDB存储引擎的普通索引（非主键索引）就是非聚簇索引。</li><li>当使用非聚簇索引进行数据检索时，首先通过索引找到对应数据行的指针，然后再根据指针访问实际的数据行，因此需要多一次IO操作，相比于聚簇索引来说，查询效率较低。</li><li>非聚簇索引的优点是，由于索引和数据行分开存储，当数据行发生更新时，不会影响到索引的结构，因此维护索引的成本相对较低。</li></ul></li></ol><p>总的来说，聚簇索引和非聚簇索引在数据存储和访问方式上有着明显的区别，选择合适的索引类型取决于应用的需求和查询模式。</p><h2 id="5-mysql索引的基本原理"><a href="#5-mysql索引的基本原理" class="headerlink" title="5. mysql索引的基本原理"></a>5. mysql索引的基本原理</h2><p>MySQL索引的基本原理是通过创建索引数据结构来加快数据库的查询速度。索引是一种特殊的数据结构，它存储了列值和这些列值对应的行的位置，使得数据库系统可以更快地定位和检索数据。</p><p>以下是MySQL索引的基本原理：</p><ol><li><p><strong>B-Tree索引</strong>：MySQL通常使用B-Tree（平衡树）索引来实现索引。B-Tree是一种多路搜索树，它能够快速地定位到指定值。B-Tree索引将数据按照排序规则存储在树结构中，使得每个节点都包含有序的键值对。这样一来，MySQL可以通过这个树结构快速地定位到所需的数据。</p></li><li><p><strong>唯一性</strong>：索引可以是唯一的或非唯一的。唯一索引确保索引列中的值是唯一的，这意味着在查询时可以通过索引快速定位到唯一的行。非唯一索引允许索引列中存在重复值，但同样可以加速查询。</p></li><li><p><strong>覆盖索引</strong>：当查询的列都包含在索引中时，MySQL可以直接从索引中获取所需的数据，而无需再去查找数据行。这样的索引称为覆盖索引，可以大大减少数据库访问的次数，从而提高查询性能。</p></li><li><p><strong>索引选择性</strong>：索引的选择性是指索引列中不同值的个数与表中记录总数的比值。选择性越高，意味着索引越能准确地过滤数据，从而提高查询效率。通常情况下，选择性在30%到70%之间是比较理想的。</p></li><li><p><strong>索引优化</strong>：对于大型表和频繁查询的列，建立索引可以显著提高查询性能。但过多的索引可能会增加插入、更新和删除操作的成本，因为每次修改数据都需要更新索引。因此，在建立索引时需要权衡查询性能和数据修改成本。</p></li></ol><p>综上所述，MySQL索引的基本原理是利用B-Tree等数据结构来加速数据的定位和检索，从而提高数据库的查询性能。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">| Storage Engine | Permitted Indexes   |</span><br><span class="line">|----------------|----------------------|</span><br><span class="line">| Aria           | BTREE, RTREE         |</span><br><span class="line">| MyISAM         | BTREE, RTREE         |</span><br><span class="line">| InnoDB         | BTREE                |</span><br><span class="line">| MEMORY/HEAP    | HASH, BTREE          |</span><br></pre></td></tr></table></figure><p><strong>InnoDB存储引擎默认B+Tree索引</strong><br><strong>Memory存储引擎默认Hash索引</strong><br>MySQL支持多种存储引擎，每种引擎都有其自己的特点、优势和适用场景。以下是MySQL常见的几种存储引擎：</p><ol><li><p><strong>InnoDB</strong>：InnoDB是MySQL的默认存储引擎，也是最常用的存储引擎之一。它支持事务、行级锁定和外键约束，提供了较高的数据完整性和并发性能。InnoDB适用于需要较高并发性和数据完整性的应用场景，例如在线交易处理（OLTP）系统。</p></li><li><p><strong>MyISAM</strong>：MyISAM是MySQL的另一种常用存储引擎，它具有较高的插入和查询速度，适用于读密集型应用。但是，MyISAM不支持事务和行级锁定，并且在崩溃时数据恢复能力较差。因此，它适用于对数据完整性要求不高、读操作频繁、写操作较少的场景，例如数据仓库或日志分析系统。</p></li><li><p>**MEMORY (HEAP)**：MEMORY存储引擎将表数据存储在内存中，因此具有非常高的读写速度。但是，由于数据存储在内存中，因此在重启服务器或关闭MySQL时，数据会丢失。MEMORY存储引擎适用于临时表、缓存表和需要快速访问的临时数据存储场景。</p></li><li><p><strong>CSV</strong>：CSV存储引擎将数据存储在逗号分隔值（CSV）格式的文件中，适用于数据交换和导入导出操作。</p></li><li><p><strong>Archive</strong>：Archive存储引擎用于存储大量历史数据，它采用压缩算法对数据进行压缩，从而节省存储空间。Archive存储引擎适用于只需偶尔访问的归档数据存储场景。</p></li><li><p><strong>NDB Cluster</strong>：NDB Cluster存储引擎是MySQL Cluster的一部分，它提供了高可用性、高性能和分布式存储的特性。NDB Cluster适用于需要分布式数据库和实时数据访问的应用场景，如电话网络、网络游戏等。</p></li></ol><p>每种存储引擎都有其独特的优势和适用场景，选择合适的存储引擎需要根据应用的需求和特点进行综合考虑。</p><h2 id="6-B-树在实现索引上的优势以及过程"><a href="#6-B-树在实现索引上的优势以及过程" class="headerlink" title="6. B+树在实现索引上的优势以及过程"></a>6. B+树在实现索引上的优势以及过程</h2><p>B+树是一种常用的数据结构，用于实现索引，特别是在数据库系统中。它具有以下优势：</p><ol><li><p><strong>高效的查找操作：</strong> B+树的结构使得在其中进行查找、插入和删除等操作的时间复杂度为O(log n)，其中n是数据的数量。这意味着无论数据量多大，操作的时间复杂度都是可控的，并且随着数据量增长的增长速率很慢。</p></li><li><p><strong>有序性：</strong> B+树是一种有序树，因此在范围查询时非常高效。例如，如果需要在一个有序的数据集合中查找所有在某个范围内的元素，那么B+树可以迅速定位到该范围内的所有数据。</p></li><li><p><strong>可预测的IO访问：</strong> B+树的结构使得在磁盘上进行IO访问时，访问的次数可预测且较少。这是因为B+树的节点通常大小固定，并且树的高度相对较低，这减少了需要在磁盘上进行的IO次数。</p></li><li><p><strong>支持范围查询和排序：</strong> 由于B+树是有序的，因此支持在范围内查询和排序操作。这对于数据库系统中许多类型的查询非常重要。</p></li></ol><p>B+树的实现过程通常分为插入、删除和查找等基本操作。下面是B+树的基本实现过程：</p><ol><li><p><strong>插入操作：</strong></p><ul><li>从根节点开始，沿着树向下遍历，找到合适的叶子节点。</li><li>如果叶子节点没有满，则将新元素插入其中，然后对树进行必要的调整以保持B+树的性质。</li><li>如果叶子节点已满，则进行分裂操作，将节点一分为二，并将中间值提升到父节点中。然后对树进行必要的调整以保持B+树的性质。</li></ul></li><li><p><strong>删除操作：</strong></p><ul><li>从根节点开始，沿着树向下遍历，找到要删除的元素所在的叶子节点。</li><li>如果叶子节点中存在要删除的元素，则删除该元素，并对树进行必要的调整以保持B+树的性质。</li><li>如果删除元素后，节点的元素个数小于某个阈值，则进行合并或者借用兄弟节点的操作，以保持树的平衡。</li></ul></li><li><p><strong>查找操作：</strong></p><ul><li>从根节点开始，沿着树向下遍历，根据节点中的键值进行比较，确定要查找的元素位于哪个子树中。</li><li>如果查找的元素位于叶子节点中，则直接在叶子节点中查找。</li><li>如果查找的元素不在叶子节点中，则继续向下遍历。</li></ul></li></ol><p>通过这些基本操作，B+树可以保持其有序性和平衡性，从而提供高效的索引支持。</p><h2 id="7-mysql锁的类型有哪些"><a href="#7-mysql锁的类型有哪些" class="headerlink" title="7. mysql锁的类型有哪些"></a>7. mysql锁的类型有哪些</h2><p><a href="https://juejin.cn/post/6931752749545553933">https://juejin.cn/post/6931752749545553933</a></p><h2 id="8-mysql为什么需要主从同步"><a href="#8-mysql为什么需要主从同步" class="headerlink" title="8. mysql为什么需要主从同步"></a>8. mysql为什么需要主从同步</h2><p>MySQL主从同步是一种数据库复制技术，通过在主数据库上的更改同步到一个或多个从数据库上，以确保数据的冗余备份、提高系统可用性、增加读取性能、以及提供灾难恢复能力。以下是主从同步的一些重要用途和原因：</p><ol><li><p><strong>数据备份和冗余：</strong> 主从同步可以在从数据库上创建主数据库的副本，从而实现数据的冗余备份。如果主数据库发生故障，从数据库可以快速接管服务，保证系统的可用性和数据的安全。</p></li><li><p><strong>读写分离：</strong> 主从同步允许在从数据库上进行读操作，从而分担主数据库的读取负载。这样可以提高系统的读取性能和并发处理能力。</p></li><li><p><strong>灾难恢复：</strong> 如果主数据库发生故障或数据丢失，从数据库可以作为备份数据源，用于灾难恢复和数据修复。</p></li><li><p><strong>分布式数据处理：</strong> 主从同步可以用于分布式数据处理，允许在不同地理位置或网络环境下的数据库之间同步数据，从而实现分布式计算和数据分析。</p></li><li><p><strong>数据库升级和迁移：</strong> 主从同步可以在数据库升级或迁移过程中保持数据的一致性，降低系统停机时间和风险。</p></li><li><p><strong>数据分发：</strong> 主从同步可以用于将数据分发到多个地理位置或不同的应用系统中，实现数据共享和数据集成。</p></li></ol><p>总之，MySQL主从同步是一种重要的数据库复制技术，可以提高系统的可用性、可靠性和性能，同时也可以为数据管理和应用开发提供更多的灵活性和便利性。</p><h2 id="9-mysql执行计划怎么看"><a href="#9-mysql执行计划怎么看" class="headerlink" title="9. mysql执行计划怎么看"></a>9. mysql执行计划怎么看</h2><p>在MySQL中，你可以使用<code>EXPLAIN</code>语句来查看查询的执行计划。执行计划是MySQL查询优化器根据表结构、索引情况等信息，预估的查询执行过程。通过执行计划，你可以了解查询是如何执行的，以及MySQL是如何选择使用索引、连接方式等来执行查询的。</p><p>下面是使用<code>EXPLAIN</code>语句查看执行计划的基本语法：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> your_table <span class="keyword">WHERE</span> your_condition;</span><br></pre></td></tr></table></figure><p>其中，<code>your_table</code>是要查询的表名，<code>your_condition</code>是查询条件。</p><p>执行该<code>EXPLAIN</code>语句后，MySQL会返回一张查询计划表，其中包含了查询的执行步骤、使用的索引、每一步的估算行数等信息。以下是一些常见的执行计划字段含义：</p><ul><li><code>id</code>: 查询执行步骤的顺序，从上到下递增。</li><li><code>select_type</code>: 查询的类型，如<code>SIMPLE</code>、<code>PRIMARY</code>、<code>SUBQUERY</code>等。</li><li><code>table</code>: 此行正在访问的表。</li><li><code>type</code>: 表示查询的访问类型，如<code>ALL</code>、<code>INDEX</code>、<code>RANGE</code>、<code>REF</code>等。访问类型的好坏决定了查询的性能。</li><li><code>possible_keys</code>: 可能用到的索引。</li><li><code>key</code>: 实际用到的索引。</li><li><code>key_len</code>: 索引的长度。</li><li><code>ref</code>: 表示哪个列或常量与索引一起使用。</li><li><code>rows</code>: 估计检索出的行数。</li><li><code>Extra</code>: 额外信息，如<code>Using where</code>、<code>Using index</code>等。</li></ul><p>通过分析执行计划，你可以评估查询的性能，优化查询语句以提高数据库的性能。通常的优化方式包括创建合适的索引、优化查询语句等。</p><h2 id="10-GC如何判断对象可以被回收"><a href="#10-GC如何判断对象可以被回收" class="headerlink" title="10. GC如何判断对象可以被回收"></a>10. GC如何判断对象可以被回收</h2><p>在Java中，垃圾收集器（Garbage Collector，GC）通过一些策略来判断对象是否可以被回收。下面是一些常见的判断对象是否可回收的条件：</p><ol><li><p><strong>引用计数法（Reference Counting）：</strong> 该方法并不常用，但是它是一种简单的垃圾回收算法。对象被分配一定数量的引用计数，当引用计数为零时，说明对象不再被引用，可以被回收。但这种方法不能解决循环引用问题。</p></li><li><p><strong>可达性分析（Reachability Analysis）：</strong> Java的主要垃圾收集器使用这种方式。可达性分析是基于“GC Roots”对象作为起始点，然后通过一系列的引用链（对象之间的引用关系）来判断对象是否可以被访问。如果对象不可通过任何引用链与“GC Roots”对象连接，那么它就是不可达的，可以被回收。</p></li><li><p><strong>标记-清除算法（Mark and Sweep）：</strong> 这是一种基于可达性分析的垃圾回收算法。在标记阶段，垃圾收集器标记所有与“GC Roots”对象直接或间接相连的对象。在清除阶段，垃圾收集器清除所有未标记的对象，即不可达的对象。</p></li><li><p><strong>复制算法（Copying）和标记-整理算法（Mark and Compact）：</strong> 这两种算法通常用于新生代和老年代的垃圾回收，其基本思想与标记-清除算法类似，但实现方式不同。复制算法将内存空间分为两部分，每次只使用其中一部分，当该部分内存满时，将存活对象复制到另一部分中，并清除非存活对象。标记-整理算法则是在标记-清除的基础上，将存活对象整理到内存的一端，以减少内存碎片。</p></li></ol><p>总的来说，GC判断对象是否可被回收的主要依据是对象是否可以被访问到，即对象是否可达。通过分析对象之间的引用关系，GC可以确定哪些对象不再被引用，从而将它们回收释放内存。</p><h2 id="11-JVM8为什么要增加元空间"><a href="#11-JVM8为什么要增加元空间" class="headerlink" title="11. JVM8为什么要增加元空间"></a>11. JVM8为什么要增加元空间</h2><p>Java 8 引入了元空间（Metaspace）以替代永久代（PermGen），主要出于以下几个原因：</p><ol><li><p><strong>解决永久代的限制：</strong> 永久代的大小在运行时是固定的，并且由于它是 JVM 内存中的一部分，因此其大小受到整个 JVM 堆大小的限制。这导致了在某些情况下永久代可能会发生内存溢出的问题，特别是在动态生成大量类或者字符串的场景下。</p></li><li><p><strong>更好的内存管理：</strong> 元空间不再是 JVM 内存的一部分，而是使用本地内存来存储类的元数据。这使得元空间的大小可以根据需要动态调整，而不受 JVM 堆大小的限制。这样可以更好地适应不同应用程序的内存需求。</p></li><li><p><strong>提高性能：</strong> 元空间的管理相比于永久代更为简单高效。在永久代中，类的元数据会被频繁地加载和卸载，而元空间采用了基于指针的内存分配方式，减少了垃圾回收的次数，提高了性能。</p></li><li><p><strong>避免永久代内存泄漏问题：</strong> 在永久代中，由于类的元数据存储在堆中，如果出现类加载器内存泄漏或者不正确使用 <code>ClassLoader</code>，容易导致永久代内存泄漏。而元空间将类的元数据存储在本地内存中，避免了这些问题。</p></li><li><p><strong>更好的垃圾回收机制：</strong> 元空间采用了与 Java 堆相同的垃圾回收机制，如并发标记-清除、并发标记-整理等，这使得垃圾回收更加灵活和高效。</p></li></ol><p>综上所述，引入元空间主要是为了解决永久代的限制，提高内存管理的灵活性和效率，从而提升 Java 应用程序的性能和稳定性。</p><h2 id="12-JVM内存模型如何分配的"><a href="#12-JVM内存模型如何分配的" class="headerlink" title="12. JVM内存模型如何分配的"></a>12. JVM内存模型如何分配的</h2><p>Java 虚拟机（JVM）内存模型包括了多个不同的区域，用于存储不同类型的数据和执行不同的操作。下面是 JVM 内存模型的主要分配区域：</p><ol><li><p><strong>堆（Heap）：</strong> 堆是 JVM 中最大的一块内存区域，用于存储对象实例和数组。堆是由所有线程共享的内存区域，在 JVM 启动时就被创建。堆的大小可以通过 JVM 参数进行调整，通常被划分为新生代和老年代。新生代包括了 Eden 空间和两个 Survivor 空间，而老年代则用于存放长期存活的对象。</p></li><li><p><strong>方法区（Method Area）：</strong> 方法区也被称为永久代（PermGen，Java 8 后被替代为元空间 Metaspace），用于存储类的结构信息、静态变量、常量池等数据。方法区是所有线程共享的内存区域，当类加载器加载类时，类的结构信息会被存储在方法区中。</p></li><li><p><strong>虚拟机栈（VM Stack）：</strong> 每个线程都有自己的虚拟机栈，用于存储方法调用的栈帧。栈帧包括了局部变量表、操作数栈、动态链接、方法返回地址等信息。虚拟机栈中的栈帧随着方法的调用和返回而动态地压栈和弹栈。</p></li><li><p><strong>本地方法栈（Native Method Stack）：</strong> 本地方法栈与虚拟机栈类似，用于执行本地方法（Native Method）的栈帧。与虚拟机栈不同的是，本地方法栈用于执行本地方法，而虚拟机栈用于执行 Java 方法。</p></li><li><p><strong>程序计数器（Program Counter Register）：</strong> 程序计数器是每个线程私有的，用于存储当前线程正在执行的 Java 字节码指令地址。在线程执行 Java 方法时，程序计数器会记录下一条需要执行的指令地址，当线程被切换时，程序计数器用于恢复线程执行状态。</p></li></ol><p>以上是 JVM 内存模型中的主要分配区域，不同的区域用于存储不同类型的数据和执行不同的操作。这些区域的内存分配和回收由 JVM 运行时系统自动管理，开发人员一般不需要显式地管理这些内存区域。</p><h2 id="13-JVM性能调优概述"><a href="#13-JVM性能调优概述" class="headerlink" title="13. JVM性能调优概述"></a>13. JVM性能调优概述</h2><p>JVM（Java虚拟机）性能调优是优化Java应用程序的性能，使其在吞吐量、响应时间、资源利用率等方面达到最佳状态的一系列操作。以下是对JVM性能调优的概述：</p><ol><li><p><strong>内存管理：</strong></p><ul><li>调整堆大小：根据应用程序的内存需求和性能目标，通过设置-Xms和-Xmx参数来调整堆大小，避免内存不足或过度使用内存的情况。</li><li>选择垃圾收集器：根据应用程序的特点和性能需求，选择合适的垃圾收集器，如串行收集器、并行收集器、CMS收集器、G1收集器等。</li><li>设置垃圾收集器参数：根据应用程序的特点和性能需求，通过设置垃圾收集器相关参数来调整垃圾收集器的行为，如堆大小、垃圾收集策略、线程数量等。</li></ul></li><li><p><strong>线程管理：</strong></p><ul><li>优化线程池配置：合理配置线程池的大小、队列大小、线程存活时间等参数，以提高线程的利用率和性能。</li><li>减少线程竞争：避免过度使用同步机制，减少线程之间的竞争，提高并发性能。</li></ul></li><li><p><strong>类加载优化：</strong></p><ul><li>预加载类：通过-Xbootclasspath参数预加载常用的类，加快类加载速度。</li><li>避免动态类加载：减少或避免使用反射和动态代理等动态类加载技术，以提高类加载性能。</li></ul></li><li><p><strong>代码优化：</strong></p><ul><li>减少对象创建：避免频繁创建和销毁对象，重用对象或者使用对象池来减少内存分配和垃圾回收开销。</li><li>使用高效的数据结构和算法：选择合适的数据结构和算法来提高程序的性能，如使用ArrayList代替LinkedList，使用HashMap代替Hashtable等。</li></ul></li><li><p><strong>I&#x2F;O优化：</strong></p><ul><li>使用NIO代替传统的IO操作：使用Java的NIO（New I&#x2F;O）提供的非阻塞IO功能来提高IO操作的性能。</li><li>使用缓冲流：使用缓冲流来减少IO操作的次数，提高IO操作的效率。</li></ul></li><li><p><strong>监控与调优：</strong></p><ul><li>使用JVM监控工具：使用JVisualVM、JConsole、VisualVM等监控工具来监控JVM的运行状态和性能指标，及时发现和解决性能瓶颈。</li><li>基准测试和性能分析：通过基准测试和性能分析工具来评估应用程序的性能，并找出影响性能的关键因素，进行针对性的调优。</li></ul></li></ol><p>综上所述，JVM性能调优涉及到多个方面，包括内存管理、线程管理、类加载优化、代码优化、I&#x2F;O优化等，通过合理的调优措施可以提高Java应用程序的性能和稳定性。</p><h2 id="14-JVM有哪些垃圾回收器？实际中如何选择？"><a href="#14-JVM有哪些垃圾回收器？实际中如何选择？" class="headerlink" title="14. JVM有哪些垃圾回收器？实际中如何选择？"></a>14. JVM有哪些垃圾回收器？实际中如何选择？</h2><p>Java虚拟机（JVM）中有多种垃圾回收器，每种垃圾回收器都有不同的优缺点，适用于不同类型的应用场景。以下是常见的JVM垃圾回收器：</p><ol><li><p><strong>串行垃圾收集器（Serial Garbage Collector）：</strong> 串行垃圾收集器是最基本的垃圾收集器，它使用单个线程进行垃圾收集，适用于小型应用或者开发调试阶段。</p></li><li><p><strong>并行垃圾收集器（Parallel Garbage Collector）：</strong> 并行垃圾收集器也被称为吞吐量优先收集器，它使用多个线程进行垃圾收集，适用于多核服务器和多线程应用，以最大化吞吐量。</p></li><li><p><strong>并发标记清除收集器（Concurrent Mark-Sweep Garbage Collector，CMS GC）：</strong> CMS GC是一种低延迟垃圾收集器，它在尽量减少停顿时间的同时，还要保持较高的吞吐量，适用于对响应时间要求较高的应用。</p></li><li><p><strong>G1垃圾收集器（Garbage-First Garbage Collector）：</strong> G1垃圾收集器是一种面向服务器的垃圾收集器，它在尽量减少停顿时间的同时，还能在不同内存区域之间进行垃圾回收，适用于大内存、多核服务器环境。</p></li></ol><p>在实际中，选择垃圾回收器应考虑以下几个方面：</p><ol><li><p><strong>应用需求：</strong> 不同的应用对垃圾回收器的要求不同。例如，对于对响应时间要求较高的应用，应选择低延迟的垃圾收集器，如CMS GC或G1 GC；而对于对吞吐量要求较高的应用，应选择吞吐量优先的垃圾收集器，如Parallel GC。</p></li><li><p><strong>硬件环境：</strong> 垃圾收集器的性能受到硬件环境的影响。例如，并行垃圾收集器在多核服务器上表现更好，而G1垃圾收集器适用于大内存服务器环境。</p></li><li><p><strong>内存配置：</strong> 垃圾收集器的性能与内存配置有关。例如，CMS GC和G1 GC更适用于大内存配置，而串行垃圾收集器和并行垃圾收集器适用于小内存配置。</p></li><li><p><strong>JDK版本：</strong> 不同版本的JDK可能会引入新的垃圾收集器或优化现有的垃圾收集器，因此选择垃圾收集器时应考虑JDK的版本。</p></li></ol><p>综上所述，选择垃圾收集器应综合考虑应用需求、硬件环境、内存配置和JDK版本等因素，根据具体情况进行选择。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java面试准备整理(一)</title>
      <link href="/2024/04/07/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%B8%80/"/>
      <url>/2024/04/07/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<h2 id="1-java面向对象有哪些特征"><a href="#1-java面向对象有哪些特征" class="headerlink" title="1. java面向对象有哪些特征"></a>1. java面向对象有哪些特征</h2><p>面向对象的三大特征：<strong>封装、继承、多态</strong></p><h2 id="2-ArrayList和LinkedList的区别"><a href="#2-ArrayList和LinkedList的区别" class="headerlink" title="2. ArrayList和LinkedList的区别"></a>2. ArrayList和LinkedList的区别</h2><p>都实现了<code>List</code>接口。<br><code>ArrayList</code>是基于索引的数据接口，底层是数组。<br><code>LinkedList</code>(链表)是以元素列表的形式存储数据。</p><h2 id="3-高并发中的集合有哪些问题"><a href="#3-高并发中的集合有哪些问题" class="headerlink" title="3. 高并发中的集合有哪些问题"></a>3. 高并发中的集合有哪些问题</h2><h3 id="1-第一代线程安全集合类"><a href="#1-第一代线程安全集合类" class="headerlink" title="1. 第一代线程安全集合类"></a>1. 第一代线程安全集合类</h3><p><code>Vector</code>、<code>Hashtable</code>。使用<code>synchronized</code>。效率低下。</p><h3 id="2-第二代"><a href="#2-第二代" class="headerlink" title="2. 第二代"></a>2. 第二代</h3><p><code>ArrayList</code>、<code>HashMap</code>。使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Collections.synchronizedList(list);</span><br><span class="line">Collections.synchronizedMap(m);</span><br></pre></td></tr></table></figure><h3 id="3-第三代"><a href="#3-第三代" class="headerlink" title="3. 第三代"></a>3. 第三代</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.util.concurrent.*</span><br><span class="line">ConcurrentHashMap</span><br><span class="line">CopyOnWriteArrayList</span><br><span class="line">CopyOnWriteArraySet</span><br></pre></td></tr></table></figure><p>Java 中的高并发环境下使用集合可能会遇到以下问题：</p><ol><li><p><strong>线程安全性问题</strong>：Java 中的大多数集合类（如 <code>ArrayList</code>、<code>HashMap</code> 等）在多线程环境下不是线程安全的，因此可能会导致数据不一致或者其他意外行为。</p></li><li><p><strong>性能问题</strong>：在高并发环境下，如果使用线程安全的集合类（如 <code>ConcurrentHashMap</code>、<code>CopyOnWriteArrayList</code> 等），可能会引入额外的性能开销，因为它们通常会使用同步或者复制等机制来保证线程安全。</p></li><li><p><strong>迭代器失效问题</strong>：在使用迭代器遍历集合时，如果其他线程对集合进行了修改，可能会导致迭代器失效，抛出 <code>ConcurrentModificationException</code> 异常。</p></li><li><p><strong>死锁问题</strong>：如果在高并发环境下不正确地使用集合，可能会出现死锁问题，例如两个线程分别持有集合中的不同锁，并试图获取对方持有的锁。</p></li><li><p><strong>内存泄漏问题</strong>：如果不正确地使用集合，可能会导致内存泄漏问题，例如在高并发环境下频繁地向集合中添加元素但未及时删除，可能会导致集合持有过多的引用而无法被及时回收。</p></li></ol><p>为了解决这些问题，可以采用以下方法：</p><ul><li>使用线程安全的集合类，如 <code>ConcurrentHashMap</code>、<code>CopyOnWriteArrayList</code> 等。</li><li>使用同步机制来保证多线程访问的安全性，例如使用 <code>synchronized</code> 关键字或者 <code>ReentrantLock</code> 类。</li><li>避免在迭代集合时对集合进行修改，可以使用迭代器的安全删除操作或者将集合复制一份后再进行操作。</li><li>注意合理设计并发访问的逻辑，避免死锁等并发问题的发生。</li><li>注意集合的内存使用情况，避免内存泄漏问题的发生。</li></ul><h2 id="4-JDK1-8的新特性有哪些"><a href="#4-JDK1-8的新特性有哪些" class="headerlink" title="4. JDK1.8的新特性有哪些"></a>4. JDK1.8的新特性有哪些</h2><p>由于要兼容Lambda表达式，接口里实现了默认方法，接口中带了实现。<br>函数式接口<br>支持了多重注解<br>Java 8 引入了许多重要的新特性，其中一些最显着的包括：</p><ol><li><p><strong>Lambda 表达式</strong>：Lambda 表达式是一种匿名函数，它可以作为参数传递给方法或者作为函数式接口的实例使用，极大地简化了代码的编写和阅读。</p></li><li><p><strong>Stream API</strong>：Stream API 提供了一种声明式的方式来操作集合，可以轻松地进行过滤、映射、排序、聚合等操作，大大提高了代码的简洁性和可读性。</p></li><li><p><strong>函数式接口</strong>：Java 8 引入了 <code>@FunctionalInterface</code> 注解，用于标识函数式接口，即只包含一个抽象方法的接口。这种接口可以被 Lambda 表达式直接实现，使得函数式编程更加方便。</p></li><li><p><strong>方法引用</strong>：方法引用允许通过方法的名字来引用方法，而不需要像 Lambda 表达式那样提供方法的完整定义，可以进一步简化代码。</p></li><li><p><strong>默认方法</strong>：接口中可以定义默认方法，这些方法可以在接口中提供默认的实现，从而在接口的实现类中直接使用，而无需重新实现。</p></li><li><p><strong>Optional 类</strong>：Optional 类是一个容器对象，用于包装可能为 null 的值，可以避免空指针异常，并提供了一些便利的方法来处理可能为 null 的值。</p></li><li><p><strong>新的日期和时间 API</strong>：Java 8 引入了 <code>java.time</code> 包，提供了全新的日期和时间 API，解决了旧的 <code>java.util.Date</code> 和 <code>java.util.Calendar</code> API 的许多问题，例如线程安全性和易用性。</p></li><li><p><strong>CompletableFuture 类</strong>：CompletableFuture 类提供了一种便利的方式来进行异步编程，可以轻松地处理异步任务的完成和组合。</p></li></ol><p>这些新特性使得 Java 8 成为一个重要的版本，为 Java 编程带来了许多新的可能性和优势。</p><h2 id="5-Java接口和抽象类有哪些区别"><a href="#5-Java接口和抽象类有哪些区别" class="headerlink" title="5. Java接口和抽象类有哪些区别"></a>5. Java接口和抽象类有哪些区别</h2><p>语法的区别<br>语义的区别：什么时候用接口，什么时候用抽象类。<br>抽象类面对的是一个概念，动物，哺乳动物，植物，有具体概念的建议用抽象类去实现。<br>接口描述的是某些共同特征，比如flyable</p><h2 id="6-hashcode和equals如何使用"><a href="#6-hashcode和equals如何使用" class="headerlink" title="6. hashcode和equals如何使用"></a>6. hashcode和equals如何使用</h2><p>在Java中，<code>hashCode()</code>和<code>equals()</code>方法是用于处理对象相等性和哈希值计算的两个重要方法。</p><ol><li><p><code>hashCode()</code>方法：</p><ul><li><code>hashCode()</code>方法用于返回对象的哈希码（hash code），它是一个32位的整数。</li><li>哈希码用于快速定位对象在哈希表中的位置，因此它对于实现高效的数据结构如HashMap、HashSet等非常重要。</li><li>在实现<code>hashCode()</code>方法时，通常需要遵循以下约定：<ul><li>如果两个对象根据<code>equals()</code>方法相等，则它们的哈希码必须相等。</li><li>但是，两个对象的哈希码相等并不意味着它们相等，即对于不同的对象，哈希码可能相同（哈希冲突）。</li></ul></li><li>如果重写了<code>equals()</code>方法，则通常也需要重写<code>hashCode()</code>方法，以保持对象相等性和哈希码一致。</li></ul></li><li><p><code>equals()</code>方法：</p><ul><li><code>equals()</code>方法用于比较两个对象是否相等。在Java中，默认的<code>equals()</code>方法实现是比较对象的引用是否相同（即比较内存地址）。</li><li>通常需要重写<code>equals()</code>方法来定义对象相等的规则。重写<code>equals()</code>方法时，需要遵循以下约定：<ul><li>自反性：对于任何非空引用值<code>x</code>，<code>x.equals(x)</code>必须返回<code>true</code>。</li><li>对称性：对于任何非空引用值<code>x</code>和<code>y</code>，如果<code>x.equals(y)</code>返回<code>true</code>，则<code>y.equals(x)</code>也必须返回<code>true</code>。</li><li>传递性：对于任何非空引用值<code>x</code>、<code>y</code>和<code>z</code>，如果<code>x.equals(y)</code>返回<code>true</code>，<code>y.equals(z)</code>返回<code>true</code>，则<code>x.equals(z)</code>也必须返回<code>true</code>。</li><li>一致性：对于任何非空引用值<code>x</code>和<code>y</code>，如果对象中的信息没有改变，多次调用<code>x.equals(y)</code>应该始终返回相同的结果。</li><li>对于任何非空引用值<code>x</code>，<code>x.equals(null)</code>必须返回<code>false</code>。</li></ul></li><li>重写<code>equals()</code>方法时，需要确保与<code>hashCode()</code>方法一致，即如果两个对象根据<code>equals()</code>方法相等，则它们的哈希码也必须相等。</li></ul></li></ol><p>综上所述，<code>hashCode()</code>和<code>equals()</code>方法在Java中常用于实现对象的相等性比较和哈希值计算，这对于在集合中存储对象、使用哈希表等数据结构非常重要。</p><h2 id="7-java代理的几种实现方式"><a href="#7-java代理的几种实现方式" class="headerlink" title="7. java代理的几种实现方式"></a>7. java代理的几种实现方式</h2><p>静态代理<br>两种动态代理<br>在Java中，代理是一种常见的设计模式，用于控制对其他对象的访问。代理可以在访问对象时添加额外的逻辑，例如日志记录、性能监控、安全控制等。Java中实现代理的几种方式包括：</p><ol><li><p>静态代理：</p><ul><li>静态代理是在编译时确定代理类和被代理类的关系。代理类和被代理类在编译期间就已经确定，代理类通常实现与被代理类相同的接口或者继承相同的父类。</li><li>静态代理的实现比较简单，可以直接在代理类中调用被代理类的方法，并在方法前后添加额外的逻辑。</li></ul></li><li><p>动态代理（JDK动态代理）：</p><ul><li>JDK动态代理是在运行时动态生成代理类的方式。它是通过Java反射机制实现的，在运行时创建代理对象并动态处理对被代理方法的调用。</li><li>JDK动态代理要求被代理的类必须实现接口，代理类通过实现<code>InvocationHandler</code>接口来处理被代理方法的调用。</li></ul></li><li><p>CGLIB代理：</p><ul><li>CGLIB代理是针对类的代理，它通过动态生成被代理类的子类来实现代理。因此，被代理类不需要实现接口，而是通过继承来实现代理。</li><li>CGLIB代理通过字节码技术在运行时创建代理类的子类，并重写其中的方法，在方法前后添加额外的逻辑。</li></ul></li><li><p>Java动态代理与CGLIB代理的比较：</p><ul><li>Java动态代理适用于接口代理，要求被代理的类必须实现接口，因此更加灵活，但是无法对类的非接口方法进行代理。</li><li>CGLIB代理适用于类的代理，不要求被代理的类实现接口，因此更加灵活，可以代理类的任何方法，但是无法代理<code>final</code>方法和<code>private</code>方法。</li></ul></li></ol><p>总的来说，静态代理、JDK动态代理和CGLIB代理是Java中常用的代理实现方式，它们各自具有不同的特点和适用场景，可以根据具体需求选择合适的代理方式。</p><h2 id="8-java中-和-equals-有哪些区别"><a href="#8-java中-和-equals-有哪些区别" class="headerlink" title="8. java中 &#x3D;&#x3D; 和 equals 有哪些区别"></a>8. java中 &#x3D;&#x3D; 和 equals 有哪些区别</h2><p><code>==</code> 基本数据类型比较值，引用数据类型比较的地址。<br><code>equals</code> 比较两个对象的内容是否相等</p><h2 id="9-java中异常处理机制是什么"><a href="#9-java中异常处理机制是什么" class="headerlink" title="9. java中异常处理机制是什么"></a>9. java中异常处理机制是什么</h2><p>抛出异常 throw<br>捕获异常 try catch finally<br>声明异常 throws</p><h2 id="10-java中重写和重载有哪些区别"><a href="#10-java中重写和重载有哪些区别" class="headerlink" title="10. java中重写和重载有哪些区别"></a>10. java中重写和重载有哪些区别</h2><p>重载overload：同一个类中，参数不同的<br>重写override：子类和父类中，重写的方法和被重写的方法</p><h2 id="11-String、StringBuffer、StringBuilder区别及使用场景"><a href="#11-String、StringBuffer、StringBuilder区别及使用场景" class="headerlink" title="11. String、StringBuffer、StringBuilder区别及使用场景"></a>11. String、StringBuffer、StringBuilder区别及使用场景</h2><p>String是只读字符串<br><code>String</code>、<code>StringBuffer</code>和<code>StringBuilder</code>是Java中用于处理字符串的三个类，它们在设计和使用上有一些区别，适用于不同的场景：</p><ol><li><p><code>String</code>：</p><ul><li><code>String</code>是不可变的（immutable）类，一旦创建就不能被修改。这意味着每次对<code>String</code>进行修改时，都会创建一个新的<code>String</code>对象，旧的对象会被丢弃，这样会导致性能开销和内存浪费。</li><li>由于<code>String</code>是不可变的，因此它是线程安全的，可以被多个线程安全地共享。</li></ul></li><li><p><code>StringBuffer</code>：</p><ul><li><code>StringBuffer</code>是可变的（mutable）类，它提供了对字符串进行修改的方法，例如<code>append()</code>、<code>insert()</code>、<code>delete()</code>等。因此，对于频繁的字符串拼接或者修改操作，使用<code>StringBuffer</code>会比直接使用<code>String</code>更高效。</li><li><code>StringBuffer</code>是线程安全的，它的方法都是同步的，适用于多线程环境。</li></ul></li><li><p><code>StringBuilder</code>：</p><ul><li><code>StringBuilder</code>与<code>StringBuffer</code>类似，也是可变的字符串序列。但是，与<code>StringBuffer</code>不同的是，<code>StringBuilder</code>的方法都是非同步的，因此在单线程环境下性能更好。</li><li>由于<code>StringBuilder</code>的方法不是同步的，因此它不适用于多线程环境。</li></ul></li></ol><p>使用场景：</p><ul><li>当需要处理不可变的字符串时，例如字符串常量，可以使用<code>String</code>类。</li><li>当需要在单线程环境下进行频繁的字符串操作时，例如字符串拼接、修改等，可以使用<code>StringBuilder</code>。</li><li>当需要在多线程环境下进行字符串操作时，可以使用<code>StringBuffer</code>，因为它是线程安全的，但是性能相对较低，如果不需要线程安全的话，也可以使用<code>StringBuilder</code>。</li></ul><p>综上所述，根据具体需求和线程安全性要求，可以选择使用<code>String</code>、<code>StringBuffer</code>或者<code>StringBuilder</code>来处理字符串。</p><h2 id="12-怎样声明一个类不会被继承，什么场景下会用"><a href="#12-怎样声明一个类不会被继承，什么场景下会用" class="headerlink" title="12. 怎样声明一个类不会被继承，什么场景下会用"></a>12. 怎样声明一个类不会被继承，什么场景下会用</h2><p>用final修饰。例如Math类</p><h2 id="13-自定义异常在生产中如何应用"><a href="#13-自定义异常在生产中如何应用" class="headerlink" title="13. 自定义异常在生产中如何应用"></a>13. 自定义异常在生产中如何应用</h2><p>自定义异常在生产环境中的应用可以提高代码的健壮性、可维护性和可读性，使得异常处理更加规范和易于管理。合理地使用自定义异常可以有效地提高系统的稳定性和可靠性，从而提升用户体验和系统性能。<br>继承合适的父类：自定义异常类应当继承自Exception类或者其子类，例如RuntimeException，以便在异常处理时能够统一处理或者捕获。</p><h2 id="14-Redis线程模型有哪些，单线程为什么快"><a href="#14-Redis线程模型有哪些，单线程为什么快" class="headerlink" title="14. Redis线程模型有哪些，单线程为什么快"></a>14. Redis线程模型有哪些，单线程为什么快</h2><p>Redis的线程模型主要有单线程模型和多线程模型两种。</p><ol><li><p>单线程模型：</p><ul><li>Redis最初采用的是单线程模型。单线程模型指的是Redis服务器在一个线程中顺序地处理所有请求，所有的命令都在一个事件循环中执行。</li><li>单线程模型的优势在于简单高效，因为不需要考虑线程同步和线程切换的开销，避免了多线程并发访问共享数据可能引发的竞态条件和死锁问题。</li><li>Redis单线程模型适用于大多数情况下的数据存储和处理，特别是在单个CPU核心的情况下，单线程模型的性能表现通常比较优秀。</li></ul></li><li><p>多线程模型：</p><ul><li>Redis 6.0 版本引入了多线程模型（Redis主从分离模式），可以充分利用多核CPU的性能，提升服务器的吞吐量和并发处理能力。</li><li>多线程模型将网络IO、命令处理和数据读写等操作分配给多个工作线程处理，可以提高系统的并发处理能力，适用于高并发的场景。</li></ul></li></ol><p>为什么单线程模型在某些情况下会比多线程模型快呢？</p><ol><li><p>线程切换开销：在多线程模型中，由于涉及到线程的创建、销毁和切换，会产生额外的开销，而单线程模型避免了这些开销。</p></li><li><p>CPU缓存优化：单线程模型可以更好地利用CPU缓存，因为数据和指令都在同一个线程中执行，避免了多线程中频繁的数据共享和同步操作可能引发的缓存失效问题。</p></li><li><p>线程同步和锁竞争：在多线程模型中，由于涉及到多个线程对共享资源的访问和修改，需要进行线程同步和锁竞争，而单线程模型避免了这些问题。</p></li></ol><p>虽然单线程模型在某些情况下性能优于多线程模型，但是对于高并发、大规模的应用场景，多线程模型能够更好地利用多核CPU的性能，提高系统的并发处理能力。因此，选择合适的线程模型需要根据具体的应用场景和需求进行权衡和选择。</p><h2 id="15-Redis持久化机制：RDB和AOF"><a href="#15-Redis持久化机制：RDB和AOF" class="headerlink" title="15. Redis持久化机制：RDB和AOF"></a>15. Redis持久化机制：RDB和AOF</h2><p>Redis（远程字典服务器）是一种流行的内存数据库，它支持多种持久化机制来保证数据的安全性和可靠性。两种主要的持久化机制是RDB（Redis Database）和AOF（Append-Only File）。</p><ol><li><p><strong>RDB（Redis Database）</strong>：</p><ul><li>RDB 是 Redis 的一种快照持久化方式，它周期性地将 Redis 在内存中的数据以快照的形式保存到硬盘上的一个文件中。</li><li>生成 RDB 文件的时机可以通过配置文件中的保存条件来设置，比如在一定的时间间隔内或者在达到一定数量的写操作后。</li><li>由于 RDB 是将整个数据集保存到文件中，因此它的恢复速度比较快，适用于对数据一致性要求不是很高、需要定期备份或者迁移数据的场景。</li></ul></li><li><p><strong>AOF（Append-Only File）</strong>：</p><ul><li>AOF 是通过将 Redis 的写操作以追加的方式记录到一个文件中来实现持久化的机制。</li><li>AOF 文件记录了 Redis 服务器接收到的所有写命令，通过重放这些命令可以恢复数据。</li><li>AOF 文件的内容是可读的，因此在故障发生时可以比较容易地手动修复，但相对于 RDB，AOF 文件通常会更大一些。</li><li>AOF 提供了不同的同步选项，可以在性能和数据安全之间进行权衡，比如可以选择每个命令都同步到磁盘，或者每秒同步一次等。</li></ul></li></ol><p>在实际应用中，可以根据业务需求和对数据一致性、恢复速度等方面的要求选择适合的持久化机制，甚至可以同时使用 RDB 和 AOF 来提高数据的安全性。</p><h2 id="16-redis的过期键有哪些删除策略"><a href="#16-redis的过期键有哪些删除策略" class="headerlink" title="16. redis的过期键有哪些删除策略"></a>16. redis的过期键有哪些删除策略</h2><p>Redis 中有几种删除过期键的策略，它们分别是：</p><ol><li><p><strong>定期删除（定时任务）</strong>：<br>Redis 默认会每秒检查一定数量的过期键，然后删除其中已过期的键。这个数量可以通过配置文件中的 <code>hz</code> 参数进行设置，默认为 10。</p></li><li><p><strong>惰性删除</strong>：<br>当客户端尝试访问某个键时，Redis 会先检查该键是否过期，如果过期则会立即删除。这种方式称为惰性删除。</p></li><li><p><strong>定期删除 + 惰性删除结合</strong>：<br>定期删除和惰性删除可以结合使用，定期删除确保过期键不会一直占据内存，而惰性删除则保证了内存的及时回收。</p></li><li><p><strong>过期键删除策略配置</strong>：<br>在 Redis 的配置文件中，可以通过设置 <code>maxmemory-policy</code> 参数来调整过期键的删除策略。常见的策略包括：</p><ul><li><code>volatile-lru</code>：从已设置过期时间的键中挑选最近最少使用的键进行删除。</li><li><code>volatile-ttl</code>：从已设置过期时间的键中挑选即将过期的键进行删除。</li><li><code>volatile-random</code>：从已设置过期时间的键中随机选择键进行删除。</li><li><code>allkeys-lru</code>：从所有键中挑选最近最少使用的键进行删除，包括设置过期时间和未设置过期时间的键。</li><li><code>allkeys-random</code>：从所有键中随机选择键进行删除。</li><li><code>noeviction</code>：禁止删除任何键，当内存用完时，所有写操作都会返回错误。</li></ul></li></ol><p>通过选择合适的删除策略，可以根据实际需求来平衡内存使用和数据可用性。</p><h2 id="17-redis缓存如何回收"><a href="#17-redis缓存如何回收" class="headerlink" title="17. redis缓存如何回收"></a>17. redis缓存如何回收</h2><p>Redis 中的缓存回收通常是指对内存的回收，以确保 Redis 不会因为内存占用过高而导致性能下降或者服务不可用。主要的缓存回收方法包括：</p><ol><li><p><strong>内存淘汰策略</strong>：<br>Redis 提供了多种内存淘汰策略，用于在内存达到最大限制时选择要移除的键。常见的淘汰策略包括：</p><ul><li>LRU（最近最少使用）：移除最近最少使用的键。</li><li>LFU（最少频繁使用）：移除最少频繁使用的键。</li><li>TTL（过期时间）：移除最早过期的键。</li></ul></li><li><p><strong>设置内存最大限制</strong>：<br>可以在 Redis 配置文件中设置 <code>maxmemory</code> 参数，限制 Redis 实例使用的最大内存量。当达到这个限制时，Redis 将会根据配置的内存淘汰策略来回收内存。</p></li><li><p><strong>手动删除</strong>：<br>可以通过手动删除键来释放内存。当某些键不再需要缓存时，可以通过 <code>DEL</code> 命令删除这些键。</p></li><li><p><strong>持久化策略</strong>：<br>使用持久化机制（如 RDB 或 AOF）时，可以通过合理的设置持久化策略来控制数据的持久化频率，从而间接地控制内存的占用。</p></li><li><p><strong>过期键自动删除</strong>：<br>Redis 中的键可以设置过期时间，一旦过期时间到达，Redis 将自动删除这些键以释放内存空间。</p></li><li><p><strong>内存优化</strong>：<br>可以通过一些优化策略来减少 Redis 实例的内存占用，比如使用数据结构优化、压缩数据、分片数据等方式。</p></li></ol><p>综合利用这些方法，可以有效地管理 Redis 的内存使用，确保其在高性能的同时不会因为内存溢出而导致服务不可用。</p><h2 id="18-redis集群方案有哪些"><a href="#18-redis集群方案有哪些" class="headerlink" title="18. redis集群方案有哪些"></a>18. redis集群方案有哪些</h2><p>在搭建 Redis 集群时，有几种常见的方案：</p><ol><li><p><strong>Redis Sentinel</strong>：<br>Redis Sentinel 是 Redis 官方提供的高可用性解决方案，它可以监控 Redis 实例的健康状态，并在主节点宕机时自动将从节点提升为主节点，以保证系统的可用性。但是 Redis Sentinel 本身并不支持数据分片，只能用于高可用性方案。</p></li><li><p><strong>Redis Cluster</strong>：<br>Redis Cluster 是 Redis 官方提供的分布式方案，它将数据分片存储在多个节点上，并提供了自动数据分片和数据复制等功能，可以实现水平扩展和高可用性。Redis Cluster 在设计上遵循了主从复制、数据分片和节点互相通信等原则，提供了一套完整的分布式解决方案。</p></li><li><p><strong>第三方方案</strong>：<br>除了官方提供的解决方案之外，还有一些第三方工具和方案可以实现 Redis 的集群化，比如 Twemproxy、Codis 等。这些方案可能会提供一些额外的功能或者更加灵活的配置选项，但也可能会增加系统的复杂度和维护成本。</p></li></ol><p>在选择适合自己的 Redis 集群方案时，需要考虑到系统的需求、性能要求、高可用性要求以及团队的技术栈和维护成本等因素。</p><h2 id="19-redis事务是怎么实现的"><a href="#19-redis事务是怎么实现的" class="headerlink" title="19. redis事务是怎么实现的"></a>19. redis事务是怎么实现的</h2><p>Redis 的事务是通过 MULTI&#x2F;EXEC 命令组合来实现的，具体过程如下：</p><ol><li><p><strong>MULTI 命令</strong>：<br>客户端发送 MULTI 命令给 Redis 服务器，表示开始一个事务。Redis 服务器收到 MULTI 命令后，会将当前客户端设置为事务状态，并将后续的命令都放入一个队列中，等待执行。</p></li><li><p><strong>命令入队</strong>：<br>在 MULTI 和 EXEC 之间的所有命令都会被放入事务队列中，而不是立即执行。这些命令不会立即改变数据库状态，而是暂时保存在队列中。</p></li><li><p><strong>命令执行</strong>：<br>客户端发送 EXEC 命令给 Redis 服务器，表示执行事务中的所有命令。Redis 服务器收到 EXEC 命令后，会按照命令入队的顺序，逐个执行事务队列中的命令。</p></li><li><p><strong>事务原子性</strong>：<br>在执行事务期间，Redis 会将这些命令作为一个整体进行执行，要么全部执行成功，要么全部执行失败。这保证了事务的原子性，即要么所有命令都成功执行，要么都不执行。</p></li><li><p><strong>执行结果返回</strong>：<br>执行事务队列中的命令后，Redis 会将每个命令的执行结果按照顺序返回给客户端。如果在执行事务过程中出现了错误，Redis 会返回一个错误给客户端，同时回滚之前已执行的命令。</p></li></ol><p>通过这种方式，Redis 的事务可以确保一系列命令的原子性执行，但需要注意的是，Redis 的事务并不支持回滚操作，因此在发生错误时，需要由客户端自行处理错误并进行补偿操作。</p><h2 id="20-redis-主从复制的原理"><a href="#20-redis-主从复制的原理" class="headerlink" title="20. redis 主从复制的原理"></a>20. redis 主从复制的原理</h2><p>Redis 主从复制是一种常用的高可用性和读写分离方案，它的原理如下：</p><ol><li><p><strong>建立连接</strong>：<br>首先，从节点（Slave）会向主节点（Master）发送一个 PSYNC 或 SYNC 命令，请求建立复制连接。</p></li><li><p><strong>同步数据</strong>：<br>一旦连接建立成功，主节点会将自己的数据发送给从节点，从节点会接收并保存这些数据。如果是首次进行复制，主节点会发送整个数据集；如果是增量复制，主节点会发送从上次复制点之后的数据变化。</p></li><li><p><strong>增量复制</strong>：<br>在初始同步完成后，主节点会继续将所有写命令发送给从节点，从节点会根据这些写命令来更新自己的数据集。这样，从节点就能保持和主节点一样的数据状态。</p></li><li><p><strong>持续连接和同步</strong>：<br>一旦复制建立，主从节点之间会维持一个持久的连接。主节点会持续地将写命令发送给从节点，确保从节点始终与主节点保持同步。</p></li><li><p><strong>主从切换</strong>：<br>当主节点宕机或者不可用时，可以手动或自动地将从节点提升为主节点，以保证系统的高可用性。在自动故障转移中，Redis Sentinel 或其他监控工具会监测主节点的状态，并在主节点不可用时自动将某个从节点升级为主节点。</p></li></ol><p>通过主从复制，Redis 实现了数据的备份和读写分离，提高了系统的可用性和性能。从节点可以处理读请求，分担主节点的压力，同时在主节点故障时可以快速接管，保证服务的连续性。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 1 41-50</title>
      <link href="/2024/04/07/verbal-advantage-level-1-41-50/"/>
      <url>/2024/04/07/verbal-advantage-level-1-41-50/</url>
      
        <content type="html"><![CDATA[<h1 id="word-41-50"><a href="#word-41-50" class="headerlink" title="word 41-50"></a>word 41-50</h1><h2 id="word-41-cantankerous-脾气坏的，爱争吵的"><a href="#word-41-cantankerous-脾气坏的，爱争吵的" class="headerlink" title="word 41: cantankerous 脾气坏的，爱争吵的"></a>word 41: <strong>cantankerous</strong> 脾气坏的，爱争吵的</h2><p>They are often obstinate and cantankerous, and as a result they are unwanted by their relations.</p><h2 id="word-42-flippant-轻率的，无礼的"><a href="#word-42-flippant-轻率的，无礼的" class="headerlink" title="word 42: flippant 轻率的，无礼的"></a>word 42: <strong>flippant</strong> 轻率的，无礼的</h2><p>He was very flippant in parts of his speech and completely callous in other parts of it.</p><h2 id="word-43-subjugate-征服，镇压"><a href="#word-43-subjugate-征服，镇压" class="headerlink" title="word 43: subjugate 征服，镇压"></a>word 43: <strong>subjugate</strong> 征服，镇压</h2><p>Nearly 1, 000 years have passed since we were conquered or subjugated by external force.</p><h2 id="word-44-wry-扭曲的，歪斜的"><a href="#word-44-wry-扭曲的，歪斜的" class="headerlink" title="word 44: wry 扭曲的，歪斜的"></a>word 44: <strong>wry</strong> 扭曲的，歪斜的</h2><p>It is characterized by a lot of wry humour, some of which had me spontaneously laughing aloud.</p><h2 id="word-45-urbane-温文尔雅的，彬彬有礼的"><a href="#word-45-urbane-温文尔雅的，彬彬有礼的" class="headerlink" title="word 45: urbane 温文尔雅的，彬彬有礼的"></a>word 45: <strong>urbane</strong> 温文尔雅的，彬彬有礼的</h2><p>Yet he proves to be far from the urbane wealthy gentleman they were expecting.</p><h2 id="word-46-jargon-行话，术语"><a href="#word-46-jargon-行话，术语" class="headerlink" title="word 46: jargon 行话，术语"></a>word 46: <strong>jargon</strong> 行话，术语</h2><p>To sum up, this book is very clearly written and presented throughout, and refreshingly free of jargon and conceptual obfuscation.</p><h2 id="word-47-prudent-谨慎的，节俭的"><a href="#word-47-prudent-谨慎的，节俭的" class="headerlink" title="word 47: prudent 谨慎的，节俭的"></a>word 47: <strong>prudent</strong> 谨慎的，节俭的</h2><p>In other words, democratic responsibility requires that policy decisions are clearly defensible as being prudent and in the public interest.</p><h2 id="word-48-inviolable-不可侵犯的，不可违返的"><a href="#word-48-inviolable-不可侵犯的，不可违返的" class="headerlink" title="word 48: inviolable 不可侵犯的，不可违返的"></a>word 48: <strong>inviolable</strong> 不可侵犯的，不可违返的</h2><p>The condition would be inviolable, because every candidate would have the property.</p><h2 id="word-49-commodious-宽敞的"><a href="#word-49-commodious-宽敞的" class="headerlink" title="word 49: commodious 宽敞的"></a>word 49: <strong>commodious</strong> 宽敞的</h2><p>More commodious quarters increased in cost.</p><h2 id="word-50-proximity-接近，附近"><a href="#word-50-proximity-接近，附近" class="headerlink" title="word 50: proximity 接近，附近"></a>word 50: <strong>proximity</strong> 接近，附近</h2><p>He visited rural villages and witnessed how the different groups lived in close proximity to one another.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷P1655 斯特灵数java</title>
      <link href="/2024/04/05/%E6%B4%9B%E8%B0%B7P1655-%E6%96%AF%E7%89%B9%E7%81%B5%E6%95%B0java/"/>
      <url>/2024/04/05/%E6%B4%9B%E8%B0%B7P1655-%E6%96%AF%E7%89%B9%E7%81%B5%E6%95%B0java/</url>
      
        <content type="html"><![CDATA[<h1 id="小朋友的球"><a href="#小朋友的球" class="headerlink" title="小朋友的球"></a>小朋友的球</h1><p><a href="https://www.luogu.com.cn/problem/P1655">题目链接</a></p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>@发源于 小朋友最近特别喜欢球。有一天他脑子抽了，从口袋里拿出了 $N$ 个不同的球，想把它们放到 $M$ 个相同的盒子里，并且要求每个盒子中至少要有一个球，他好奇有几种放法，于是尝试编程实现，但由于他天天不好好学习，只会上 B 站看游泳教练，于是他向你求助。</p><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>多组数据，每行两个数 $N,M$。</p><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>每组数据一行，表示方案数。</p><h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4 2</span><br><span class="line">1 1</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>对于 $20%$ 的数据，满足 $N,M \leq 10$；</li><li>对于 $100%$ 的数据，满足 $1 \leq N,M \leq 100$，一个测试文件最多有 $10$ 组测试数据。</li></ul><h1 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h1><p><a href="https://zh.wikipedia.org/wiki/%E6%96%AF%E7%89%B9%E7%81%B5%E6%95%B0">斯特灵数</a></p><h2 id="BigInteger"><a href="#BigInteger" class="headerlink" title="BigInteger"></a>BigInteger</h2><p>因为实在不想写C++高精，或者说我已经不用写C++高精了，所以选择java或者python去解决问题更明智一些。<br>简单记录一下java中BigInteger的使用方法。<br><strong>在 Java 中，<code>BigInteger</code> 是不可变的类，这意味着一旦创建了一个 BigInteger 对象，它的值就不能被改变。</strong><br>BigInteger 类是 Java 中用来表示任意精度整数的类。由于它可以处理比 long 类型更大范围的整数，因此在需要处理大整数计算时非常有用。以下是一些 BigInteger 类的常见用法：</p><ol><li><p><strong>创建 BigInteger 对象</strong>：可以通过构造函数或静态工厂方法来创建 BigInteger 对象。</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigInteger</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;12345678901234567890&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">num2</span> <span class="operator">=</span> BigInteger.valueOf(<span class="number">98765432109876543210L</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>常用方法</strong>：</p><ul><li>加法：<code>add(BigInteger val)</code></li><li>减法：<code>subtract(BigInteger val)</code></li><li>乘法：<code>multiply(BigInteger val)</code></li><li>除法：<code>divide(BigInteger val)</code></li><li>取余：<code>remainder(BigInteger val)</code></li><li>绝对值：<code>abs()</code></li><li>比较：<code>compareTo(BigInteger val)</code></li><li>转换为 long 类型：<code>longValue()</code></li><li>转换为字符串：<code>toString()</code></li></ul></li><li><p><strong>与原始数据类型的转换</strong>：</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">intValue</span> <span class="operator">=</span> num1.intValue();</span><br><span class="line"><span class="type">long</span> <span class="variable">longValue</span> <span class="operator">=</span> num1.longValue();</span><br><span class="line"><span class="type">double</span> <span class="variable">doubleValue</span> <span class="operator">=</span> num1.doubleValue();</span><br></pre></td></tr></table></figure></li><li><p><strong>比较两个 BigInteger</strong>：</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (num1.compareTo(num2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// num1 大于 num2</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (num1.compareTo(num2) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// num1 小于 num2</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// num1 等于 num2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>BigInteger 的不可变性</strong>：BigInteger 对象的值是不可变的，因此任何数学运算都会产生一个新的 BigInteger 对象。所以，进行数学运算后，原始的 BigInteger 对象不会改变。</p></li><li><p><strong>BigInteger 的位运算</strong>：BigInteger 类也支持位运算方法，比如 <code>and()</code>、<code>or()</code>、<code>xor()</code> 和 <code>shiftLeft()</code>、<code>shiftRight()</code> 等方法。</p></li></ol><p>以上是一些常见的 BigInteger 类的用法，可以根据具体的需求选择合适的方法来操作 BigInteger 对象。</p><h2 id="AC代码"><a href="#AC代码" class="headerlink" title="AC代码"></a>AC代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">MAX</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> BigInteger[][] S = <span class="keyword">new</span> <span class="title class_">BigInteger</span>[MAX][MAX];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">initS</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;MAX;i++)&#123;</span><br><span class="line">            S[i][i]=BigInteger.ONE;</span><br><span class="line">            S[i][<span class="number">1</span>]=BigInteger.ONE;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;i;j++)&#123;</span><br><span class="line">                S[i][j]=S[i-<span class="number">1</span>][j-<span class="number">1</span>].add(S[i-<span class="number">1</span>][j].multiply(BigInteger.valueOf(j)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        initS();</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(sc.hasNextInt())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(n&lt;m) System.out.println(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">else</span> System.out.println(S[n][m]);</span><br><span class="line">        &#125;</span><br><span class="line">        sc.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 洛谷 </tag>
            
            <tag> 组合数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 1 21-40</title>
      <link href="/2024/04/05/verbal-advantage-level-1-21-40/"/>
      <url>/2024/04/05/verbal-advantage-level-1-21-40/</url>
      
        <content type="html"><![CDATA[<h1 id="word-21-30"><a href="#word-21-30" class="headerlink" title="word 21-30"></a>word 21-30</h1><h2 id="word-21-creed-信条，信仰"><a href="#word-21-creed-信条，信仰" class="headerlink" title="word 21: creed 信条，信仰"></a>word 21: <strong>creed</strong> 信条，信仰</h2><p>It takes in anybody regardless of religion, colour, or creed.</p><h2 id="word-22-tawdry-廉价而花哨的，俗艳的"><a href="#word-22-tawdry-廉价而花哨的，俗艳的" class="headerlink" title="word 22: tawdry 廉价而花哨的，俗艳的"></a>word 22: <strong>tawdry</strong> 廉价而花哨的，俗艳的</h2><p>A person may wear tawdry clothing or have a tawdry reputation.</p><h2 id="word-23-peevish-易怒的，坏脾气的"><a href="#word-23-peevish-易怒的，坏脾气的" class="headerlink" title="word 23: peevish 易怒的，坏脾气的"></a>word 23: <strong>peevish</strong> 易怒的，坏脾气的</h2><p>She glared down at me with a peevish expression on her face.</p><h2 id="word-24-arduous-费力的，艰难的"><a href="#word-24-arduous-费力的，艰难的" class="headerlink" title="word 24: arduous 费力的，艰难的"></a>word 24: <strong>arduous</strong> 费力的，艰难的</h2><p>We must have patience in doing arduous work.</p><h2 id="word-25-personable-英俊的，漂亮的，好看的"><a href="#word-25-personable-英俊的，漂亮的，好看的" class="headerlink" title="word 25: personable 英俊的，漂亮的，好看的"></a>word 25: <strong>personable</strong> 英俊的，漂亮的，好看的</h2><p>Jeremy excepted, the men seemed personable.</p><h2 id="word-26-resolute-坚决的，果断的"><a href="#word-26-resolute-坚决的，果断的" class="headerlink" title="word 26: resolute 坚决的，果断的"></a>word 26: <strong>resolute</strong> 坚决的，果断的</h2><p>Voters perceive him as a decisive and resolute international leader.</p><h2 id="word-27-supposition-假定，推测"><a href="#word-27-supposition-假定，推测" class="headerlink" title="word 27: supposition 假定，推测"></a>word 27: <strong>supposition</strong> 假定，推测</h2><p>The report is based entirely on supposition.</p><h2 id="word-28-arbitrary-武断的，主观的"><a href="#word-28-arbitrary-武断的，主观的" class="headerlink" title="word 28: arbitrary 武断的，主观的"></a>word 28: <strong>arbitrary</strong> 武断的，主观的</h2><p>He makes unpredictable, arbitrary decisions.</p><h2 id="word-29-monotonous-单调的，无变化的"><a href="#word-29-monotonous-单调的，无变化的" class="headerlink" title="word 29: monotonous 单调的，无变化的"></a>word 29: <strong>monotonous</strong> 单调的，无变化的</h2><p>It’s monotonous work, like most factory jobs.</p><h2 id="word-30-legacy-遗产，遗赠"><a href="#word-30-legacy-遗产，遗赠" class="headerlink" title="word 30: legacy 遗产，遗赠"></a>word 30: <strong>legacy</strong> 遗产，遗赠</h2><p>They each received a legacy of $5 000.</p><h1 id="word-31-40"><a href="#word-31-40" class="headerlink" title="word 31-40"></a>word 31-40</h1><h2 id="word-31：manifold-各种各样的，多方面的"><a href="#word-31：manifold-各种各样的，多方面的" class="headerlink" title="word 31：manifold 各种各样的，多方面的"></a>word 31：<strong>manifold</strong> 各种各样的，多方面的</h2><p>The possibilities were manifold.</p><h2 id="word-32-pliant-柔韧的，可塑的-能适应的，易受影响的"><a href="#word-32-pliant-柔韧的，可塑的-能适应的，易受影响的" class="headerlink" title="word 32: pliant 柔韧的，可塑的 &#x2F; 能适应的，易受影响的"></a>word 32: <strong>pliant</strong> 柔韧的，可塑的 &#x2F; 能适应的，易受影响的</h2><p>She lay pliant in his arms.</p><h2 id="word-33-retort-反驳，回嘴"><a href="#word-33-retort-反驳，回嘴" class="headerlink" title="word 33: retort 反驳，回嘴"></a>word 33: <strong>retort</strong> 反驳，回嘴</h2><p>His sharp retort clearly made an impact.</p><h2 id="word-34-obstinate-固执的，倔强的"><a href="#word-34-obstinate-固执的，倔强的" class="headerlink" title="word 34: obstinate 固执的，倔强的"></a>word 34: <strong>obstinate</strong> 固执的，倔强的</h2><p>He is obstinate and determined and will not give up.</p><h2 id="word-35-lacerate-撕裂，割破"><a href="#word-35-lacerate-撕裂，割破" class="headerlink" title="word 35: lacerate 撕裂，割破"></a>word 35: <strong>lacerate</strong> 撕裂，割破</h2><p>Her husband’s vicious retort lacerated her pride and made her burst into tears.</p><h2 id="word-36-omnipotent-全能的，有无限权力的"><a href="#word-36-omnipotent-全能的，有无限权力的" class="headerlink" title="word 36: omnipotent 全能的，有无限权力的"></a>word 36: <strong>omnipotent</strong> 全能的，有无限权力的</h2><p>Doug lived in the shadow of his seemingly omnipotent father.</p><h2 id="word-37-unscrupulous-不道德的，无耻的"><a href="#word-37-unscrupulous-不道德的，无耻的" class="headerlink" title="word 37: unscrupulous 不道德的，无耻的"></a>word 37: <strong>unscrupulous</strong> 不道德的，无耻的</h2><p>These kids are being exploited by very unscrupulous people.</p><h2 id="word-38-renaissance-复兴，再生"><a href="#word-38-renaissance-复兴，再生" class="headerlink" title="word 38: renaissance 复兴，再生"></a>word 38: <strong>renaissance</strong> 复兴，再生</h2><p>Popular art is experiencing a renaissance.</p><h2 id="word-39-genesis-开创，起源"><a href="#word-39-genesis-开创，起源" class="headerlink" title="word 39: genesis 开创，起源"></a>word 39: <strong>genesis</strong> 开创，起源</h2><p>It’s the story of Ziusudra, and it’s very similar to the Genesis flood story of Noah.</p><h2 id="word-40-warrant-成为……的依据，保证，担保"><a href="#word-40-warrant-成为……的依据，保证，担保" class="headerlink" title="word 40: warrant 成为……的依据，保证，担保"></a>word 40: <strong>warrant</strong> 成为……的依据，保证，担保</h2><p>There is no warrant for such criticism.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 1 1-20</title>
      <link href="/2024/04/03/verbal-advantage-level-1-1-20/"/>
      <url>/2024/04/03/verbal-advantage-level-1-1-20/</url>
      
        <content type="html"><![CDATA[<h1 id="word-1-10"><a href="#word-1-10" class="headerlink" title="word 1-10"></a>word 1-10</h1><h2 id="word-1-paraphrase-改写，重说"><a href="#word-1-paraphrase-改写，重说" class="headerlink" title="word 1: paraphrase 改写，重说"></a>word 1: <strong>paraphrase</strong> 改写，重说</h2><p>Try to paraphrase the question before you answer it.</p><h2 id="word-2-ostensible-表面的，假装的"><a href="#word-2-ostensible-表面的，假装的" class="headerlink" title="word 2: ostensible 表面的，假装的"></a>word 2: <strong>ostensible</strong> 表面的，假装的</h2><p>The ostensible reason for his absence was illness.</p><h2 id="word-3-digress-偏离，离题"><a href="#word-3-digress-偏离，离题" class="headerlink" title="word 3: digress 偏离，离题"></a>word 3: <strong>digress</strong> 偏离，离题</h2><p>His essay digress from the main subject.</p><h2 id="word-4-uncanny-神秘的，离奇的"><a href="#word-4-uncanny-神秘的，离奇的" class="headerlink" title="word 4: uncanny 神秘的，离奇的"></a>word 4: <strong>uncanny</strong> 神秘的，离奇的</h2><p>She bears an uncanny resemblance to Dido.</p><h2 id="word-5-candor-坦诚，直率"><a href="#word-5-candor-坦诚，直率" class="headerlink" title="word 5: candor 坦诚，直率"></a>word 5: <strong>candor</strong> 坦诚，直率</h2><p>I was surprised at his candor.</p><h2 id="word-6-morose-郁闷的，坏脾气的"><a href="#word-6-morose-郁闷的，坏脾气的" class="headerlink" title="word 6: morose 郁闷的，坏脾气的"></a>word 6: <strong>morose</strong> 郁闷的，坏脾气的</h2><p>After weeks of futile job-hunting, he became morose.</p><h2 id="word-7-adept-熟练的，擅长的"><a href="#word-7-adept-熟练的，擅长的" class="headerlink" title="word 7: adept 熟练的，擅长的"></a>word 7: <strong>adept</strong> 熟练的，擅长的</h2><p>As a composer he proved himself adept at large dramatic forms.</p><h2 id="word-8-saturated-饱和的，湿透的"><a href="#word-8-saturated-饱和的，湿透的" class="headerlink" title="word 8: saturated 饱和的，湿透的"></a>word 8: <strong>saturated</strong> 饱和的，湿透的</h2><p>The snack food market is largely saturated, and to grow.</p><h2 id="word-9-pragmatic-实际的，实用主义的"><a href="#word-9-pragmatic-实际的，实用主义的" class="headerlink" title="word 9: pragmatic 实际的，实用主义的"></a>word 9: <strong>pragmatic</strong> 实际的，实用主义的</h2><p>Robin took a pragmatic look at her situation.</p><h2 id="word-10-congenial-意气相投的，性格相似的"><a href="#word-10-congenial-意气相投的，性格相似的" class="headerlink" title="word 10: congenial 意气相投的，性格相似的"></a>word 10: <strong>congenial</strong> 意气相投的，性格相似的</h2><p>He is back in more congenial company.</p><h1 id="word-11-20"><a href="#word-11-20" class="headerlink" title="word 11-20"></a>word 11-20</h1><h2 id="word-11：capricious-善变的，任性的"><a href="#word-11：capricious-善变的，任性的" class="headerlink" title="word 11：capricious 善变的，任性的"></a>word 11：<strong>capricious</strong> 善变的，任性的</h2><p>He was accused of being capricious and undemocratic.</p><h2 id="word-12-blatant-喧嚣的，公然的"><a href="#word-12-blatant-喧嚣的，公然的" class="headerlink" title="word 12: blatant 喧嚣的，公然的"></a>word 12: <strong>blatant</strong> 喧嚣的，公然的</h2><p>It was a blatant lie.</p><h2 id="word-13-obligatory-必须的，要求的"><a href="#word-13-obligatory-必须的，要求的" class="headerlink" title="word 13: obligatory 必须的，要求的"></a>word 13: <strong>obligatory</strong> 必须的，要求的</h2><p>It is obligatory for all employees to wear protective clothing.</p><h2 id="word-14-negligible-微不足道的"><a href="#word-14-negligible-微不足道的" class="headerlink" title="word 14: negligible 微不足道的"></a>word 14: <strong>negligible</strong> 微不足道的</h2><p>The cost was negligible.</p><h2 id="word-15-adamant-坚定不移的，固执的"><a href="#word-15-adamant-坚定不移的，固执的" class="headerlink" title="word 15: adamant 坚定不移的，固执的"></a>word 15: <strong>adamant</strong> 坚定不移的，固执的</h2><p>Eva was adamant that she would not come.</p><h2 id="word-16-sporadic-零星的，分散的"><a href="#word-16-sporadic-零星的，分散的" class="headerlink" title="word 16: sporadic 零星的，分散的"></a>word 16: <strong>sporadic</strong> 零星的，分散的</h2><p>Her attendance in school was sporadic.</p><h2 id="word-17-vanguard-先锋，先驱"><a href="#word-17-vanguard-先锋，先驱" class="headerlink" title="word 17: vanguard 先锋，先驱"></a>word 17: <strong>vanguard</strong> 先锋，先驱</h2><p>Students and intellectuals have been in the vanguard of revolutionary change in China.</p><h2 id="word-18-concur-同意，一致"><a href="#word-18-concur-同意，一致" class="headerlink" title="word 18: concur 同意，一致"></a>word 18: <strong>concur</strong> 同意，一致</h2><p>Local feeling does not necessarily concur with the press.</p><h2 id="word-19-precociousness-早熟，提前成熟"><a href="#word-19-precociousness-早熟，提前成熟" class="headerlink" title="word 19: precociousness 早熟，提前成熟"></a>word 19: <strong>precociousness</strong> 早熟，提前成熟</h2><p>Precociousness in a child may be a sign of above-average intelligence.</p><h2 id="word-20-aloof-冷淡的，疏远的"><a href="#word-20-aloof-冷淡的，疏远的" class="headerlink" title="word 20: aloof 冷淡的，疏远的"></a>word 20: <strong>aloof</strong> 冷淡的，疏远的</h2><p>The Emperor kept himself aloof from the people.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Docs导出pdf中文很难看，粗体不显示的问题</title>
      <link href="/2024/03/26/Google-Docs%E5%AF%BC%E5%87%BApdf%E4%B8%AD%E6%96%87%E5%BE%88%E9%9A%BE%E7%9C%8B%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2024/03/26/Google-Docs%E5%AF%BC%E5%87%BApdf%E4%B8%AD%E6%96%87%E5%BE%88%E9%9A%BE%E7%9C%8B%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Google-Docs-导出-pdf-中文很难看，粗体不显示的问题"><a href="#Google-Docs-导出-pdf-中文很难看，粗体不显示的问题" class="headerlink" title="Google Docs 导出 pdf 中文很难看，粗体不显示的问题"></a>Google Docs 导出 pdf 中文很难看，粗体不显示的问题</h1><p>最近在用 Google Docs 写简历，但是在导出 pdf 的时候发现中文字体并没有像编辑一样美观，变得非常扭曲和丑陋。而且粗体也没有显示。</p><h2 id="1-如何选择华文宋体"><a href="#1-如何选择华文宋体" class="headerlink" title="1. 如何选择华文宋体"></a>1. 如何选择华文宋体</h2><p>点击左上角<code>File</code>， <code>language</code>选项中选择<code>中文（中国）</code>就可以在字体栏看到华文宋体。<br><img src="/images/GoogleDocs/choseChinese.jpg" alt="chooseChinese"><br><img src="/images/GoogleDocs/song.jpg" alt="Fontsong"></p><h2 id="2-选择您的设备"><a href="#2-选择您的设备" class="headerlink" title="2. 选择您的设备"></a>2. 选择您的设备</h2><p><strong>一定一定要用电脑打开 Google Docs 网页版</strong>，实测 ipad（air 5）打开的网页里面并不能看见宋体字体选项，而且在预览打印里也不能正确渲染字体。</p><h2 id="3-预览打印"><a href="#3-预览打印" class="headerlink" title="3. 预览打印"></a>3. 预览打印</h2><p>点击左上角<code>File</code>，然后选择<code>Print</code>,会出现预览界面。<br><img src="/images/GoogleDocs/print.jpg" alt="Print"><br>然后点击保存，所见即所得。</p><h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4. 总结"></a>4. 总结</h2><ul><li>使用电脑打开网页</li><li>语言选择中文</li><li>预览打印</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google Docs </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷P1789【Mc 生存】插火把</title>
      <link href="/2024/03/25/%E6%B4%9B%E8%B0%B7P1789/"/>
      <url>/2024/03/25/%E6%B4%9B%E8%B0%B7P1789/</url>
      
        <content type="html"><![CDATA[<h1 id="【Mc-生存】插火把"><a href="#【Mc-生存】插火把" class="headerlink" title="【Mc 生存】插火把"></a>【Mc 生存】插火把</h1><p><a href="https://www.luogu.com.cn/problem/P1789">题目链接</a></p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>话说有一天 linyorson 在“我的世界”开了一个 $n \times n$ 的方阵，现在他有 $m$ 个火把和 $k$ 个萤石，分别放在 $(x_1, y_1) \sim (x_m, y_m)$ 和 $(o_1, p_1) \sim (o_k, p_k)$ 的位置，没有光并且没放东西的地方会生成怪物。请问在这个方阵中有几个点会生成怪物？</p><p>P.S. 火把的照亮范围是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|暗|暗| 光 |暗|暗|</span><br><span class="line">|暗|光| 光 |光|暗|</span><br><span class="line">|光|光|火把|光|光|</span><br><span class="line">|暗|光| 光 |光|暗|</span><br><span class="line">|暗|暗| 光 |暗|暗|</span><br></pre></td></tr></table></figure><p>萤石：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|光|光| 光 |光|光|</span><br><span class="line">|光|光| 光 |光|光|</span><br><span class="line">|光|光|萤石|光|光|</span><br><span class="line">|光|光| 光 |光|光|</span><br><span class="line">|光|光| 光 |光|光|</span><br></pre></td></tr></table></figure><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>输入共 $m + k + 1$ 行。<br>第一行为 $n, m, k$。<br>第 $2$ 到第 $m + 1$ 行分别是火把的位置 $x_i, y_i$。<br>第 $m + 2$ 到第 $m + k + 1$ 行分别是萤石的位置 $o_i, p_i$。</p><p>注：可能没有萤石，但一定有火把。</p><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>有几个点会生出怪物。</p><h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5 1 0</span><br><span class="line">3 3</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">12</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>数据保证，$1 \le n \le 100$，$1 \leq m+k \leq 25$，$1 \leq m \leq 25$，$0 \leq k \leq 5$。</p><hr><h1 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h1><h2 id="1-第一次尝试"><a href="#1-第一次尝试" class="headerlink" title="1. 第一次尝试"></a>1. 第一次尝试</h2><p>非常简单的模拟，只需要开一个 mcMap[][] 二维数组，记录哪里有火把哪里有石头就可以了。遍历一遍有火把或者石头就更新光亮。有光亮的就直接跳过。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fire 2, stone 3, light 1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(McMap[i][j] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (McMap[i][j] == <span class="number">2</span>)</span><br><span class="line">            <span class="built_in">fireLight</span>(i, j);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (McMap[i][j] == <span class="number">3</span>)</span><br><span class="line">            <span class="built_in">stoneLight</span>(i, j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>只有四十分。。。<br><strong>很显然因为只有一个数组，在更新的时候会覆盖火把或者石头</strong></p><h2 id="2-第二次尝试"><a href="#2-第二次尝试" class="headerlink" title="2. 第二次尝试"></a>2. 第二次尝试</h2><p>既然只需要不被光亮覆盖，再开一个 flag[][]单独存储火把和石头的位置就可以了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(McMap[i][j] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (flag[i][j] == <span class="number">2</span>)</span><br><span class="line">                <span class="built_in">fireLight</span>(i, j);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (flag[i][j] == <span class="number">3</span>)</span><br><span class="line">                <span class="built_in">stoneLight</span>(i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>还是只有四十分。。。<br>怎么回事！下载了错误的测试样例后发现了问题还是出在上面的二重循环中，本想着在有光亮的的地方就直接跳过剪枝了，没想到直接剪到大动脉上了，<code>if(McMap[i][j] == 1) continue;</code> ，因为火把或石头的位置可能被其他地方的光源照亮，如果直接跳过这个位置就会跳过更新光亮的 flag 判断语句，造成光亮更新失误。</p><h2 id="3-最后一次提交"><a href="#3-最后一次提交" class="headerlink" title="3. 最后一次提交"></a>3. 最后一次提交</h2><p>只需要删除那句话即可。<br>最后代码：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, m, k;</span><br><span class="line"><span class="type">int</span> mcMap[<span class="number">115</span>][<span class="number">115</span>];</span><br><span class="line"><span class="type">int</span> flag[<span class="number">115</span>][<span class="number">115</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fireLight</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mcMap[x][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">1</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">2</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">1</span>)][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">2</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">1</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">2</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">1</span>)][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">min</span>(n, y + <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">min</span>(n, y + <span class="number">2</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">1</span>)][<span class="built_in">min</span>(n, y + <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">1</span>)][<span class="built_in">min</span>(n, y + <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">stoneLight</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mcMap[x][y] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">2</span>); i &lt;= <span class="built_in">min</span>(n, x + <span class="number">2</span>); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">2</span>); j &lt;= <span class="built_in">min</span>(n, y + <span class="number">2</span>); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            mcMap[i][j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line">    <span class="comment">// fire 2, stone 3, light 1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">        flag[x][y] = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= k; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">        flag[x][y] = <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (flag[i][j] == <span class="number">2</span>)</span><br><span class="line">                <span class="built_in">fireLight</span>(i, j);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (flag[i][j] == <span class="number">3</span>)</span><br><span class="line">                <span class="built_in">stoneLight</span>(i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!mcMap[i][j])</span><br><span class="line">                sum++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p><del>能 AC 的代码就是好代码</del>。可以明显地看到我那个丑陋地 fireLight 函数，十二个位置直接暴力更新，实际上这是很容易犯错误地写法，如果写错了然后去找错误将是极大地麻烦。在 Github Copilot 地带领下很幸运我一次性写对了。正确地比较稳妥地方式是开<code>dx[]</code>和<code>dy[]</code>数组，将所有坐标一次性写出来，然后 for 循环去更新。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> dx1[<span class="number">13</span>]=&#123;<span class="number">2</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>&#125;,</span><br><span class="line">    dy1[<span class="number">13</span>]=&#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br></pre></td></tr></table></figure><p><strong>对于数组越界问题解决方案</strong>：</p><ol><li>像我一样用 min，max 判断</li><li>直接把(3,3)当原点避免数组下标为负数</li><li>自定义函数判断是负数就返回零</li></ol>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 洛谷 </tag>
            
            <tag> 模拟 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker learn</title>
      <link href="/2024/03/22/Docker-learn-1/"/>
      <url>/2024/03/22/Docker-learn-1/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-Learn-1"><a href="#Docker-Learn-1" class="headerlink" title="Docker Learn 1"></a>Docker Learn 1</h1><p>summary of <a href="https://www.docker.com/101-tutorial/">https://www.docker.com/101-tutorial/</a></p><h2 id="The-command-you-should-run"><a href="#The-command-you-should-run" class="headerlink" title="The command you should run"></a>The command you should run</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 docker/getting-started</span><br></pre></td></tr></table></figure><p>then Open your browser to <a href="http://localhost/">http://localhost</a></p><h1 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h1><h2 id="Building-the-App’s-Container-Image"><a href="#Building-the-App’s-Container-Image" class="headerlink" title="Building the App’s Container Image"></a>Building the App’s Container Image</h2><ol><li>Create a Dockerfile</li><li>run command <code>docker build -t getting-started .</code> “-t” is to tag the image and “getting-started” is the name of the image. The “.” means to find Dockerfile in current directory.</li></ol><h2 id="Starting-an-App-Container"><a href="#Starting-an-App-Container" class="headerlink" title="Starting an App Container"></a>Starting an App Container</h2><ol><li>run <code>docker run -dp 3000:3000 getting-started</code> “-d” means “detached” mode. “-p” means creating a mapping between the host’s port 3000 to the container’s port 3000.</li></ol><h2 id="Updating-our-App"><a href="#Updating-our-App" class="headerlink" title="Updating our App"></a>Updating our App</h2><ol><li>if you have updated the source code, you need to build the updated version of the image.<br>run <code>docker build -t getting-started .</code></li><li>And have to start a new container using the updated code.<br>run <code>docker run -dp 3000:3000 getting-started</code>, then you will get an Error response.<del>(WT…F)</del></li></ol><h2 id="Replacing-our-Old-Container"><a href="#Replacing-our-Old-Container" class="headerlink" title="Replacing our Old Container"></a>Replacing our Old Container</h2><ol><li><code>docker ps</code> （find the old container ID）</li><li><code>docker stop &lt;the-container-id&gt;</code> （stop it！）</li><li><code>docker rm &lt;the-container-id&gt;</code> （delete it）</li><li>you can also use <code>docker rm -f &lt;the-container-id&gt;</code> to stop and delete the container in one command.</li></ol><h3 id="the-run-docker-run-dp-3000-3000-getting-started-again"><a href="#the-run-docker-run-dp-3000-3000-getting-started-again" class="headerlink" title="the run docker run -dp 3000:3000 getting-started again."></a>the run <code>docker run -dp 3000:3000 getting-started</code> again.</h3><h2 id="Sharing-our-App"><a href="#Sharing-our-App" class="headerlink" title="Sharing our App"></a>Sharing our App</h2><h3 id="Create-a-Repo"><a href="#Create-a-Repo" class="headerlink" title="Create a Repo"></a>Create a Repo</h3><ol><li><p>go to <a href="https://hub.docker.com/">https://hub.docker.com/</a> to create one.</p></li><li><p>Use the docker tag command to give the getting-started image a new name. Be sure to swap out YOUR-USER-NAME with your Docker ID.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag getting-started YOUR-USER-NAME/getting-started</span><br></pre></td></tr></table></figure></li><li><p>then push it. <code>docker push YOUR-USER-NAME/getting-started</code><br><strong>remember to login to Docker Desktop</strong></p></li><li><p>open <a href="https://labs.play-with-docker.com/">https://labs.play-with-docker.com/</a> ,</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 YOUR-USER-NAME/getting-started</span><br></pre></td></tr></table></figure></li></ol><h2 id="Container-Volumes"><a href="#Container-Volumes" class="headerlink" title="Container Volumes"></a>Container Volumes</h2><ol><li>create a volume<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create todo-db</span><br></pre></td></tr></table></figure></li><li>stop the to-do app<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker stop &lt;the-container-id&gt;</span><br></pre></td></tr></table></figure></li><li>start the to-do app with <code>-v</code> flag<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started</span><br></pre></td></tr></table></figure>then open <a href="http://localhost:3000/">http://localhost:3000/</a> again and add some values.</li><li>remove the container<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker rm -f &lt;container-id&gt;</span><br></pre></td></tr></table></figure></li><li>Start a new container and open the app.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started</span><br></pre></td></tr></table></figure>the items in list should still there.</li></ol><h2 id="Starting-a-Dev-Mode-Container"><a href="#Starting-a-Dev-Mode-Container" class="headerlink" title="Starting a Dev-Mode Container"></a>Starting a Dev-Mode Container</h2><ol><li><p>Make sure you don’t have any of your own <code>getting-started</code> containers running (only the tutorial itself should be running).</p></li><li><p>get in the path of ‘app’</p></li><li><p>use powershell.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 `</span><br><span class="line">   -w /app -v &quot;$(pwd):/app&quot; `</span><br><span class="line">   node:18-alpine `</span><br><span class="line">   sh -c &quot;yarn install &amp;&amp; yarn run dev&quot;</span><br></pre></td></tr></table></figure><ul><li>-dp 3000:3000 - same as before. Run in detached (background) mode and create a port mapping</li><li>-w &#x2F;app - sets the container’s present working directory where the command will run from</li><li>-v “$(pwd):&#x2F;app” - bind mount (link) the host’s present getting-started&#x2F;app directory to the container’s &#x2F;app directory. Note: Docker requires absolute paths for binding mounts, so in this example we use pwd for printing the absolute path of the working directory, i.e. the app directory, instead of typing it manually</li><li>node:18-alpine - the image to use. Note that this is the base image for our app from the Dockerfile</li><li>sh -c “yarn install &amp;&amp; yarn run dev” - the command. We’re starting a shell using sh (alpine doesn’t have bash) and running yarn install to install all dependencies and then running yarn run dev. If we look in the package.json, we’ll see that the dev script is starting nodemon.<br>if you see some error message like this:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker: Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:3000 -&gt; 0.0.0.0:0: listen tcp 0.0.0.0:3000: bind: An attempt was made to access a socket in a way forbidden by its access permissions.</span><br></pre></td></tr></table></figure><p>please Open powershell with administrator rights，and restart winnat.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net stop winnat</span><br><span class="line">net start winnat</span><br></pre></td></tr></table></figure></li><li><p>build your new image using <code>docker build -t getting-started .</code><br>you properly may see an error.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=&gt; CANCELED [internal] load build context</span><br><span class="line">=&gt; =&gt; transferring context: 558B</span><br><span class="line">ERROR: failed to solve: Canceled: context canceled</span><br></pre></td></tr></table></figure><p>you need to create a <code>.dockerignore</code> file in the path of <code>app</code>,and add <code>node_modules/</code> in it.</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 计算机相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于 Vscode 连不上服务器的问题</title>
      <link href="/2024/03/18/%E5%85%B3%E4%BA%8E-Vscode-%E8%BF%9E%E4%B8%8D%E4%B8%8A%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2024/03/18/%E5%85%B3%E4%BA%8E-Vscode-%E8%BF%9E%E4%B8%8D%E4%B8%8A%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="关于-Vscode-连不上服务器的问题"><a href="#关于-Vscode-连不上服务器的问题" class="headerlink" title="关于 Vscode 连不上服务器的问题"></a>关于 Vscode 连不上服务器的问题</h1><p>在网络中找了好多方法都不管用，具体问题是 XShell 能够通过 ssh 连接云服务器的，但是 vscode 一直连不上，会显示“连接的管道不存在”，我解决问题的方法是打开 ssh 的 config 所在的目录，具体是<code>C:\Users\user\.ssh</code>，里面有一个文件叫<code>known_hosts</code>，把里边的关于云服务器公网 ip 那一行删掉就行了。<br>具体原因应该是我更换过很多次服务器的系统，然后那边的这个信息重置了，但是 vscode 在使用第一次下载的东西连接，所以导致连接不上。</p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
            <tag> 服务器 </tag>
            
            <tag> 备份 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql更改角色权限并实现备份</title>
      <link href="/2024/03/18/mysql%E6%9B%B4%E6%94%B9%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90%E5%B9%B6%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD/"/>
      <url>/2024/03/18/mysql%E6%9B%B4%E6%94%B9%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90%E5%B9%B6%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD/</url>
      
        <content type="html"><![CDATA[<p>接上一篇接着写如何更改角色权限并实现备份。<br>如果你在备份 mysql 时遇到这个报错：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump: Error: &#x27;Access denied; you need (at least one of) the PROCESS privilege(s) for this operation&#x27; when trying to dump tablespaces</span><br></pre></td></tr></table></figure><p>并且知道 mysql root 的密码，</p><ol><li><strong>登录 mysql root 账号</strong></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>更改角色权限</strong>。这里的单引号不能删除，只需要把 user1 改成需要的用户名就行</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT PROCESS ON *.* TO &#x27;user1&#x27;@&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>备份数据库</strong>。这里需要退出 mysql 在根目录里执行。username 换成自己角色名，dbname 换成需要备份的数据库名称。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u username -p dbname &gt; backup.sql</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
            <tag> 备份 </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重置 mysql root 密码</title>
      <link href="/2024/03/18/%E9%87%8D%E7%BD%AE-mysql-root-%E5%AF%86%E7%A0%81/"/>
      <url>/2024/03/18/%E9%87%8D%E7%BD%AE-mysql-root-%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h1 id="重置-mysql-root-密码"><a href="#重置-mysql-root-密码" class="headerlink" title="重置 mysql root 密码"></a>重置 mysql root 密码</h1><p>这可能是建站以来遇见的最大的一次困难了，因为建站的时候直接使用了宝塔然后一键部署，我今天突发奇想既然网站已经搭建好，我已经不需要宝塔了，然后就进行了宝塔的卸载。这就是噩梦的开始。<br>显然仅卸载宝塔对网站没有任何影响。但是之前我用到过宝塔的数据库备份功能，所以我打算重新去写数据库备份的脚本。就当我兴致冲冲去运行脚本的时候，mysql 就报错了，说我的角色权限不足，不能备份数据库里的数据。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump: Error: &#x27;Access denied; you need (at least one of) the PROCESS privilege(s) for this operation&#x27; when trying to dump tablespaces</span><br></pre></td></tr></table></figure><hr><p>这里提到为什么我不知道 root 密码，因为一键部署的话他是会给你创一个新的角色然后去使用数据库，这就导致了他在给我数据库密码的时候只给了我这个角色的名称和密码，具体 root 的密码我在网上查说是面板里可以看，但是我这时候已经卸载了，而且这个面板只支持纯净系统里安装。</p><hr><p>回归正题，感谢 chatgpt。这次真的是幸运，因为网上搜的杂七杂八的，有的连 markdown 都不写，运行语句都连在一起，也不知道哪里应该替换成自己的，索性去问了 chatgpt，最开始我是怀疑它给出的方案的，因为里面的语句和我查到了别人博客里写的不太一样。但是最终还是成功了，所以我不敢保证我这里的方法对你们是否有用，起码思路应该是正确的。<br>这里提示以下我的系统是 ubuntu2204，mysql5.7。</p><hr><p>如果你忘记了 MySQL root 用户的密码，你可以通过以下步骤重置密码：</p><ol><li><p><strong>停止 MySQL 服务</strong>：首先，停止 MySQL 服务以确保没有活动的数据库连接。你可以使用以下命令停止 MySQL 服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop mysql</span><br></pre></td></tr></table></figure><p>或者，如果你使用的是旧版本的 Ubuntu，可以使用以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql stop</span><br></pre></td></tr></table></figure></li><li><p><strong>启动 MySQL 服务，并跳过权限验证</strong>：使用以下命令启动 MySQL 服务，但跳过权限验证，这样你就可以在不知道密码的情况下登录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysqld_safe --skip-grant-tables --skip-networking &amp;</span><br></pre></td></tr></table></figure></li><li><p><strong>登录到 MySQL 服务器</strong>：现在你可以使用以下命令登录到 MySQL 服务器，不需要密码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure></li><li><p><strong>重置密码</strong>：在 MySQL 命令行中，执行以下命令来重置 root 用户的密码：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;new_password&#x27;</span>;</span><br></pre></td></tr></table></figure><p>将 <code>&#39;new_password&#39;</code> 替换为你想要设置的新密码。</p></li><li><p><strong>退出 MySQL 并重新启动服务</strong>：退出 MySQL 命令行界面，并重新启动 MySQL 服务以使更改生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br></pre></td></tr></table></figure><p>或者：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure></li></ol><p>现在，你应该可以使用新密码登录到 MySQL 服务器了。</p><hr><p><strong>值得一提的是，如果 mysql 卡死不能执行命令的时候，<code>ctrl+d</code> 可以强制退出 mysql 回到 linux</strong></p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
            <tag> 备份 </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新的开始</title>
      <link href="/2024/03/18/%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/"/>
      <url>/2024/03/18/%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="简单记录一下博客搭建过程"><a href="#简单记录一下博客搭建过程" class="headerlink" title="简单记录一下博客搭建过程"></a>简单记录一下博客搭建过程</h1><p>&nbsp;&nbsp;很早以前就有了搭建博客的想法，也有用过 react 写过博客前端页面，但是很快我就知道了这不是短时间工程。所以我去寻找现成的模板。<br>&nbsp;&nbsp;显然我需要一个服务器。我去搜了并且决定是阿里云服务器，因为大学生使用很长时间几乎是免费（<del>这不是广告</del>）。试错了很多，也跟着教程做了几个实验，基本是熟悉了服务器的操作。<br>&nbsp;&nbsp;虽然但是，我还是使用了 AWS（<del>也是白嫖</del>）。具体申请条件就请去官网看吧，毕竟时时都在变化。<br>&nbsp;&nbsp;总之我会继续完善这个博客的，毕竟现在的时间实在是太宝贵了。</p>]]></content>
      
      
      <categories>
          
          <category> 服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
            <tag> 备份 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Pragmatic Programmer</title>
      <link href="/2024/03/18/The-Pragmatic-Programmer/"/>
      <url>/2024/03/18/The-Pragmatic-Programmer/</url>
      
        <content type="html"><![CDATA[<p>Programming is a craft. At its simplest, it comes down to getting a computer to do what you want it to do (or what your user wants it to do). As a programmer, you are part listener, part advisor, part interpreter, and part dictator.You try to capture elusive requirements and find a way of expressing them so that a mere machine can do them justice. You try to document your work so that others can understand it, and you try to engineer your work so that others can build on it. What’s more, you try to do all this against the relentless ticking of the project clock. You work small miracles every day.</p>]]></content>
      
      
      <categories>
          
          <category> 摘抄 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书籍 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>POV of Oppenheimer</title>
      <link href="/2024/03/13/POV-of-Oppenheimer/"/>
      <url>/2024/03/13/POV-of-Oppenheimer/</url>
      
        <content type="html"><![CDATA[<h1 id="Oppenheimer-film"><a href="#Oppenheimer-film" class="headerlink" title="Oppenheimer (film)"></a>Oppenheimer (film)</h1><p>After watching the Oppenheimer, I can’t tell that what I am feeling. First of all, it must be clear that the conversation I will talk is not about any country, any government, any things in reality. What I will talk is just about the film.<br>&ensp;&ensp; Yes, the film is extremely good. The sound, the actors, the music. I found that some Oppenheimer’s personality is just the same as mine. We both pursue the high end technology, think about how to change the world. I don’t deny that I like the learning atmosphere abroad. But I can feel the responsibility on his shoulder is becoming heavier. Yes, succeed in technical field, too successful to explosion. Because of it, so many people died. They have the right to invent it, but no right to decide whether use it or not. There is no true or false. Just one way they have is just going down. Not everyone want to know the truth, but there’s someone known the truth. It’s completely the hell. Oppenheimer is smart, he really want to take all the responsibilities on his own. It’s unfair, but understandable.<br>&ensp;&ensp; However, we go to a movie for the art, not for solving the problem that even Oppenheimer can’t solve. Few things can be more exciting than build a town and some bombs by spending 2 billion dollars. At the end, let me criticism subtitle group. The translation is so bad that I even wonder if you just use the tools to translate instead of their stupid brain. ( Forgive my rudeness! )<br>&ensp;&ensp; PS: Cillian Murphy, I like him so much. I began to know him by watching the Peaky Blinders. Perfect actors!</p>]]></content>
      
      
      <categories>
          
          <category> 有感 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电影 </tag>
            
            <tag> 奥本海默 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
