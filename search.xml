<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>yolov5_obbçš„å…¼å®¹æ€§æ”¹è¿›</title>
      <link href="/2025/08/04/yolov5-obb%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E6%94%B9%E8%BF%9B/"/>
      <url>/2025/08/04/yolov5-obb%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E6%94%B9%E8%BF%9B/</url>
      
        <content type="html"><![CDATA[<h1 id="yolov5-obbçš„å…¼å®¹æ€§æ”¹è¿›"><a href="#yolov5-obbçš„å…¼å®¹æ€§æ”¹è¿›" class="headerlink" title="yolov5_obbçš„å…¼å®¹æ€§æ”¹è¿›"></a>yolov5_obbçš„å…¼å®¹æ€§æ”¹è¿›</h1><p>æœ€è¿‘åœ¨å­¦ä¹ yoloçš„æ—‹è½¬æ¡†æ£€æµ‹ï¼Œé€‰ç”¨äº†yolov5_obbè¿›è¡Œæµ‹è¯•ï¼Œç»“æœä»£ç ç”±äºå„ç§é—®é¢˜è·‘ä¸èµ·æ¥ã€‚æˆ‘å°†é‡Œé¢ç”¨åˆ°çš„åºŸå¼ƒå‡½æ•°è¿›è¡Œäº†æ›´æ”¹ï¼Œä»¥ä¾¿èƒ½ç”¨ç”¨æ–°ç¯å¢ƒè¿›è¡Œè¿è¡Œã€‚</p><p>æˆ‘å°†ä¿®æ”¹å®Œçš„ä»£ç ä¸Šä¼ åˆ°äº†æˆ‘çš„<a href="https://github.com/WHFF521/yolov5_obb_compatible">Github</a>ä»“åº“é‡Œã€‚</p><h2 id="æ”¹è¿›æ–¹æ³•"><a href="#æ”¹è¿›æ–¹æ³•" class="headerlink" title="æ”¹è¿›æ–¹æ³•"></a>æ”¹è¿›æ–¹æ³•</h2><h3 id="utils-nms-rotated-nms-rotated-wrapper-py"><a href="#utils-nms-rotated-nms-rotated-wrapper-py" class="headerlink" title="utils/nms_rotated/nms_rotated_wrapper.py"></a>utils/nms_rotated/nms_rotated_wrapper.py</h3><p>è¿è¡Œçš„æ—¶å€™ä¼šæ˜¾ç¤º<code>too_small</code>å’Œ<code>inds</code>è¿™ä¸¤ä¸ªå˜é‡å’Œ<code>ori_inds</code>ä¸åœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œéœ€è¦æ·»åŠ ä»£ç å°†ä¸¤ä¸ªå˜é‡ç§»åŠ¨åˆ°<code>ori_inds</code>æ‰€åœ¨çš„è®¾å¤‡ä¸Šã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ori_inds = torch.arange(dets_th.size(<span class="number">0</span>)) <span class="comment"># 0 ~ n-1</span></span><br><span class="line"><span class="comment"># add this</span></span><br><span class="line">too_small = too_small.to(ori_inds.device)</span><br><span class="line"><span class="comment"># add end</span></span><br><span class="line">ori_inds = ori_inds[~too_small]</span><br><span class="line">dets_th = dets_th[~too_small] <span class="comment"># (n_filter, 5)</span></span><br><span class="line">scores = scores[~too_small]</span><br><span class="line"></span><br><span class="line">inds = nms_rotated_ext.nms_rotated(dets_th, scores, iou_thr)</span><br><span class="line"><span class="comment"># add this</span></span><br><span class="line">inds = inds.to(ori_inds.device)</span><br><span class="line"><span class="comment"># add end</span></span><br><span class="line">inds = ori_inds[inds]</span><br></pre></td></tr></table></figure><h3 id="utils-nms-rotated-src-poly-nms-cuda-cu"><a href="#utils-nms-rotated-src-poly-nms-cuda-cu" class="headerlink" title="utils/nms_rotated/src/poly_nms_cuda.cu"></a>utils/nms_rotated/src/poly_nms_cuda.cu</h3><p>THCåº“å·²ç»è¢«å¼ƒç”¨ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ATenåº“è¿›è¡Œæ›´æ¢</p><p>è¿™é‡Œæˆ‘æ˜¯æ ¹æ®<a href="https://blog.51cto.com/u_16213569/11875401">è¿™ä¸ªåšå®¢</a>è¿›è¡Œæ›´æ”¹çš„</p><p>åˆ é™¤<code>#include &lt;THC/THC.h&gt;</code>å¤´æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰çš„<code>THCudaCheck(cudaGetLastError());</code>æ›¿æ¢æˆ <code>AT_CUDA_CHECK(cudaGetLastError());</code></p><p>å¯¹æ¯ä¸ª.cuæ–‡ä»¶ä¸­è°ƒç”¨<code>THCCeilDiv(x,y)</code>çš„åœ°æ–¹ï¼Œéƒ½æŠŠè¿™ä¸ªå‡½æ•°æ¢æˆ <code>(x+y-1)/y</code>çš„å½¢å¼ï¼Œå¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const int col_blocks = THCCeilDiv(n_polys, threadsPerBlock);</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> col_blocks = (n_polys+threadsPerBlock<span class="number">-1</span>) / threadsPerBlock;</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¤´æ–‡ä»¶<code>#include &lt;ATen/cuda/ThrustAllocator.h&gt;</code></p><p>æ³¨é‡Šæ‰<code>THCState *state = at::globalContext().lazyInitCUDA();</code></p><p>ä¿®æ”¹<code>THCudaMalloc</code>å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mask_dev = (unsigned long long*) THCudaMalloc(state, boxes_num * col_blocks * sizeof(unsigned long long));</span></span><br><span class="line">mask_dev = (<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>*) c10::cuda::CUDACachingAllocator::<span class="built_in">raw_alloc</span>(boxes_num * col_blocks * <span class="built_in">sizeof</span>(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>));</span><br></pre></td></tr></table></figure><p>æ›¿æ¢<code>THCudaFree</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// THCudaFree(state, mask_dev);</span></span><br><span class="line">c10::cuda::CUDACachingAllocator::<span class="built_in">raw_delete</span>(mask_dev);</span><br></pre></td></tr></table></figure><p>å°†<code>THCudaCheck</code>æ›¿æ¢æˆ<code>C10_CUDA_CHECK</code></p><p>å°†<code>AT_CHECK</code>æ›¿æ¢ä¸º<code>TORCH_CHECK</code></p><h3 id="utils-datasets-py"><a href="#utils-datasets-py" class="headerlink" title="utils/datasets.py"></a>utils/datasets.py</h3><p>å°†æ‰€æœ‰çš„<code>np.int</code>æ”¹å†™ä¸º<code>int</code></p><h3 id="utils-general-py"><a href="#utils-general-py" class="headerlink" title="utils/general.py"></a>utils/general.py</h3><p><code>torch.load</code>å‡½æ•°æ·»åŠ <code>weights_only=False</code>å‚æ•°</p><h3 id="utils-loss-py"><a href="#utils-loss-py" class="headerlink" title="utils/loss.py"></a>utils/loss.py</h3><p>è¿™ä¸ªæ–‡ä»¶ä¼šæŠ¥é”™è¯´æ•°æ®ç±»å‹è½¬æ¢é”™è¯¯ã€‚éœ€è¦å…ˆå°†å˜é‡è½¬æ¢ä¸ºlongï¼Œæ³¨æ„è¿™é‡Œä¸æ˜¯åŸåœ°è½¬æ¢ï¼Œéœ€è¦ç”¨èµ‹å€¼çš„å½¢å¼è¿›è¡Œè½¬æ¢ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># indices.append((b, a, gj.clamp_(0, feature_wh[1] - 1), gi.clamp_(0, feature_wh[0] - 1)))  # image, anchor, grid indices</span></span><br><span class="line">gi = gi.clamp(<span class="number">0</span>, feature_wh[<span class="number">0</span>] - <span class="number">1</span>).long()</span><br><span class="line">gj = gj.clamp(<span class="number">0</span>, feature_wh[<span class="number">1</span>] - <span class="number">1</span>).long()</span><br><span class="line">indices.append((b, a, gj, gi))  <span class="comment"># image, anchor, grid indices</span></span><br></pre></td></tr></table></figure><h3 id="utils-plots-py"><a href="#utils-plots-py" class="headerlink" title="utils/plots.py"></a>utils/plots.py</h3><p><code>self.font.getsize</code>å‡½æ•°å·²ç»è¢«åºŸå¼ƒã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># w, h = self.font.getsize(label)  # text width, height</span></span><br><span class="line">bbox = self.font.getbbox(label)</span><br><span class="line">w, h = bbox[<span class="number">2</span>] - bbox[<span class="number">0</span>], bbox[<span class="number">3</span>] - bbox[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><h3 id="models-experimental-py"><a href="#models-experimental-py" class="headerlink" title="models/experimental.py"></a>models/experimental.py</h3><p><code>torch.load</code>å‡½æ•°æ·»åŠ <code>weights_only=False</code>å‚æ•°</p><h3 id="train-py"><a href="#train-py" class="headerlink" title="train.py"></a>train.py</h3><p><code>torch.load</code>å‡½æ•°æ·»åŠ <code>weights_only=False</code>å‚æ•°, æ³¨é‡Šæ‰ä¸‹é¢ä¸¤è¡Œé˜²æ­¢æ›´æ–°numpyã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check_git_status()</span></span><br><span class="line"><span class="comment"># check_requirements(exclude=[&#x27;thop&#x27;])</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘C-ä»£ç "><a href="#ç¼–è¯‘C-ä»£ç " class="headerlink" title="ç¼–è¯‘C++ä»£ç "></a>ç¼–è¯‘C++ä»£ç </h3><p>åŸä½œè€…ç”¨C++å†™äº†ä¸€äº›å‡½æ•°ï¼Œéœ€è¦ç¼–è¯‘åæ‰èƒ½ä½¿ç”¨ã€‚ä½†æ˜¯æˆ‘æŒ‰ç…§ä»–å†™çš„å‘½ä»¤ç¼ºä¸€ç›´æŠ¥é”™è¯´<code>ModuleNotFoundError: No module named &#39;torch&#39;</code>ï¼Œæ˜¾ç„¶æˆ‘çš„ç¯å¢ƒé‡Œæ˜¯æœ‰torchçš„ï¼Œä½†æ˜¯ç¼–è¯‘çš„æ—¶å€™æŠ¥é”™è¯´æ²¡æœ‰ã€‚</p><p>éå¸¸ç„å­¦çš„æ˜¯ï¼Œæˆ‘ç¡®å®æœ‰ä¸€ä¸ªç¯å¢ƒèƒ½å¤Ÿé€šè¿‡<code>python setup.py develop</code>å‘½ä»¤æ¥è¿›è¡Œç¼–è¯‘çš„ï¼Œæˆ‘è®°å¾—å½“æ—¶æˆ‘å®‰è£…äº†ä¸€ä¸ªpycocotoolsåº“ä¹‹åå°±å¯ä»¥äº†ã€‚ä½†æ˜¯è¿‡äº†ä¸€å¤©ï¼Œæˆ‘æƒ³ä»å¤´åˆ°å°¾å†åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒè¿‡ä¸€éçš„æ—¶å€™å‘ç°åˆä¸èƒ½ç¼–è¯‘äº†ï¼Œæˆ‘æŸ¥äº†ä¸€ä¸‹pycocotoolsä»…ä»…æ˜¯pythonå¯¹cocoæ•°æ®é›†åšçš„å°å·¥å…·ï¼Œåº”è¯¥ä¸æ˜¯æˆ‘ç¼–è¯‘æˆåŠŸçš„å…³é”®è¦ç´ ã€‚æˆ‘ä¹Ÿå°è¯•è¿‡<code>sudo apt install python-dev</code>å®‰è£…ç¼–è¯‘å·¥å…·ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨ã€‚æˆ‘å¯¼å‡ºpip requirementå’Œconda listå¹¶ä¸”ä»”ç»†å¯¹æ¯”äº†ä¸€ä¸‹å‘ç°é‡Œé¢çš„ä¸œè¥¿éƒ½æ˜¯ä¸€æ ·çš„ã€‚æˆ‘å¯»æ‰¾äº†å¾ˆå¤šç½‘é¡µéƒ½æ²¡æœ‰å‘ç°æ˜¯æ€ä¹ˆå›äº‹ï¼Œæœ‰ä¸€äº›äººå’Œæˆ‘ä¸€æ ·é‡åˆ°äº†ä¸€æ ·çš„é—®é¢˜ï¼Œä½†æ˜¯éƒ½æ²¡æœ‰è§£å†³æ–¹æ¡ˆã€‚</p><p>æˆ‘è§‰å¾—å¯èƒ½æ˜¯ä»£ç ä¸æ–°ç¯å¢ƒä¸åŒ¹é…çš„é—®é¢˜ã€‚æˆ‘åœ¨å’Œchatgptè®¨è®ºå¦‚ä½•æ›´æ”¹ä»£ç çš„æ—¶å€™ï¼Œä»–æåˆ°äº†ä¸€ä¸ªæ–°çš„æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python setup.py build_ext --inplace</span><br></pre></td></tr></table></figure><p>æˆ‘å‘ç°è¿™ä¸ªå‘½ä»¤èƒ½å¤ŸæˆåŠŸç¼–è¯‘ï¼Œè€Œä¸”è¿è¡Œè®­ç»ƒä»»åŠ¡æµ‹è¯•èƒ½å¤Ÿå®Œç¾è¿è¡Œã€‚æˆ‘ä¸çŸ¥é“è¿™ç®—ä¸ç®—è§£å†³äº†é—®é¢˜ï¼Œæˆ‘ä¸çŸ¥é“è§£å†³é—®é¢˜çš„åŸå› å’Œç­”æ¡ˆï¼Œæ¢äº†ä¸€ä¸ªå‘½ä»¤å°±æˆåŠŸäº†ã€‚</p><p>PSï¼šå°é¢å›¾æ¥æºï¼š<a href="https://x.com/amanekanatach/status/1950904282275791316?s=46">å¤©éŸ³ã‹ãªãŸğŸ’«ãƒ›ãƒ­ãƒ©ã‚¤ãƒ–</a></p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yolo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kaggle ç¦»çº¿ä½¿ç”¨YOLOv5â€”â€”Global Wheat Detection</title>
      <link href="/2025/07/22/Kaggle-%E7%A6%BB%E7%BA%BF%E4%BD%BF%E7%94%A8YOLOv5%E2%80%94%E2%80%94Global-Wheat-Detection/"/>
      <url>/2025/07/22/Kaggle-%E7%A6%BB%E7%BA%BF%E4%BD%BF%E7%94%A8YOLOv5%E2%80%94%E2%80%94Global-Wheat-Detection/</url>
      
        <content type="html"><![CDATA[<h1 id="Kaggle-ç¦»çº¿ä½¿ç”¨YOLOv5â€”â€”Global-Wheat-Detection"><a href="#Kaggle-ç¦»çº¿ä½¿ç”¨YOLOv5â€”â€”Global-Wheat-Detection" class="headerlink" title="Kaggle ç¦»çº¿ä½¿ç”¨YOLOv5â€”â€”Global Wheat Detection"></a>Kaggle ç¦»çº¿ä½¿ç”¨YOLOv5â€”â€”Global Wheat Detection</h1><p>Kaggleä¸Šå¾ˆå¤šæ¯”èµ›éƒ½è¦æ±‚ä»£ç åœ¨ç¦»çº¿ï¼ˆofflineï¼‰çŠ¶æ€ä¸‹è¿è¡Œçš„ï¼Œè™½ç„¶notebookçš„è¿è¡Œç¯å¢ƒå·²ç»è‡ªå¸¦äº†å¾ˆå¤šæ·±åº¦å­¦ä¹ å’Œç¥ç»ç½‘ç»œçš„åŒ…ï¼Œä½†æ˜¯è¦è¿è¡ŒGitHubä¸Šä¸‹è½½çš„YOLOv5æ¨¡å‹è¿˜å·®ä¸€äº›åŒ…å’Œç¯å¢ƒéœ€æ±‚å¯¼è‡´ä¸èƒ½ç›´æ¥è¿è¡Œã€‚è€Œä¸”ç¦»çº¿çŠ¶æ€ä¸‹ä¹Ÿä¸å…è®¸ä½¿ç”¨<code>git</code>å‘½ä»¤å…‹éš†ä»“åº“ã€‚</p><p>é‚£æˆ‘ç›´æ¥ä¸Šä¼ æœ€ç»ˆ<code>submission.csv</code>ä¸å°±è¡Œäº†ï¼Ÿå¾ˆé—æ†¾ä¸è¡Œçš„ã€‚å› ä¸ºæœ€ç»ˆåˆ†æ•°ä¼šæ‰©å¤§æµ‹è¯•æ•°æ®é‡æ–°æµ‹è¯•ä½ ä»£ç è¿è¡Œçš„ç»“æœï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦offlineçš„åŸå› ï¼Œé˜²æ­¢æœ‰äººåˆ©ç”¨ç½‘ç»œå°†æ‰©å¤§çš„æ•°æ®é›†ä¼ å‡ºæ¥ä»¥è‡´äºä¸å…¬å¹³ã€‚</p><p>æˆ‘æœ¬æ¥æ˜¯æƒ³ç”¨<a href="https://www.kaggle.com/competitions/global-wheat-detection">Global Wheat Detection</a>ç»ƒä¹ ä¸€ä¸‹YOLOv5çš„ä½¿ç”¨ï¼Œä½†æ˜¯å› ä¸ºç¦»çº¿ç¯å¢ƒç¡®å®å›°æ‰°äº†æˆ‘å‡ å¤©çš„æ—¶é—´ã€‚æˆ‘å¯¹Kaggleçš„notebookåˆ°åº•æ˜¯æ€ä¹ˆè¿ä½œçš„å¹¶ä¸æ¸…æ¥šï¼Œè€Œä¸”ç½‘ä¸Šé²œæœ‰è¿™æ ·çš„æ•™ç¨‹ã€‚ç½‘ç»œä¸Šæœä¸åˆ°ç­”æ¡ˆåªæœ‰ä¸¤ç§æƒ…å†µï¼šä¸€æ˜¯è¿™çœŸçš„å¾ˆéš¾ï¼Œæ²¡æœ‰äººèƒ½åšå‡ºæ¥ï¼ˆæˆ‘çš„é—®é¢˜å½“ç„¶ä¸æ˜¯è¿™ç§æƒ…å†µï¼‰ï¼›<strong>äºŒæ˜¯ç­”æ¡ˆå¾ˆç®€å•ï¼Œä¸å€¼å¾—å‡ºæ•™ç¨‹ï¼ˆäº‹å®ç¡®å®æ˜¯è¿™æ ·ï¼‰</strong>ã€‚ä¸è¿‡è¿˜æ˜¯åœ¨æ­¤è®°å½•ä¸€ä¸‹æˆ‘æ˜¯æ€ä¹ˆå®ç°çš„å§</p><h2 id="Notebookç¯å¢ƒè¯´æ˜"><a href="#Notebookç¯å¢ƒè¯´æ˜" class="headerlink" title="Notebookç¯å¢ƒè¯´æ˜"></a>Notebookç¯å¢ƒè¯´æ˜</h2><p>Kaggleçš„Notebookå®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>.ipynb</code>ç¼–è¾‘å™¨ï¼Œæ”¯æŒcodeå’Œmarkdownä¸¤ç§è¯­è¨€è¿›è¡Œç¼–å†™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æ®µç¼–å†™å’Œè¿è¡Œä»£ç ã€‚å› ä¸ºnotebookèƒ½æŒç»­ä¿æŒè¿è¡ŒçŠ¶æ€ï¼Œå¯ä»¥ä¸€å—ä¸€å—åœ°æ‰§è¡Œä»£ç ï¼Œä¸”å‰é¢çš„æ‰§è¡Œç»“æœå’Œå˜é‡ä¾ç„¶æœ‰æ•ˆã€‚</p><p>è®¾ç½®å¯ä»¥æ›´æ”¹è¿è¡Œæ˜¯å¦ä½¿ç”¨GPUï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œè¦åœ¨ä»£ç è¿è¡Œä¹‹å‰å°±è¿›è¡Œé€‰æ‹©ï¼Œå› ä¸ºæ›´æ¢GPUä¸æ˜¯çƒ­åŠ è½½ï¼Œè€Œæ˜¯ç›´æ¥æ›´æ¢ä¸€ä¸ªæ–°çš„è¿è¡Œç¯å¢ƒï¼Œä¹‹å‰è¿è¡Œçš„ç¯å¢ƒä¼šä¸¢å¤±ã€‚</p><p>å³è¾¹<code>sidebar</code>ï¼ˆå¦‚æœæ²¡æœ‰åœ¨<code>view</code>é‡Œç‚¹å‡»<code>show sidebar</code>ï¼‰å¯ä»¥åŠ è½½æ•°æ®é›†ã€‚å¦‚æœä½ æ˜¯åœ¨æ¯”èµ›çš„<code>code</code>é¡µé¢ç‚¹å‡»çš„<code>new notebook</code>ï¼Œé‚£ä¹ˆå¯ä»¥çœ‹åˆ°<code>input</code>è‡ªåŠ¨åŠ è½½äº†è¿™åœºæ¯”èµ›çš„æ•°æ®é›†ã€‚</p><p>å¯ä»¥è‡ªè¡Œæ·»åŠ æ•°æ®åˆ°<code>input</code>é‡Œé¢ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€æ˜¯ä»ç½‘ç«™å·²æœ‰çš„æ•°æ®è¿›è¡Œæ·»åŠ ï¼Œæ¯”å¦‚å…¶ä»–æ¯”èµ›çš„æ•°æ®é›†ï¼Œæˆ–è€…æ˜¯ä½ è‡ªå·±å…¶ä»–notebookä¸Šçš„äº§å‡ºæ–‡ä»¶ï¼ˆOutputï¼‰ï¼›äºŒæ˜¯ä»è‡ªå·±ç”µè„‘ä¸Šä¼ å‹ç¼©åŒ…æ–‡ä»¶ï¼Œä¸Šä¼ çš„æ—¶å€™ä¼šè¯¢é—®æ˜¯modelè¿˜æ˜¯datasetï¼Œå…¶å®è¿˜æ˜¯ç¬¬ä¸€ç§æ–¹å¼åŠ è½½æ•°æ®ï¼Œä½ ä¸Šä¼ çš„æ–‡ä»¶ä¼šå…ˆä¿å­˜åˆ°ç½‘ç«™ä¸Šï¼Œç„¶åå†åŠ è½½ã€‚ä½ ä¸Šä¼ çš„å‹ç¼©æ–‡ä»¶ä¼šè‡ªåŠ¨è§£å‹åˆ°å½“å‰ç¯å¢ƒçš„<code>input</code>ç›®å½•ä¸‹ã€‚</p><p>æ³¨æ„ï¼Œæ‰€æœ‰notebookéƒ½æœ‰ä¸¤ä¸ªè·¯å¾„å¯ä»¥ä½¿ç”¨ï¼Œä¸€æ˜¯<code>/kaggle/input/</code>,è¿™ä¸ªæ˜¯å­˜æ”¾æ‰€æœ‰å‡†å¤‡ä½¿ç”¨çš„æ–‡ä»¶çš„ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹åªè¯»ï¼Œä¸èƒ½æ›´æ”¹ï¼›äºŒæ˜¯<code>/kaggle/working/</code>ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯ä½ ä»£ç æ‰€æœ‰äº§å‡ºä¿å­˜æ–‡ä»¶çš„åœ°å€ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹æ²¡æœ‰åªè¯»çš„é™åˆ¶ï¼Œå¯ä»¥éšæ„æ›´æ”¹ï¼Œä½†æ˜¯æœ‰ä¸Šé™20GBçš„è¦æ±‚ã€‚åœ¨è¿è¡Œ<code>Save&amp;Run All(Commit)</code>ä¿å­˜è¿™ä¸ªç‰ˆæœ¬çš„Versionçš„æ—¶å€™ï¼ŒKaggleä¼šè‡ªåŠ¨ä»å¤´åˆ°å°¾è¿è¡Œä»£ç ï¼Œè€Œä¸”ä¿å­˜è¿™ä¸ªnotebookçš„<code>/kaggle/working/</code>ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚å½“ä½ åœ¨æ–°notebooké‡Œé¢ï¼Œå¯ä»¥æ·»åŠ è¿™ä¸ªnotebookçš„outputï¼Œä¼šä¿å­˜åœ¨æ–°notebookçš„<code>/kaggle/input/</code>çš„æ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>å»ºè®®å…ˆå°†æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°<code>working</code>æ–‡ä»¶å¤¹ä¸‹åœ¨è¿›è¡Œå…¶ä»–æ“ä½œï¼Œå¤„ç†æ•°æ®ä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚</p><h2 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h2><p>å› ä¸ºæ˜¯è¾¹è¯•é”™è¾¹å®Œæˆçš„ï¼Œæ‰€ä»¥æ­¥éª¤æœ‰äº›å†—ä½™ã€‚</p><p>æˆ‘ä¸€å…±åˆ›å»ºäº†ä¸‰ä¸ªnotebookå’Œä¸€ä¸ªdatasetã€‚notebookåˆ†åˆ«æ˜¯<code>YOLOv5&amp;Dependences</code>,<code>WheatDetectOffineTrain</code>å’Œ<code>WheatDetectOfflineDetect</code>ã€‚ä¸€ä¸ªæ•°æ®é›†æ˜¯<code>ArialTTF</code>,å…¶å®å°±æ˜¯Arialå­—ä½“æ–‡ä»¶ã€‚</p><p>è¿™é‡Œå¼ºè°ƒä¸€ä¸‹ï¼Œæ¨¡å‹çš„è®­ç»ƒå’Œæ£€æµ‹å»ºè®®åˆ†æˆä¸¤ä¸ªnotebookæ¥å†™ï¼Œå› ä¸ºæäº¤ä¹‹åä¼šè¿è¡Œä½ çš„ä»£ç ï¼Œå¦‚æœé‡æ–°è®­ç»ƒçš„è¯ä¼šèŠ±è´¹å¤§é‡çš„æ—¶é—´æ‰èƒ½å¾—åˆ°åˆ†æ•°ã€‚</p><h3 id="ArialTTF"><a href="#ArialTTF" class="headerlink" title="ArialTTF"></a>ArialTTF</h3><p>å…ˆè¯´ä¸€ä¸‹è¿™ä¸ªæ•°æ®é›†å§ï¼Œè¿™æ˜¯åœ¨ç”¨YOLOv5è®­ç»ƒçš„æ—¶å€™æŠ¥é”™å‘ç°çš„ï¼Œå®ƒè¯´æ²¡æœ‰Arialå­—ä½“æ–‡ä»¶ã€‚å› ä¸ºYOLOv5è®­ç»ƒç»“æŸåä¼šå±•ç¤ºä¸€äº›å›¾ç‰‡ï¼Œä¸Šé¢ä¼šç”»æ¡†å’Œæ ‡æ³¨æ ‡ç­¾ï¼Œéœ€è¦å­—ä½“æ–‡ä»¶ã€‚Arialåº”è¯¥æ˜¯æœ€åŸºæœ¬çš„è‹±æ–‡å­—ä½“æ–‡ä»¶äº†ï¼Œç„¶è€ŒKaggleç¯å¢ƒé‡Œå¹¶æ²¡æœ‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨inputåŠ ä¸Šè¿™ä¸ªå­—ä½“æ–‡ä»¶ï¼Œä¸‹é¢ä¼šæåˆ°æ€ä¹ˆå¤„ç†è¿™ä¸ªå­—ä½“æ–‡ä»¶ã€‚</p><p>åˆ›å»ºæ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨notebookç¼–è¾‘é¡µé¢ç‚¹å‡»ä¸Šä¼ inputï¼Œé€‰æ‹©datasetï¼Œä¸Šä¼ åœ¨ç½‘ä¸Šä¸‹è½½å¥½çš„å­—ä½“æ–‡ä»¶å³å¯ã€‚</p><h3 id="YOLOv5-amp-Dependences"><a href="#YOLOv5-amp-Dependences" class="headerlink" title="YOLOv5&amp;Dependences"></a>YOLOv5&amp;Dependences</h3><p>è¿™ä¸ªnotebookå¯ä»¥è¿æ¥ç½‘ç»œã€‚å…¶å®åªæœ‰æœ€åæäº¤çš„notebook offlineå°±è¡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><p>WTFï¼ŒWTFï¼ŒWTFã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p><p>æ‰€ä»¥æˆ‘ä¸ºä»€ä¹ˆè¦å†™ä¸‰ä¸ªnotebookï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦åœ¨trainçš„æ—¶å€™ä¹Ÿç¦»çº¿äº†ã€‚ã€‚ã€‚</p><p>æˆ‘çœŸçš„æ˜¯å†™åˆ°è¿™é‡Œçš„æ—¶å€™æ‰æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜ã€‚</p><p>å› ä¸ºå½“å‰è¿™ä¸ª<code>YOLOv5&amp;Dependences</code> notebookä¸»è¦è§£å†³çš„æ˜¯ç¦»çº¿notebookä¸èƒ½ä½¿ç”¨git,pipå‘½ä»¤è¿›è¡Œåœ¨çº¿æ“ä½œçš„é—®é¢˜ã€‚æˆ‘æƒ³çš„æ˜¯åœ¨è¿™é‡Œä¸‹è½½å¥½YOLOv5å’Œä¾èµ–åŒ…ä¹‹åï¼Œåœ¨<code>WheatDetectOffineTrain</code>é‡Œé¢ä½œä¸ºinputè¿›è¡ŒåŠ è½½å°±å¯ä»¥ç¦»çº¿ä½¿ç”¨YOLOv5äº†ã€‚</p><p>å®é™…ä¸Š<code>WheatDetectOffineTrain</code>å®Œå…¨å¯ä»¥è”ç½‘ä¸‹è½½å’Œå®‰è£…ä¾èµ–ï¼Œæ‰€ä»¥è¿™ä¸ªnotebookå®Œå…¨æ²¡æœ‰å­˜åœ¨çš„å¿…è¦ã€‚</p><p>æˆ‘ç»ˆäºæ˜ç™½discussioné‡Œé¢æœ‰äººè¯´çš„ä½ éœ€è¦åˆ›å»ºä¸¤ä¸ªnotebookï¼Œä¸€ä¸ªç”¨æ¥è®­ç»ƒï¼Œä¸€ä¸ªç”¨æ¥æ£€æµ‹æ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚å¹¶ä¸æ˜¯éœ€è¦ï¼Œè€Œæ˜¯â€œåªâ€éœ€è¦ä¸¤ä¸ªã€‚</p><p>ä¸è¿‡è¿˜æ˜¯è®°å½•ä¸€ä¸‹è¿™ä¸ªnotebookçš„ä»£ç å§ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">!git clone https://github.com/ultralytics/yolov5</span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash"><span class="built_in">cd</span> yolov5</span></span><br><span class="line">!pip download -r requirements.txt -d dependences</span><br><span class="line">!mkdir -p weights</span><br><span class="line">!wget -P weights https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5s.pt</span><br></pre></td></tr></table></figure><p>å› ä¸ºé¢„è®­ç»ƒæ–‡ä»¶æ˜¯åœ¨çº¿åŠ è½½çš„ï¼Œæ‰€ä»¥ä¹Ÿå¾—æå‰ä¸‹è½½ã€‚ã€‚ã€‚</p><h3 id="WheatDetectOffineTrain"><a href="#WheatDetectOffineTrain" class="headerlink" title="WheatDetectOffineTrain"></a>WheatDetectOffineTrain</h3><p>å¥½ï¼Œæ¥ä¸‹æ¥è®°å½•ä¸€ä¸‹è¿™ä¸ªâ€œç¦»çº¿â€è®­ç»ƒçš„notebookã€‚</p><p>é¦–å…ˆè¦å…ˆæ·»åŠ inputï¼Œå°†ä¸Šé¢ä¸¤ä¸ªåŠ è½½è¿›æ¥ã€‚</p><p>ç„¶åå®‰è£…ä¾èµ–ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install --no-index --find-links=/kaggle/input/yolov5-dependences/yolov5/dependences -r /kaggle/input/yolov5-dependences/yolov5/requirements.txt</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œè¿è¡Œå®Œåä¼šçœ‹è§æŠ¥é”™ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ERROR: pip&#x27;s dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.</span><br><span class="line">torchaudio 2.6.0+cu124 requires torch==2.6.0, but you have torch 2.7.1 which is incompatible.</span><br><span class="line">fastai 2.7.19 requires torch&lt;2.7,&gt;=1.10, but you have torch 2.7.1 which is incompatible.</span><br></pre></td></tr></table></figure><br>å¥½åƒæ˜¯å› ä¸ºæœ¬åœ°torchç‰ˆæœ¬å¤ªé«˜äº†ï¼Œä¸è¿‡ä¸ç”¨ç†ä¼šï¼Œä»£ç èƒ½æ­£å¸¸è¿è¡Œã€‚</p><p>åˆ›å»ºæ•°æ®é›†æ–‡ä»¶å¤¹<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.makedirs(<span class="string">&#x27;/kaggle/working/wheat&#x27;</span>, exist_ok=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></p><p>å°†æ ‡ç­¾è½¬æ¢æˆYOLOæ ¼å¼ï¼š<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> os </span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"><span class="comment"># set path</span></span><br><span class="line">csv_path = <span class="string">r&#x27;/kaggle/input/global-wheat-detection/train.csv&#x27;</span></span><br><span class="line">image_dir = <span class="string">r&#x27;/kaggle/input/global-wheat-detection/train&#x27;</span></span><br><span class="line">label_output_dir = <span class="string">r&#x27;/kaggle/working/wheat/labels&#x27;</span></span><br><span class="line"></span><br><span class="line">os.makedirs(label_output_dir,exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(csv_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£æ bbox å­—ç¬¦ä¸²ä¸º float ç±»å‹çš„ [x, y, w, h]</span></span><br><span class="line">df[[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;h&#x27;</span>]] = df[<span class="string">&#x27;bbox&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="built_in">eval</span>(x)).apply(pd.Series)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert_bbox_to_yolo</span>(<span class="params">size,box</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    size: (width,height)</span></span><br><span class="line"><span class="string">    box: (x_min, y_min, width, height)</span></span><br><span class="line"><span class="string">    return: normalized (x_center, y_center, width, height)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    dw, dh = <span class="number">1.</span> / size[<span class="number">0</span>], <span class="number">1.</span> / size[<span class="number">1</span>]</span><br><span class="line">    x_center = (box[<span class="number">0</span>] + box[<span class="number">2</span>] / <span class="number">2.0</span>) * dw</span><br><span class="line">    y_center = (box[<span class="number">1</span>] + box[<span class="number">3</span>] / <span class="number">2.0</span>) * dh</span><br><span class="line">    w = box[<span class="number">2</span>] * dw</span><br><span class="line">    h = box[<span class="number">3</span>] * dh</span><br><span class="line">    <span class="keyword">return</span> x_center, y_center, w, h</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> image_id, group <span class="keyword">in</span> tqdm(df.groupby(<span class="string">&#x27;image_id&#x27;</span>), desc=<span class="string">&quot;Generating labels&quot;</span>):</span><br><span class="line">    image_path = os.path.join(image_dir,image_id + <span class="string">&#x27;.jpg&#x27;</span>)</span><br><span class="line">    label_path = os.path.join(label_output_dir, image_id + <span class="string">&#x27;.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(image_path):</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">with</span> Image.<span class="built_in">open</span>(image_path) <span class="keyword">as</span> img:</span><br><span class="line">        img_w, img_h = img.size</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(label_path,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> _, row <span class="keyword">in</span> group.iterrows():</span><br><span class="line">            x_center, y_center, w, h = convert_bbox_to_yolo((img_w, img_h), (row[<span class="string">&#x27;x&#x27;</span>], row[<span class="string">&#x27;y&#x27;</span>], row[<span class="string">&#x27;w&#x27;</span>], row[<span class="string">&#x27;h&#x27;</span>]))</span><br><span class="line">            f.write(<span class="string">f&quot;0 <span class="subst">&#123;x_center:<span class="number">.6</span>f&#125;</span> <span class="subst">&#123;y_center:<span class="number">.6</span>f&#125;</span> <span class="subst">&#123;w:<span class="number">.6</span>f&#125;</span> <span class="subst">&#123;h:<span class="number">.6</span>f&#125;</span>\n&quot;</span>)</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºï¼š<code>Generating labels: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3373/3373 [00:23&lt;00:00, 144.72it/s]</code></p><p>æ•´ç†å›¾åƒæ–‡ä»¶å¤¹ï¼Œç¬¦åˆYOLOè¦æ±‚ï¼Œåˆ’åˆ†è®­ç»ƒé›†éªŒè¯é›†ã€‚<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">image_dir = Path(<span class="string">r&#x27;/kaggle/input/global-wheat-detection/train&#x27;</span>)</span><br><span class="line">label_dir = Path(<span class="string">r&#x27;/kaggle/working/wheat/labels&#x27;</span>)</span><br><span class="line">output_base = Path(<span class="string">r&#x27;/kaggle/working/wheat/yolo&#x27;</span>)</span><br><span class="line"></span><br><span class="line">os.makedirs(output_base,exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">train_ratio = <span class="number">0.8</span></span><br><span class="line"></span><br><span class="line">output_images_train = output_base / <span class="string">&#x27;images/train&#x27;</span></span><br><span class="line">output_images_val = output_base / <span class="string">&#x27;images/val&#x27;</span></span><br><span class="line">output_labels_train = output_base / <span class="string">&#x27;labels/train&#x27;</span></span><br><span class="line">output_labels_val = output_base / <span class="string">&#x27;labels/val&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç›®æ ‡æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">for</span> path <span class="keyword">in</span> [output_images_train, output_images_val, output_labels_train, output_labels_val]:</span><br><span class="line">    os.makedirs(path, exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">image_files = <span class="built_in">list</span>(image_dir.glob(<span class="string">&#x27;*.jpg&#x27;</span>))</span><br><span class="line"><span class="comment"># stem is to remove .jpg</span></span><br><span class="line">image_ids = [img.stem <span class="keyword">for</span> img <span class="keyword">in</span> image_files] </span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">42</span>)</span><br><span class="line">random.shuffle(image_ids)</span><br><span class="line"></span><br><span class="line">split_index = <span class="built_in">int</span>(<span class="built_in">len</span>(image_ids) * train_ratio)</span><br><span class="line">train_ids = image_ids[:split_index]</span><br><span class="line">val_ids = image_ids[split_index:]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">copy_files</span>(<span class="params">image_ids, image_dst, label_dst</span>):</span><br><span class="line">    <span class="keyword">for</span> image_id <span class="keyword">in</span> image_ids:</span><br><span class="line">        src_img = image_dir / <span class="string">f&quot;<span class="subst">&#123;image_id&#125;</span>.jpg&quot;</span></span><br><span class="line">        dst_img = image_dst / <span class="string">f&quot;<span class="subst">&#123;image_id&#125;</span>.jpg&quot;</span></span><br><span class="line">        shutil.copy2(src_img,dst_img)</span><br><span class="line"></span><br><span class="line">        src_label = label_dir / <span class="string">f&quot;<span class="subst">&#123;image_id&#125;</span>.txt&quot;</span></span><br><span class="line">        dst_label = label_dst / <span class="string">f&quot;<span class="subst">&#123;image_id&#125;</span>.txt&quot;</span></span><br><span class="line">        <span class="keyword">if</span> src_label.exists():</span><br><span class="line">            shutil.copy2(src_label, dst_label)</span><br><span class="line">        <span class="keyword">else</span>: </span><br><span class="line">            dst_label.write_text(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">copy_files(train_ids, output_images_train,output_labels_train)</span><br><span class="line">copy_files(val_ids, output_images_val,output_labels_val)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;âœ… åˆ’åˆ†å®Œæˆï¼š<span class="subst">&#123;<span class="built_in">len</span>(train_ids)&#125;</span> å¼ ç”¨äºè®­ç»ƒï¼Œ<span class="subst">&#123;<span class="built_in">len</span>(val_ids)&#125;</span> å¼ ç”¨äºéªŒè¯ã€‚&quot;</span>)</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºï¼š<code>âœ… åˆ’åˆ†å®Œæˆï¼š2737 å¼ ç”¨äºè®­ç»ƒï¼Œ685 å¼ ç”¨äºéªŒè¯ã€‚</code></p><p><strong>æ³¨æ„ï¼šæ²¡æœ‰æ¡†çš„å›¾ç‰‡ä¹Ÿéœ€è¦ä¸€ä¸ªå¯¹åº”çš„ç©ºtxtæ–‡ä»¶</strong></p><p>ç¼–å†™yamlæ–‡ä»¶ï¼š<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yaml_content = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">path: /kaggle/working/wheat/yolo</span></span><br><span class="line"><span class="string">train: images/train</span></span><br><span class="line"><span class="string">val: images/val</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">nc: 1</span></span><br><span class="line"><span class="string">names: [&#x27;wheat&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;wheat.yaml&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(yaml_content)</span><br></pre></td></tr></table></figure></p><p>å°†YOLOv5æ‹·è´åˆ°workingæ–‡ä»¶å¤¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!cp -r /kaggle/input/yolov5-dependences/yolov5 /kaggle/working/yolov5</span><br></pre></td></tr></table></figure><p>å› ä¸ºYOLOv5åœ¨è¿è¡Œçš„æ—¶å€™wandbä¼šè”ç½‘è¿›è¡Œgitæ£€æŸ¥ï¼Œç„¶è€Œå½“å‰æ˜¯offlineçš„ï¼Œä¼šé€ æˆæ— æ³•è¿è¡Œçš„æƒ…å†µã€‚è¿™é‡Œä½¿ç”¨äº†chatgptæ•™æˆ‘çš„â€œçŒ´å­æˆæ³•â€ï¼Œå°†æ‰§è¡Œæ£€æŸ¥çš„å‡½æ•°æ— æ•ˆåŒ–ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> types</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.append(<span class="string">&#x27;/kaggle/working/yolov5&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> utils.general <span class="keyword">as</span> general</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dummy_check_git_info</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;unknown&#x27;</span></span><br><span class="line"></span><br><span class="line">general.check_git_info = dummy_check_git_info</span><br></pre></td></tr></table></figure><p>å®‰è£…å­—ä½“æ–‡ä»¶,æˆ‘ä»¬åªéœ€è¦å°†å­—ä½“æ–‡ä»¶ç§»åŠ¨åˆ°yoloä¼šå¯»æ‰¾å­—ä½“çš„åœ°æ–¹å³å¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">!mkdir -p /root/.config/Ultralytics/</span><br><span class="line">!cp /kaggle/input/arialttf/Arial.ttf /root/.config/Ultralytics/Arial.ttf</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè®­ç»ƒå‘½ä»¤ï¼Œè¿™é‡Œå…ˆè¿›å…¥åˆ°YOLOæ–‡ä»¶å¤¹ä¸‹ï¼Œç®€åŒ–å‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">%</span><span class="language-bash"><span class="built_in">cd</span> /kaggle/working/yolov5/</span></span><br><span class="line">!python train.py --img 640 --batch 16 --epochs 50 --data /kaggle/working/wheat.yaml --weights weights/yolov5s.pt --name wheat_yolov5</span><br></pre></td></tr></table></figure></p><p>åˆ°æ­¤å°±å¯ä»¥äº†ï¼Œæ‰§è¡Œ<code>Save &amp; Run All(commit)</code>ç­‰å¾…è®­ç»ƒå®Œæˆåå°±å¯ä»¥è¿›è¡Œæ£€æµ‹äº†ã€‚æˆ‘å¹¶æ²¡æœ‰è¿›è¡Œå›¾ç‰‡å¢å¼ºï¼Œå¢åŠ æ•°æ®é›†çš„æ“ä½œè€Œç›´æ¥è®­ç»ƒçš„ï¼Œæ‰€ä»¥æœ€åæ£€æµ‹ç»“æœä¼šæœ‰ä¸€ç‚¹ä½ã€‚</p><h3 id="WheatDetectOfflineDetect"><a href="#WheatDetectOfflineDetect" class="headerlink" title="WheatDetectOfflineDetect"></a>WheatDetectOfflineDetect</h3><p>æå‰åŠ è½½å­—ä½“æ–‡ä»¶ï¼Œ<code>YOLOv5&amp;Dependences</code>å’Œ<code>WheatDetectOffineTrain</code>çš„outputã€‚</p><p>çªç„¶æ„è¯†åˆ°<code>YOLOv5&amp;Dependences</code>ä¹Ÿè¿˜æ˜¯æœ‰ä¸€ç‚¹å­˜åœ¨çš„å¿…è¦çš„ï¼Œæ£€æµ‹æ–‡ä»¶ä¹Ÿéœ€è¦å®‰è£…ç¯å¢ƒï¼Œè™½ç„¶è¯´åœ¨è®­ç»ƒæ–‡ä»¶é‡Œä¹Ÿå¯ä»¥ä¸‹è½½ã€‚</p><p>å®‰è£…ä¾èµ–ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install --no-index --find-links=/kaggle/input/yolov5-dependences/yolov5/dependences -r /kaggle/input/yolov5-dependences/yolov5/requirements.txt</span><br></pre></td></tr></table></figure></p><p>æ‹·è´è®­ç»ƒåçš„YOLOv5æ–‡ä»¶å¤¹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!cp -r /kaggle/input/wheatdetectoffinetrain/yolov5 /kaggle/working/yolov5</span><br></pre></td></tr></table></figure><br>è¿™æ—¶yolov5é¡¹ç›®æ–‡ä»¶å¤¹é‡Œæ˜¯æœ‰è®­ç»ƒåçš„<code>runs</code>æ–‡ä»¶å¤¹çš„ã€‚</p><p>å®‰è£…å­—ä½“ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">!mkdir -p /root/.config/Ultralytics/</span><br><span class="line">!cp /kaggle/input/arialttf/Arial.ttf /root/.config/Ultralytics/Arial.ttf</span><br></pre></td></tr></table></figure></p><p>è½¬æ¢å·¥ä½œç›®å½•ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">%</span><span class="language-bash"><span class="built_in">cd</span> /kaggle/working/yolov5/</span></span><br></pre></td></tr></table></figure></p><p>æ£€æµ‹å‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!python detect.py --weights runs/train/wheat_yolov5/weights/best.pt --source /kaggle/input/global-wheat-detection/test --img 640 --conf 0.25 --save-txt --save-conf --project runs/predict --name wheat_test</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œ<code>--conf</code>æ˜¯ä¿ç•™ç½®ä¿¡åº¦ï¼Œ<code>--save-txt</code>æ˜¯ä¿å­˜ä¸ºtxtæ–‡ä»¶ã€‚</p><p>è½¬æ¢yoloè¾“å‡ºå¹¶ç”Ÿæˆ<code>submission.csv</code>æ–‡ä»¶:</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os </span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·¯å¾„é…ç½®</span></span><br><span class="line">test_images_dir = Path(<span class="string">r&#x27;/kaggle/input/global-wheat-detection/test&#x27;</span>)</span><br><span class="line">pred_labels_dir = Path(<span class="string">r&#x27;/kaggle/working/yolov5/runs/predict/wheat_test/labels&#x27;</span>)</span><br><span class="line">submission_path = <span class="string">&#x27;/kaggle/working/submission.csv&#x27;</span></span><br><span class="line"></span><br><span class="line">results = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> image_path <span class="keyword">in</span> test_images_dir.glob(<span class="string">&#x27;*.jpg&#x27;</span>):</span><br><span class="line">    image_id = image_path.stem</span><br><span class="line">    label_path = pred_labels_dir / <span class="string">f&quot;<span class="subst">&#123;image_id&#125;</span>.txt&quot;</span></span><br><span class="line"></span><br><span class="line">    prediction_string = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> label_path.exists():</span><br><span class="line">        <span class="keyword">with</span> Image.<span class="built_in">open</span>(image_path) <span class="keyword">as</span> im:</span><br><span class="line">            img_w, img_h = im.size</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(label_path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">                parts = line.strip().split()</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(parts) == <span class="number">6</span>:</span><br><span class="line">                    cls, x_center, y_center, width, height, conf = <span class="built_in">map</span>(<span class="built_in">float</span>, parts)</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># è½¬å›å·¦ä¸Šè§’åæ ‡</span></span><br><span class="line">                    x_min = (x_center - width / <span class="number">2</span>) * img_w</span><br><span class="line">                    y_min = (y_center - height / <span class="number">2</span>) * img_h</span><br><span class="line">                    box_w = width * img_w</span><br><span class="line">                    box_h = height * img_h</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># æ‹¼æ¥å­—ç¬¦ä¸²ï¼šconfidence x y w h</span></span><br><span class="line">                    prediction_string += <span class="string">f&quot;<span class="subst">&#123;conf:<span class="number">.4</span>f&#125;</span> <span class="subst">&#123;x_min:<span class="number">.1</span>f&#125;</span> <span class="subst">&#123;y_min:<span class="number">.1</span>f&#125;</span> <span class="subst">&#123;box_w:<span class="number">.1</span>f&#125;</span> <span class="subst">&#123;box_h:<span class="number">.1</span>f&#125;</span> &quot;</span></span><br><span class="line"></span><br><span class="line">    results.append(&#123;</span><br><span class="line">        <span class="string">&quot;image_id&quot;</span>: image_id,</span><br><span class="line">        <span class="string">&quot;PredictionString&quot;</span>: prediction_string.strip()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜ä¸º CSV</span></span><br><span class="line">df = pd.DataFrame(results)</span><br><span class="line">df.to_csv(submission_path, index=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;âœ… å·²ä¿å­˜æäº¤æ–‡ä»¶: <span class="subst">&#123;submission_path&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆåˆ†æ•°å¦‚ä¸‹ï¼š<br><img src="https://images.whff521.top/Screenshot%202025-07-22%20at%2015.00.49.png" alt="åˆ†æ•°"></p><p>åˆ†æ•°å’Œæ¦œå•ä¸Šè¿˜å·®å¾ˆå¤šã€‚ç»è¿‡å‡ å¤©çš„æœç´¢å…³äºç›®æ ‡æ£€æµ‹ç«èµ›çš„ä¿¡æ¯å’ŒæŸ¥çœ‹åˆ«äººçš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘è®¤ä¸ºç›´æ¥ä½¿ç”¨YOLOå¯èƒ½æ˜¯ä¸€ä¸ªéå¸¸åçš„é€‰æ‹©ã€‚</p><p>PSï¼šå°é¢å›¾æ¥æºï¼š<a href="https://x.com/nakiriayame/status/1946793366399918121?s=46">ç™¾é¬¼ã‚ã‚„ã‚ğŸ˜ˆãƒ›ãƒ­ãƒ©ã‚¤ãƒ–2æœŸç”Ÿ</a></p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yolo </tag>
            
            <tag> Kaggle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>YOLOv5ä½¿ç”¨æ–¹æ³•</title>
      <link href="/2025/07/21/YOLOv5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2025/07/21/YOLOv5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="YOLOv5ä½¿ç”¨æ–¹æ³•"><a href="#YOLOv5ä½¿ç”¨æ–¹æ³•" class="headerlink" title="YOLOv5ä½¿ç”¨æ–¹æ³•"></a>YOLOv5ä½¿ç”¨æ–¹æ³•</h1><h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><p>YOLOv5 ä½¿ç”¨çš„æ•°æ®é›†éµå¾ªçš„æ˜¯ <strong>YOLOæ ¼å¼ï¼ˆYOLO annotation formatï¼‰</strong>ã€‚ä»¥ä¸‹æ˜¯ YOLOv5 æ‰€éœ€æ•°æ®é›†çš„å®Œæ•´è§„èŒƒï¼š</p><hr><h4 id="âœ…-1-ç›®å½•ç»“æ„"><a href="#âœ…-1-ç›®å½•ç»“æ„" class="headerlink" title="âœ… 1. ç›®å½•ç»“æ„"></a>âœ… 1. <strong>ç›®å½•ç»“æ„</strong></h4><p>YOLOv5 é€šå¸¸çš„æ•°æ®é›†ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">dataset/</span><br><span class="line">â”œâ”€â”€ images/</span><br><span class="line">â”‚   â”œâ”€â”€ train/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img1.jpg</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img2.jpg</span><br><span class="line">â”‚   â”œâ”€â”€ val/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img3.jpg</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img4.jpg</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€â”€ labels/</span><br><span class="line">â”‚   â”œâ”€â”€ train/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img1.txt</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img2.txt</span><br><span class="line">â”‚   â”œâ”€â”€ val/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img3.txt</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ img4.txt</span><br><span class="line">â”‚</span><br><span class="line">â””â”€â”€ data.yaml</span><br></pre></td></tr></table></figure><hr><h4 id="âœ…-2-æ ‡ç­¾æ–‡ä»¶æ ¼å¼ï¼ˆ-txtï¼‰"><a href="#âœ…-2-æ ‡ç­¾æ–‡ä»¶æ ¼å¼ï¼ˆ-txtï¼‰" class="headerlink" title="âœ… 2. æ ‡ç­¾æ–‡ä»¶æ ¼å¼ï¼ˆ.txtï¼‰"></a>âœ… 2. <strong>æ ‡ç­¾æ–‡ä»¶æ ¼å¼ï¼ˆ<code>.txt</code>ï¼‰</strong></h4><p>æ¯å¼ å›¾åƒå¯¹åº”ä¸€ä¸ª <code>.txt</code> æ–‡ä»¶ï¼Œå‘½åç›¸åŒï¼Œå†…å®¹å¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;class_id&gt; &lt;x_center&gt; &lt;y_center&gt; &lt;width&gt; &lt;height&gt;</span><br></pre></td></tr></table></figure><h5 id="åæ ‡è¯´æ˜ï¼š"><a href="#åæ ‡è¯´æ˜ï¼š" class="headerlink" title="åæ ‡è¯´æ˜ï¼š"></a>åæ ‡è¯´æ˜ï¼š</h5><ul><li><code>class_id</code>ï¼šæ•´æ•°ï¼Œè¡¨ç¤ºç›®æ ‡æ‰€å±çš„ç±»åˆ«ï¼Œä»0å¼€å§‹ã€‚</li><li><code>x_center</code>ã€<code>y_center</code>ï¼šç›®æ ‡ä¸­å¿ƒçš„ç›¸å¯¹ä½ç½®ï¼ˆèŒƒå›´æ˜¯0~1ï¼Œç›¸å¯¹äºå›¾åƒå®½åº¦å’Œé«˜åº¦ï¼‰ã€‚</li><li><code>width</code>ã€<code>height</code>ï¼šç›®æ ‡æ¡†çš„ç›¸å¯¹å®½åº¦å’Œé«˜åº¦ï¼ˆèŒƒå›´0~1ï¼‰ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0.5 0.5 0.2 0.3</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºç¬¬0ç±»ç‰©ä½“ï¼Œå…¶è¾¹ç•Œæ¡†ä¸­å¿ƒåœ¨å›¾åƒæ­£ä¸­é—´ï¼Œå®½20%ï¼Œé«˜30%ã€‚</p><hr><h4 id="âœ…-3-data-yaml-æ–‡ä»¶æ ¼å¼"><a href="#âœ…-3-data-yaml-æ–‡ä»¶æ ¼å¼" class="headerlink" title="âœ… 3. data.yaml æ–‡ä»¶æ ¼å¼"></a>âœ… 3. <strong><code>data.yaml</code> æ–‡ä»¶æ ¼å¼</strong></h4><p>ç”¨äºé…ç½®è®­ç»ƒé›†ã€éªŒè¯é›†ã€ç±»åˆ«åç­‰ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># path: ./dataset</span></span><br><span class="line"><span class="attr">train:</span> <span class="string">images/train</span></span><br><span class="line"><span class="attr">val:</span> <span class="string">images/val</span></span><br><span class="line"><span class="comment"># test: ./dataset/images/test</span></span><br><span class="line"><span class="attr">nc:</span> <span class="number">3</span>  <span class="comment"># ç±»åˆ«æ•°é‡</span></span><br><span class="line"><span class="attr">names:</span> [<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;person&#x27;</span>]  <span class="comment"># ç±»åˆ«åç§°åˆ—è¡¨</span></span><br></pre></td></tr></table></figure><p>æ³¨é‡Šä»£è¡¨éå¿…é¡»å­—æ®µï¼Œ<code>path</code>æŒ‡å®šååé¢çš„è·¯å¾„åªéœ€å†™ç›¸å¯¹è·¯å¾„</p><hr><h4 id="âœ…-4-å›¾ç‰‡æ ¼å¼"><a href="#âœ…-4-å›¾ç‰‡æ ¼å¼" class="headerlink" title="âœ… 4. å›¾ç‰‡æ ¼å¼"></a>âœ… 4. <strong>å›¾ç‰‡æ ¼å¼</strong></h4><ul><li>æ”¯æŒå¸¸è§æ ¼å¼ï¼š<code>.jpg</code>, <code>.jpeg</code>, <code>.png</code></li><li>å›¾ç‰‡å°ºå¯¸ä¸å¿…ç»Ÿä¸€ï¼Œä½†å»ºè®®å¤§å°é€‚ä¸­ï¼ˆè®­ç»ƒæ—¶å¯è‡ªåŠ¨resizeï¼‰</li></ul><hr><h4 id="âœ…-5-å¸¸è§æ³¨æ„äº‹é¡¹"><a href="#âœ…-5-å¸¸è§æ³¨æ„äº‹é¡¹" class="headerlink" title="âœ… 5. å¸¸è§æ³¨æ„äº‹é¡¹"></a>âœ… 5. <strong>å¸¸è§æ³¨æ„äº‹é¡¹</strong></h4><ul><li>æ ‡ç­¾æ–‡ä»¶ä¸­åæ ‡å¿…é¡»æ˜¯ <strong>å½’ä¸€åŒ–æ ¼å¼</strong>ï¼Œå³ç›¸å¯¹äºå›¾åƒå®½é«˜ï¼ŒèŒƒå›´åœ¨ <code>[0, 1]</code>ã€‚</li><li>æ¯ä¸€è¡Œä¸ºä¸€ä¸ªæ ‡æ³¨æ¡†ï¼Œ<strong>æ²¡æœ‰æ ‡æ³¨çš„å›¾åƒä¹Ÿå¿…é¡»æœ‰ç©ºçš„ <code>.txt</code> æ–‡ä»¶</strong>ã€‚</li><li><code>images/train</code> å’Œ <code>labels/train</code> ä¸­çš„æ–‡ä»¶åå¿…é¡»ä¸€ä¸€å¯¹åº”ã€‚</li></ul><hr><h4 id="âœ…-ç¤ºä¾‹"><a href="#âœ…-ç¤ºä¾‹" class="headerlink" title="âœ… ç¤ºä¾‹"></a>âœ… ç¤ºä¾‹</h4><p>å‡è®¾æœ‰ä¸€å¼ å›¾åƒ <code>dog.jpg</code> å°ºå¯¸ä¸º <code>800x600</code>ï¼Œç›®æ ‡ç‹—çš„ä½ç½®æ˜¯ï¼š</p><ul><li>å·¦ä¸Šè§’ <code>(x1=200, y1=150)</code></li><li>å³ä¸‹è§’ <code>(x2=600, y2=450)</code></li></ul><p>åˆ™ï¼š</p><ul><li><code>x_center = (200+600)/2 / 800 = 0.5</code></li><li><code>y_center = (150+450)/2 / 600 = 0.5</code></li><li><code>width = (600 - 200) / 800 = 0.5</code></li><li><code>height = (450 - 150) / 600 = 0.5</code></li></ul><p>æ ‡ç­¾è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 0.5 0.5 0.5 0.5</span><br></pre></td></tr></table></figure><p>ï¼ˆå‡è®¾â€œç‹—â€çš„ <code>class_id=1</code>ï¼‰</p><h2 id="é…ç½®æ–‡ä»¶è¯´æ˜"><a href="#é…ç½®æ–‡ä»¶è¯´æ˜" class="headerlink" title="é…ç½®æ–‡ä»¶è¯´æ˜"></a>é…ç½®æ–‡ä»¶è¯´æ˜</h2><p>YOLOv5 çš„é…ç½®æ–‡ä»¶ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç±»ï¼Œå®ƒä»¬ç”¨äºé…ç½®æ¨¡å‹ç»“æ„ã€è®­ç»ƒè¿‡ç¨‹ã€æ•°æ®é›†è·¯å¾„ç­‰ã€‚ä¸‹é¢æ˜¯å„ç±»é…ç½®æ–‡ä»¶çš„è¯´æ˜ï¼š</p><hr><h4 id="ğŸ—‚-1-data-yaml-â€”-æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼ˆè®­ç»ƒ-éªŒè¯-æµ‹è¯•è·¯å¾„-ç±»åˆ«ä¿¡æ¯ï¼‰"><a href="#ğŸ—‚-1-data-yaml-â€”-æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼ˆè®­ç»ƒ-éªŒè¯-æµ‹è¯•è·¯å¾„-ç±»åˆ«ä¿¡æ¯ï¼‰" class="headerlink" title="ğŸ—‚ 1. data.yaml â€” æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼ˆè®­ç»ƒ/éªŒè¯/æµ‹è¯•è·¯å¾„ + ç±»åˆ«ä¿¡æ¯ï¼‰"></a>ğŸ—‚ 1. <code>data.yaml</code> â€” æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼ˆ<strong>è®­ç»ƒ/éªŒè¯/æµ‹è¯•è·¯å¾„ + ç±»åˆ«ä¿¡æ¯</strong>ï¼‰</h4><p>ä½ç½®ï¼šä½ è‡ªå·±åˆ›å»ºæˆ–æ”¾åœ¨ <code>data/</code> ç›®å½•ä¸­</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">../dataset</span>                 <span class="comment"># æ•°æ®é›†æ ¹è·¯å¾„ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="attr">train:</span> <span class="string">images/train</span>              <span class="comment"># è®­ç»ƒå›¾ç‰‡è·¯å¾„ï¼ˆç›¸å¯¹ path æˆ–ç»å¯¹è·¯å¾„ï¼‰</span></span><br><span class="line"><span class="attr">val:</span> <span class="string">images/val</span>                  <span class="comment"># éªŒè¯å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="attr">test:</span> <span class="string">images/test</span>                <span class="comment"># ï¼ˆå¯é€‰ï¼‰æµ‹è¯•å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="attr">nc:</span> <span class="number">3</span>                            <span class="comment"># ç±»åˆ«æ•°é‡</span></span><br><span class="line"><span class="attr">names:</span> [<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;person&#x27;</span>]  <span class="comment"># ç±»åˆ«åç§°åˆ—è¡¨</span></span><br></pre></td></tr></table></figure><hr><h4 id="ğŸ“-2-yaml-â€”-æ¨¡å‹ç»“æ„é…ç½®æ–‡ä»¶ï¼ˆæ¨¡å‹æ¶æ„ä¸å‚æ•°è®¾ç½®ï¼‰"><a href="#ğŸ“-2-yaml-â€”-æ¨¡å‹ç»“æ„é…ç½®æ–‡ä»¶ï¼ˆæ¨¡å‹æ¶æ„ä¸å‚æ•°è®¾ç½®ï¼‰" class="headerlink" title="ğŸ“ 2. *.yaml â€” æ¨¡å‹ç»“æ„é…ç½®æ–‡ä»¶ï¼ˆæ¨¡å‹æ¶æ„ä¸å‚æ•°è®¾ç½®ï¼‰"></a>ğŸ“ 2. <code>*.yaml</code> â€” æ¨¡å‹ç»“æ„é…ç½®æ–‡ä»¶ï¼ˆ<strong>æ¨¡å‹æ¶æ„ä¸å‚æ•°è®¾ç½®</strong>ï¼‰</h4><p>ä½ç½®ï¼š<code>models/</code> ç›®å½•ä¸‹ï¼Œå¸¸è§å¦‚ <code>yolov5s.yaml</code>ã€<code>yolov5m.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yolov5s.yaml ç¤ºä¾‹</span></span><br><span class="line"><span class="attr">nc:</span> <span class="number">80</span>  <span class="comment"># ç±»åˆ«æ•°ï¼Œä¼šåœ¨è®­ç»ƒæ—¶è¢« data.yaml ä¸­çš„ nc è¦†ç›–</span></span><br><span class="line"><span class="attr">depth_multiple:</span> <span class="number">0.33</span>  <span class="comment"># ç½‘ç»œæ·±åº¦ç³»æ•°ï¼ˆå±‚æ•°ç¼©æ”¾ï¼‰</span></span><br><span class="line"><span class="attr">width_multiple:</span> <span class="number">0.50</span>  <span class="comment"># é€šé“å®½åº¦ç³»æ•°ï¼ˆé€šé“æ•°ç¼©æ”¾ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="attr">anchors:</span></span><br><span class="line">  <span class="bullet">-</span> [<span class="number">10</span>,<span class="number">13</span>, <span class="number">16</span>,<span class="number">30</span>, <span class="number">33</span>,<span class="number">23</span>]  <span class="comment"># P3</span></span><br><span class="line">  <span class="bullet">-</span> [<span class="number">30</span>,<span class="number">61</span>, <span class="number">62</span>,<span class="number">45</span>, <span class="number">59</span>,<span class="number">119</span>] <span class="comment"># P4</span></span><br><span class="line">  <span class="bullet">-</span> [<span class="number">116</span>,<span class="number">90</span>, <span class="number">156</span>,<span class="number">198</span>, <span class="number">373</span>,<span class="number">326</span>] <span class="comment"># P5</span></span><br><span class="line"></span><br><span class="line"><span class="attr">backbone:</span></span><br><span class="line">  [[<span class="number">-1</span>, <span class="number">1</span>, <span class="string">Focus</span>, [<span class="number">64</span>, <span class="number">3</span>]],</span><br><span class="line">   [<span class="number">-1</span>, <span class="number">1</span>, <span class="string">Conv</span>, [<span class="number">128</span>, <span class="number">3</span>, <span class="number">2</span>]],</span><br><span class="line">   <span class="string">...</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">head:</span></span><br><span class="line">  [[<span class="number">-1</span>, <span class="number">1</span>, <span class="string">Detect</span>, [<span class="string">nc</span>, <span class="string">anchors</span>]]]</span><br></pre></td></tr></table></figure><blockquote><p>âœ… è®­ç»ƒæ—¶ï¼Œä½¿ç”¨çš„æ˜¯ä½ è‡ªå·±é€‰æ‹©çš„æ¨¡å‹ç»“æ„æ–‡ä»¶ï¼ˆé€šè¿‡ <code>--cfg</code> æˆ– <code>--weights</code> æ¨æ–­å‡ºï¼‰ã€‚</p></blockquote><hr><h4 id="âš™ï¸-3-hyp-yaml-â€”-è¶…å‚æ•°é…ç½®æ–‡ä»¶ï¼ˆå­¦ä¹ ç‡ã€å¢å¼ºã€æŸå¤±å‡½æ•°ç­‰è¶…å‚æ•°ï¼‰"><a href="#âš™ï¸-3-hyp-yaml-â€”-è¶…å‚æ•°é…ç½®æ–‡ä»¶ï¼ˆå­¦ä¹ ç‡ã€å¢å¼ºã€æŸå¤±å‡½æ•°ç­‰è¶…å‚æ•°ï¼‰" class="headerlink" title="âš™ï¸ 3. hyp.yaml â€” è¶…å‚æ•°é…ç½®æ–‡ä»¶ï¼ˆå­¦ä¹ ç‡ã€å¢å¼ºã€æŸå¤±å‡½æ•°ç­‰è¶…å‚æ•°ï¼‰"></a>âš™ï¸ 3. <code>hyp.yaml</code> â€” è¶…å‚æ•°é…ç½®æ–‡ä»¶ï¼ˆ<strong>å­¦ä¹ ç‡ã€å¢å¼ºã€æŸå¤±å‡½æ•°ç­‰è¶…å‚æ•°</strong>ï¼‰</h4><p>ä½ç½®ï¼šé»˜è®¤åœ¨ <code>data/hyps/</code> ç›®å½•ä¸‹ï¼Œå¦‚ <code>hyp.scratch-low.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lr0:</span> <span class="number">0.01</span>           <span class="comment"># åˆå§‹å­¦ä¹ ç‡</span></span><br><span class="line"><span class="attr">lrf:</span> <span class="number">0.01</span>           <span class="comment"># æœ€ç»ˆå­¦ä¹ ç‡ (final LR = lr0 * lrf)</span></span><br><span class="line"><span class="attr">momentum:</span> <span class="number">0.937</span>     <span class="comment"># SGDåŠ¨é‡</span></span><br><span class="line"><span class="attr">weight_decay:</span> <span class="number">0.0005</span></span><br><span class="line"><span class="attr">warmup_epochs:</span> <span class="number">3.0</span>  <span class="comment"># é¢„çƒ­è½®æ•°</span></span><br><span class="line"><span class="attr">hsv_h:</span> <span class="number">0.015</span>        <span class="comment"># è‰²è°ƒå¢å¼º</span></span><br><span class="line"><span class="attr">hsv_s:</span> <span class="number">0.7</span>          <span class="comment"># é¥±å’Œåº¦å¢å¼º</span></span><br><span class="line"><span class="attr">fl_gamma:</span> <span class="number">0.0</span>       <span class="comment"># Focal Loss gamma</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½ å¯ä»¥é€šè¿‡ <code>--hyp</code> å‚æ•°æŒ‡å®šè¿™ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python train.py --hyp data/hyps/hyp.scratch-low.yaml</span><br></pre></td></tr></table></figure></blockquote><hr><h4 id="âœ…-å°ç»“ï¼šä¸‰å¤§æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯´æ˜è¡¨"><a href="#âœ…-å°ç»“ï¼šä¸‰å¤§æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯´æ˜è¡¨" class="headerlink" title="âœ… å°ç»“ï¼šä¸‰å¤§æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯´æ˜è¡¨"></a>âœ… å°ç»“ï¼šä¸‰å¤§æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯´æ˜è¡¨</h4><div class="table-container"><table><thead><tr><th>é…ç½®æ–‡ä»¶</th><th>ä½œç”¨</th><th>å¸¸è§ä½ç½®</th></tr></thead><tbody><tr><td><code>data.yaml</code></td><td>æŒ‡å®šè®­ç»ƒ/éªŒè¯/æµ‹è¯•é›†å’Œç±»åˆ«ä¿¡æ¯</td><td>ä½ é¡¹ç›®ç›®å½• / <code>data/</code></td></tr><tr><td><code>*.yaml</code></td><td>å®šä¹‰æ¨¡å‹ç»“æ„ï¼ˆyolov5s ç­‰ï¼‰</td><td><code>models/</code></td></tr><tr><td><code>hyp.yaml</code></td><td>è®¾ç½®è®­ç»ƒè¶…å‚æ•°ï¼ˆå¢å¼ºã€LR ç­‰ï¼‰</td><td><code>data/hyps/</code></td></tr></tbody></table></div><hr><h2 id="æ¨¡å‹è®­ç»ƒ"><a href="#æ¨¡å‹è®­ç»ƒ" class="headerlink" title="æ¨¡å‹è®­ç»ƒ"></a>æ¨¡å‹è®­ç»ƒ</h2><h3 id="æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜"><a href="#æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜" class="headerlink" title="æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜"></a>æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜</h3><p>ä¸€èˆ¬è®­ç»ƒè¿è¡Œå‘½ä»¤è¡Œå‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python train.py --img 640 --batch 16 --epochs 50 --data wheat.yaml --weights yolov5s.pt --name wheat_yolov5</span><br></pre></td></tr></table></figure></p><hr><h4 id="ğŸ“‚-æ¨¡å‹ä¸æ•°æ®ç›¸å…³å‚æ•°"><a href="#ğŸ“‚-æ¨¡å‹ä¸æ•°æ®ç›¸å…³å‚æ•°" class="headerlink" title="ğŸ“‚ æ¨¡å‹ä¸æ•°æ®ç›¸å…³å‚æ•°"></a>ğŸ“‚ æ¨¡å‹ä¸æ•°æ®ç›¸å…³å‚æ•°</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--weights</code></td><td><code>str</code></td><td><code>yolov5s.pt</code></td><td>åˆå§‹æƒé‡è·¯å¾„ï¼Œå¯ä¸ºå®˜æ–¹æ¨¡å‹æˆ–è‡ªå®šä¹‰è®­ç»ƒçš„ <code>.pt</code> æ–‡ä»¶ã€‚</td></tr><tr><td><code>--cfg</code></td><td><code>str</code></td><td><code>&quot;&quot;</code></td><td>æ¨¡å‹ç»“æ„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ <code>yolov5s.yaml</code>ï¼‰ã€‚ä¸ºç©ºåˆ™ä» <code>weights</code> æ¨æ–­ã€‚</td></tr><tr><td><code>--data</code></td><td><code>str</code></td><td><code>data/coco128.yaml</code></td><td>æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼ŒåŒ…å« <code>train</code>, <code>val</code>, <code>nc</code>, <code>names</code> ç­‰å­—æ®µã€‚</td></tr><tr><td><code>--hyp</code></td><td><code>str</code></td><td><code>data/hyps/hyp.scratch-low.yaml</code></td><td>è¶…å‚æ•°é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­¦ä¹ ç‡ã€IoUé˜ˆå€¼ã€æŸå¤±ç­‰ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ“ˆ-è®­ç»ƒæ§åˆ¶å‚æ•°"><a href="#ğŸ“ˆ-è®­ç»ƒæ§åˆ¶å‚æ•°" class="headerlink" title="ğŸ“ˆ è®­ç»ƒæ§åˆ¶å‚æ•°"></a>ğŸ“ˆ è®­ç»ƒæ§åˆ¶å‚æ•°</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--epochs</code></td><td><code>int</code></td><td><code>100</code></td><td>è®­ç»ƒæ€»è½®æ•°ã€‚</td></tr><tr><td><code>--batch-size</code></td><td><code>int</code></td><td><code>16</code></td><td>æ‰¹å¤§å°ï¼Œæ‰€æœ‰GPUæ€»å’Œã€‚<code>-1</code> è¡¨ç¤ºè‡ªåŠ¨æ¨æ–­ã€‚</td></tr><tr><td><code>--imgsz</code> / <code>--img</code> / <code>--img-size</code></td><td><code>int</code></td><td><code>640</code></td><td>è¾“å…¥å›¾åƒå°ºå¯¸ï¼ˆä¼šç¼©æ”¾ä¸ºæ­£æ–¹å½¢ï¼‰ã€‚</td></tr><tr><td><code>--rect</code></td><td><code>store_true</code></td><td><code>False</code></td><td>æ˜¯å¦å¯ç”¨çŸ©å½¢è®­ç»ƒï¼ˆå›¾åƒæŒ‰é•¿å®½æ¯”ä¾‹åˆ†ç»„ï¼‰ã€‚</td></tr><tr><td><code>--multi-scale</code></td><td><code>store_true</code></td><td><code>False</code></td><td>æ˜¯å¦åœ¨è®­ç»ƒä¸­åŠ¨æ€æ”¹å˜å›¾åƒå¤§å°ï¼ˆÂ±50%ï¼‰ã€‚</td></tr><tr><td><code>--resume</code></td><td>å¯é€‰å‚æ•°</td><td><code>False</code></td><td>æ˜¯å¦ä»æœ€è¿‘çš„æ–­ç‚¹ç»§ç»­è®­ç»ƒã€‚</td></tr><tr><td><code>--freeze</code></td><td><code>List[int]</code></td><td><code>[0]</code></td><td>å†»ç»“ç½‘ç»œå±‚ï¼Œç¤ºä¾‹ï¼š<code>--freeze 0 1 2</code> è¡¨ç¤ºå†»ç»“å‰3å±‚ã€‚</td></tr><tr><td><code>--single-cls</code></td><td><code>store_true</code></td><td><code>False</code></td><td>æ˜¯å¦å°†æ‰€æœ‰ç±»åˆ«è§†ä¸ºä¸€ä¸ªç±»åˆ«ï¼ˆé€‚ç”¨äºå•ç±»æ•°æ®ï¼‰ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ’¾-æ¨¡å‹ä¿å­˜ä¸éªŒè¯å‚æ•°"><a href="#ğŸ’¾-æ¨¡å‹ä¿å­˜ä¸éªŒè¯å‚æ•°" class="headerlink" title="ğŸ’¾ æ¨¡å‹ä¿å­˜ä¸éªŒè¯å‚æ•°"></a>ğŸ’¾ æ¨¡å‹ä¿å­˜ä¸éªŒè¯å‚æ•°</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--nosave</code></td><td><code>store_true</code></td><td><code>False</code></td><td>æ˜¯å¦åªä¿å­˜æœ€åä¸€ä¸ªæ¨¡å‹ï¼Œä¸ä¿å­˜ä¸­é—´checkpointã€‚</td></tr><tr><td><code>--noval</code></td><td><code>store_true</code></td><td><code>False</code></td><td>æ˜¯å¦ä»…åœ¨æœ€åä¸€ä¸ª epoch éªŒè¯æ¨¡å‹æ€§èƒ½ã€‚</td></tr><tr><td><code>--save-period</code></td><td><code>int</code></td><td><code>-1</code></td><td>æ¯é—´éš” x ä¸ª epoch ä¿å­˜ä¸€æ¬¡æ¨¡å‹ã€‚å°äº1è¡¨ç¤ºç¦ç”¨ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ§ -è¶…å‚æ•°è¿›åŒ–ï¼ˆè¿›é˜¶åŠŸèƒ½ï¼‰"><a href="#ğŸ§ -è¶…å‚æ•°è¿›åŒ–ï¼ˆè¿›é˜¶åŠŸèƒ½ï¼‰" class="headerlink" title="ğŸ§  è¶…å‚æ•°è¿›åŒ–ï¼ˆè¿›é˜¶åŠŸèƒ½ï¼‰"></a>ğŸ§  è¶…å‚æ•°è¿›åŒ–ï¼ˆè¿›é˜¶åŠŸèƒ½ï¼‰</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--evolve</code></td><td><code>int</code></td><td>å¯é€‰ï¼Œé»˜è®¤<code>300</code></td><td>ä½¿ç”¨é—ä¼ ç®—æ³•è‡ªåŠ¨è¿›åŒ–è¶…å‚æ•°ï¼Œè¿è¡Œ <code>x</code> ä»£ã€‚</td></tr><tr><td><code>--evolve_population</code></td><td><code>str</code></td><td><code>data/hyps</code></td><td>è¿›åŒ–æ—¶åŠ è½½çš„åˆå§‹ç§ç¾¤è¶…å‚æ•°è·¯å¾„ã€‚</td></tr><tr><td><code>--resume_evolve</code></td><td><code>str</code></td><td><code>None</code></td><td>ä»å…ˆå‰è¿›åŒ–çš„æœ€åä¸€ä»£æ¢å¤ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ§°-è¿è¡Œæ§åˆ¶å‚æ•°"><a href="#ğŸ§°-è¿è¡Œæ§åˆ¶å‚æ•°" class="headerlink" title="ğŸ§° è¿è¡Œæ§åˆ¶å‚æ•°"></a>ğŸ§° è¿è¡Œæ§åˆ¶å‚æ•°</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--device</code></td><td><code>str</code></td><td><code>&quot;&quot;</code></td><td>æŒ‡å®šè®¾å¤‡ï¼šå¦‚ <code>0</code>ã€<code>0,1</code> æˆ– <code>cpu</code>ã€‚</td></tr><tr><td><code>--optimizer</code></td><td><code>str</code></td><td><code>SGD</code></td><td>é€‰æ‹©ä¼˜åŒ–å™¨ï¼š<code>SGD</code>, <code>Adam</code>, <code>AdamW</code>ã€‚</td></tr><tr><td><code>--sync-bn</code></td><td><code>store_true</code></td><td><code>False</code></td><td>å¯ç”¨åŒæ­¥BatchNormï¼ˆä»… DDP æ¨¡å¼æœ‰æ•ˆï¼‰ã€‚</td></tr><tr><td><code>--quad</code></td><td><code>store_true</code></td><td><code>False</code></td><td>å¯ç”¨å››å…ƒåŠ è½½å™¨ä¼˜åŒ–ï¼ˆæŸäº›GPUåŠ é€Ÿï¼‰ã€‚</td></tr><tr><td><code>--cos-lr</code></td><td><code>store_true</code></td><td><code>False</code></td><td>ä½¿ç”¨ä½™å¼¦å­¦ä¹ ç‡è°ƒåº¦å™¨ã€‚</td></tr><tr><td><code>--label-smoothing</code></td><td><code>float</code></td><td><code>0.0</code></td><td>æ ‡ç­¾å¹³æ»‘å› å­ï¼ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰ã€‚</td></tr><tr><td><code>--patience</code></td><td><code>int</code></td><td><code>100</code></td><td>EarlyStoppingå®¹å¿çš„æ— æ”¹è¿›epochæ•°ã€‚</td></tr><tr><td><code>--seed</code></td><td><code>int</code></td><td><code>0</code></td><td>è®¾ç½®éšæœºç§å­ï¼Œç¡®ä¿ç»“æœå¯å¤ç°ã€‚</td></tr><tr><td><code>--workers</code></td><td><code>int</code></td><td><code>8</code></td><td>æ¯ä¸ªè¿›ç¨‹çš„æ•°æ®åŠ è½½çº¿ç¨‹æ•°ã€‚</td></tr><tr><td><code>--local_rank</code></td><td><code>int</code></td><td><code>-1</code></td><td>DDP å¤šGPUæ¨¡å¼ä¸‹è‡ªåŠ¨è®¾ç½®ï¼Œä¸è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ“-æ—¥å¿—è®°å½•ä¸ç»“æœä¿å­˜"><a href="#ğŸ“-æ—¥å¿—è®°å½•ä¸ç»“æœä¿å­˜" class="headerlink" title="ğŸ“ æ—¥å¿—è®°å½•ä¸ç»“æœä¿å­˜"></a>ğŸ“ æ—¥å¿—è®°å½•ä¸ç»“æœä¿å­˜</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--project</code></td><td><code>str</code></td><td><code>runs/train</code></td><td>ä¿å­˜è®­ç»ƒç»“æœçš„é¡¹ç›®ç›®å½•ã€‚</td></tr><tr><td><code>--name</code></td><td><code>str</code></td><td><code>exp</code></td><td>å­ç›®å½•åç§°ã€‚</td></tr><tr><td><code>--exist-ok</code></td><td><code>store_true</code></td><td><code>False</code></td><td>å¦‚æœç›®å½•å­˜åœ¨ï¼Œåˆ™ä¸è‡ªåŠ¨å¢åŠ ç¼–å·ã€‚</td></tr></tbody></table></div><hr><h4 id="â˜ï¸-äº‘ä¸ç¼“å­˜ç›¸å…³"><a href="#â˜ï¸-äº‘ä¸ç¼“å­˜ç›¸å…³" class="headerlink" title="â˜ï¸ äº‘ä¸ç¼“å­˜ç›¸å…³"></a>â˜ï¸ äº‘ä¸ç¼“å­˜ç›¸å…³</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--bucket</code></td><td><code>str</code></td><td><code>&quot;&quot;</code></td><td>ç”¨äº Google Cloud Storage çš„ gsutil bucket è·¯å¾„ã€‚</td></tr><tr><td><code>--cache</code></td><td><code>str</code></td><td>å¯é€‰</td><td><code>ram</code> æˆ– <code>disk</code>ï¼Œç¼“å­˜å›¾åƒåˆ°å†…å­˜æˆ–ç¡¬ç›˜ä»¥åŠ é€Ÿè®­ç»ƒã€‚</td></tr><tr><td><code>--image-weights</code></td><td><code>store_true</code></td><td><code>False</code></td><td>å›¾åƒé‡‡æ ·æ ¹æ®æƒé‡è¿›è¡Œï¼ˆæå‡å°‘æ•°ç±»æ ·æœ¬ï¼‰ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ”—-W-amp-B-Artifact-æ—¥å¿—å‚æ•°ï¼ˆç”¨äºå®éªŒè¿½è¸ªï¼‰"><a href="#ğŸ”—-W-amp-B-Artifact-æ—¥å¿—å‚æ•°ï¼ˆç”¨äºå®éªŒè¿½è¸ªï¼‰" class="headerlink" title="ğŸ”— W\&amp;B / Artifact æ—¥å¿—å‚æ•°ï¼ˆç”¨äºå®éªŒè¿½è¸ªï¼‰"></a>ğŸ”— W\&amp;B / Artifact æ—¥å¿—å‚æ•°ï¼ˆç”¨äºå®éªŒè¿½è¸ªï¼‰</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--entity</code></td><td><code>str</code></td><td><code>None</code></td><td>W\&amp;B å®éªŒçš„å›¢é˜Ÿæˆ–ä¸ªäººå®ä½“åã€‚</td></tr><tr><td><code>--upload_dataset</code></td><td><code>store_true</code></td><td><code>False</code></td><td>æ˜¯å¦ä¸Šä¼ æ•°æ®é›†åˆ° W\&amp;Bã€‚å¯é€‰ <code>&quot;val&quot;</code>ã€‚</td></tr><tr><td><code>--bbox_interval</code></td><td><code>int</code></td><td><code>-1</code></td><td>æ—¥å¿—ä¸­æ˜¾ç¤ºæ£€æµ‹æ¡†å›¾ç‰‡çš„é—´éš” epochã€‚</td></tr><tr><td><code>--artifact_alias</code></td><td><code>str</code></td><td><code>&quot;latest&quot;</code></td><td>æŒ‡å®šä½¿ç”¨çš„ artifact ç‰ˆæœ¬æ ‡ç­¾ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ§¾-NDJSON-æ—¥å¿—å‚æ•°ï¼ˆç»“æ„åŒ–æ—¥å¿—ï¼‰"><a href="#ğŸ§¾-NDJSON-æ—¥å¿—å‚æ•°ï¼ˆç»“æ„åŒ–æ—¥å¿—ï¼‰" class="headerlink" title="ğŸ§¾ NDJSON æ—¥å¿—å‚æ•°ï¼ˆç»“æ„åŒ–æ—¥å¿—ï¼‰"></a>ğŸ§¾ NDJSON æ—¥å¿—å‚æ•°ï¼ˆç»“æ„åŒ–æ—¥å¿—ï¼‰</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--ndjson-console</code></td><td><code>store_true</code></td><td><code>False</code></td><td>åœ¨æ§åˆ¶å°è¾“å‡º ndjson æ ¼å¼æ—¥å¿—ã€‚</td></tr><tr><td><code>--ndjson-file</code></td><td><code>store_true</code></td><td><code>False</code></td><td>å°† ndjson æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ã€‚</td></tr></tbody></table></div><hr><h2 id="æ¨¡å‹æ¨ç†ä¸éªŒè¯"><a href="#æ¨¡å‹æ¨ç†ä¸éªŒè¯" class="headerlink" title="æ¨¡å‹æ¨ç†ä¸éªŒè¯"></a>æ¨¡å‹æ¨ç†ä¸éªŒè¯</h2><h3 id="æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜-1"><a href="#æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜-1" class="headerlink" title="æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜"></a>æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜</h3><p>ä¸€èˆ¬ç›®æ ‡æ£€æµ‹æ‰§è¡Œå‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python detect.py --weights runs/train/wheat_yolov5/weights/best.pt --source /test_image_folder --img 640 --conf 0.25 --save-txt --save-conf --project runs/predict --name wheat_test</span><br></pre></td></tr></table></figure></p><h4 id="ğŸ¯-æ ¸å¿ƒæ¨ç†å‚æ•°"><a href="#ğŸ¯-æ ¸å¿ƒæ¨ç†å‚æ•°" class="headerlink" title="ğŸ¯ æ ¸å¿ƒæ¨ç†å‚æ•°"></a>ğŸ¯ æ ¸å¿ƒæ¨ç†å‚æ•°</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--weights</code></td><td><code>str/list[str]</code></td><td><code>yolov5s.pt</code></td><td>æ¨¡å‹è·¯å¾„ï¼ˆ<code>.pt</code> æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä¸ºå¤šä¸ªæ¨¡å‹æˆ– Triton æœåŠ¡å™¨åœ°å€ã€‚</td></tr><tr><td><code>--source</code></td><td><code>str</code></td><td><code>data/images</code></td><td>è¾“å…¥æ¥æºï¼šæ–‡ä»¶ã€æ–‡ä»¶å¤¹ã€URLã€globã€æ‘„åƒå¤´ï¼ˆå¦‚ <code>0</code>ï¼‰æˆ– <code>screen</code>ã€‚</td></tr><tr><td><code>--data</code></td><td><code>str</code></td><td><code>data/coco128.yaml</code></td><td>æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ã€‚ç”¨äºåŠ è½½ç±»åˆ«åç­‰ä¿¡æ¯ã€‚</td></tr><tr><td><code>--imgsz</code> / <code>--img</code> / <code>--img-size</code></td><td><code>list[int]</code></td><td><code>[640]</code></td><td>æ¨ç†å›¾åƒçš„å°ºå¯¸ï¼Œå•ä¸ªå€¼æˆ– <code>[h, w]</code>ã€‚å¦‚æœåªç»™ä¸€ä¸ªï¼Œåˆ™ä¼šæ‰©å±•æˆ <code>[640, 640]</code>ã€‚</td></tr><tr><td><code>--conf-thres</code></td><td><code>float</code></td><td><code>0.25</code></td><td>ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œä½äºè¯¥å€¼çš„æ£€æµ‹æ¡†ä¼šè¢«è¿‡æ»¤ã€‚</td></tr><tr><td><code>--iou-thres</code></td><td><code>float</code></td><td><code>0.45</code></td><td>éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰ä¸­çš„ IoU é˜ˆå€¼ã€‚</td></tr><tr><td><code>--max-det</code></td><td><code>int</code></td><td><code>1000</code></td><td>æ¯å¼ å›¾ç‰‡æœ€å¤šä¿ç•™çš„ç›®æ ‡æ£€æµ‹æ•°é‡ã€‚</td></tr><tr><td><code>--device</code></td><td><code>str</code></td><td><code>&quot;&quot;</code></td><td>è®¡ç®—è®¾å¤‡ï¼Œå¦‚ <code>&#39;0&#39;</code>, <code>&#39;0,1&#39;</code>, <code>&#39;cpu&#39;</code> ç­‰ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ–¼ï¸-å¯è§†åŒ–ä¸ä¿å­˜é€‰é¡¹"><a href="#ğŸ–¼ï¸-å¯è§†åŒ–ä¸ä¿å­˜é€‰é¡¹" class="headerlink" title="ğŸ–¼ï¸ å¯è§†åŒ–ä¸ä¿å­˜é€‰é¡¹"></a>ğŸ–¼ï¸ å¯è§†åŒ–ä¸ä¿å­˜é€‰é¡¹</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--view-img</code></td><td><code>bool</code></td><td><code>False</code></td><td>æ˜¯å¦æ˜¾ç¤ºæ£€æµ‹ç»“æœå›¾åƒï¼ˆæœ¬åœ°çª—å£ï¼‰ã€‚</td></tr><tr><td><code>--save-txt</code></td><td><code>bool</code></td><td><code>False</code></td><td>æ˜¯å¦å°†æ£€æµ‹ç»“æœä¿å­˜ä¸º <code>.txt</code> æ–‡ä»¶ï¼ˆYOLOæ ¼å¼æˆ–Pascal VOCæ ¼å¼ï¼‰ã€‚</td></tr><tr><td><code>--save-format</code></td><td><code>int</code></td><td><code>0</code></td><td>é…åˆ <code>--save-txt</code>ï¼š<code>0</code> ä¸º YOLO æ ¼å¼ï¼Œ<code>1</code> ä¸º Pascal VOC æ ¼å¼ã€‚</td></tr><tr><td><code>--save-csv</code></td><td><code>bool</code></td><td><code>False</code></td><td>æ˜¯å¦å°†ç»“æœä¿å­˜ä¸º <code>.csv</code> æ–‡ä»¶ã€‚</td></tr><tr><td><code>--save-conf</code></td><td><code>bool</code></td><td><code>False</code></td><td>æ˜¯å¦å°†ç½®ä¿¡åº¦ä¸€åŒä¿å­˜åˆ° <code>.txt</code> æ–‡ä»¶ä¸­ã€‚</td></tr><tr><td><code>--save-crop</code></td><td><code>bool</code></td><td><code>False</code></td><td>æ˜¯å¦ä¿å­˜æ¯ä¸ªæ£€æµ‹æ¡†è£å‰ªå‡ºçš„ç›®æ ‡å›¾åƒã€‚</td></tr><tr><td><code>--nosave</code></td><td><code>bool</code></td><td><code>False</code></td><td>ä¸ä¿å­˜ä»»ä½•å›¾åƒæˆ–è§†é¢‘ç»“æœï¼Œä»…åœ¨æ§åˆ¶å°è¾“å‡ºã€‚</td></tr><tr><td><code>--project</code></td><td><code>str</code></td><td><code>runs/detect</code></td><td>ç»“æœä¿å­˜æ ¹ç›®å½•ã€‚</td></tr><tr><td><code>--name</code></td><td><code>str</code></td><td><code>exp</code></td><td>å­ç›®å½•åç§°ã€‚</td></tr><tr><td><code>--exist-ok</code></td><td><code>bool</code></td><td><code>False</code></td><td>å¦‚æœç›®å½•å·²å­˜åœ¨ï¼Œä¸è‡ªåŠ¨åˆ›å»º <code>exp2</code>, <code>exp3</code>ï¼Œè€Œæ˜¯ç›´æ¥è¦†ç›–æˆ–é‡ç”¨ã€‚</td></tr><tr><td><code>--line-thickness</code></td><td><code>int</code></td><td><code>3</code></td><td>æ£€æµ‹æ¡†çš„çº¿å®½ï¼ˆåƒç´ ï¼‰ã€‚</td></tr><tr><td><code>--hide-labels</code></td><td><code>bool</code></td><td><code>False</code></td><td>ä¸åœ¨å›¾åƒä¸Šæ˜¾ç¤ºç±»åˆ«æ ‡ç­¾ã€‚</td></tr><tr><td><code>--hide-conf</code></td><td><code>bool</code></td><td><code>False</code></td><td>ä¸åœ¨å›¾åƒä¸Šæ˜¾ç¤ºç½®ä¿¡åº¦åˆ†æ•°ã€‚</td></tr></tbody></table></div><hr><h4 id="ğŸ“Š-æ£€æµ‹æ§åˆ¶é€‰é¡¹"><a href="#ğŸ“Š-æ£€æµ‹æ§åˆ¶é€‰é¡¹" class="headerlink" title="ğŸ“Š æ£€æµ‹æ§åˆ¶é€‰é¡¹"></a>ğŸ“Š æ£€æµ‹æ§åˆ¶é€‰é¡¹</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--classes</code></td><td><code>list[int]</code></td><td><code>None</code></td><td>ä»…æ£€æµ‹æŒ‡å®šç±»åˆ«ï¼Œä¾‹å¦‚ <code>--classes 0 2 3</code>ã€‚</td></tr><tr><td><code>--agnostic-nms</code></td><td><code>bool</code></td><td><code>False</code></td><td>ä½¿ç”¨ç±»åˆ«æ— å…³çš„ NMSï¼ˆæ‰€æœ‰ç±»åˆ«å…±ç”¨æŠ‘åˆ¶é€»è¾‘ï¼‰ã€‚</td></tr><tr><td><code>--augment</code></td><td><code>bool</code></td><td><code>False</code></td><td>å¯ç”¨æ•°æ®å¢å¼ºçš„æ¨ç†ï¼ˆç•¥æ…¢ä½†å¯èƒ½æ›´é²æ£’ï¼‰ã€‚</td></tr><tr><td><code>--visualize</code></td><td><code>bool</code></td><td><code>False</code></td><td>å¯è§†åŒ–ä¸­é—´ç‰¹å¾å›¾ï¼ˆéœ€æ¨¡å‹æ”¯æŒï¼‰ã€‚</td></tr><tr><td><code>--update</code></td><td><code>bool</code></td><td><code>False</code></td><td>è‡ªåŠ¨æ›´æ–°æ¨¡å‹ï¼ˆè½¬æ¢æ—§æ ¼å¼ä¸ºæ–°æ ¼å¼ï¼‰ã€‚</td></tr><tr><td><code>--half</code></td><td><code>bool</code></td><td><code>False</code></td><td>ä½¿ç”¨åŠç²¾åº¦ï¼ˆFP16ï¼‰æ¨ç†ï¼Œä»…é™äº <code>CUDA</code>ã€‚</td></tr><tr><td><code>--dnn</code></td><td><code>bool</code></td><td><code>False</code></td><td>ä½¿ç”¨ OpenCV DNN æ¨¡å¼è¿›è¡Œ ONNX æ¨ç†ã€‚</td></tr><tr><td><code>--vid-stride</code></td><td><code>int</code></td><td><code>1</code></td><td>è§†é¢‘æ¨ç†æ—¶çš„å¸§è·³è·ƒé—´éš”ï¼Œä¾‹å¦‚ <code>--vid-stride 5</code> è¡¨ç¤ºæ¯5å¸§å¤„ç†ä¸€å¸§ã€‚</td></tr></tbody></table></div><hr><h4 id="âœ…-ç¤ºä¾‹å‘½ä»¤"><a href="#âœ…-ç¤ºä¾‹å‘½ä»¤" class="headerlink" title="âœ… ç¤ºä¾‹å‘½ä»¤"></a>âœ… ç¤ºä¾‹å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æµ‹å•å¼ å›¾ç‰‡å¹¶ä¿å­˜ç»“æœ</span></span><br><span class="line">python detect.py --weights yolov5s.pt --<span class="built_in">source</span> ./data/images/zidane.jpg --conf-thres 0.3 --save-txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»…æ£€æµ‹ç±»åˆ« 0 å’Œ 2ï¼Œæ˜¾ç¤ºç»“æœä½†ä¸ä¿å­˜å›¾åƒ</span></span><br><span class="line">python detect.py --weights yolov5s.pt --<span class="built_in">source</span> ./data/images --classes 0 2 --view-img --nosave</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹è§†é¢‘æ¨ç†ï¼Œæ¯5å¸§æ£€æµ‹ä¸€æ¬¡ï¼Œä¿å­˜æ£€æµ‹æ¡†ä¸º Pascal VOC æ ¼å¼</span></span><br><span class="line">python detect.py --weights yolov5s.pt --<span class="built_in">source</span> video.mp4 --vid-stride 5 --save-txt --save-format 1</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å‹å¯¼å‡ºä¸éƒ¨ç½²"><a href="#æ¨¡å‹å¯¼å‡ºä¸éƒ¨ç½²" class="headerlink" title="æ¨¡å‹å¯¼å‡ºä¸éƒ¨ç½²"></a>æ¨¡å‹å¯¼å‡ºä¸éƒ¨ç½²</h2><h3 id="æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜-2"><a href="#æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜-2" class="headerlink" title="æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜"></a>æ‰§è¡ŒæŒ‡ä»¤è¯´æ˜</h3><p>ä»¥ä¸‹æ˜¯å¯¹æ¯ä¸ªå‘½ä»¤è¡Œå‚æ•°çš„è¯¦ç»†è§£é‡Šï¼š</p><hr><h4 id="ğŸ—‚ï¸-æ•°æ®å’Œæ¨¡å‹è·¯å¾„é…ç½®"><a href="#ğŸ—‚ï¸-æ•°æ®å’Œæ¨¡å‹è·¯å¾„é…ç½®" class="headerlink" title="ğŸ—‚ï¸ æ•°æ®å’Œæ¨¡å‹è·¯å¾„é…ç½®"></a>ğŸ—‚ï¸ æ•°æ®å’Œæ¨¡å‹è·¯å¾„é…ç½®</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--data</code></td><td>str</td><td><code>data/coco128.yaml</code></td><td>æ•°æ®é›†é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œä¸»è¦ç”¨äºè·å–ç±»åˆ«æ•°ç­‰ä¿¡æ¯</td></tr><tr><td><code>--weights</code></td><td>str/list</td><td><code>yolov5s.pt</code></td><td>è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡è·¯å¾„ï¼Œæ”¯æŒå¤šä¸ªæ¨¡å‹åŒæ—¶å¯¼å‡º</td></tr><tr><td><code>--imgsz</code> / <code>--img</code> / <code>--img-size</code></td><td>int list</td><td><code>[640, 640]</code></td><td>è¾“å…¥å›¾ç‰‡å°ºå¯¸ <code>[height, width]</code>ï¼Œé»˜è®¤æ˜¯æ­£æ–¹å½¢</td></tr><tr><td><code>--batch-size</code></td><td>int</td><td>1</td><td>æ¨ç†æ—¶çš„ batch sizeï¼Œä¸€èˆ¬ä¿æŒä¸º1ä»¥é˜²ä¸å…¼å®¹</td></tr></tbody></table></div><hr><h4 id="âš™ï¸-è®¾å¤‡å’Œæ¨ç†ç²¾åº¦"><a href="#âš™ï¸-è®¾å¤‡å’Œæ¨ç†ç²¾åº¦" class="headerlink" title="âš™ï¸ è®¾å¤‡å’Œæ¨ç†ç²¾åº¦"></a>âš™ï¸ è®¾å¤‡å’Œæ¨ç†ç²¾åº¦</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--device</code></td><td>str</td><td><code>cpu</code></td><td>è¿è¡Œå¯¼å‡ºè¿‡ç¨‹æ‰€ä½¿ç”¨çš„è®¾å¤‡ï¼Œå¦‚ <code>0</code>, <code>cpu</code>, <code>0,1</code> ç­‰</td></tr><tr><td><code>--half</code></td><td>flag</td><td>False</td><td>æ˜¯å¦ä½¿ç”¨ FP16 ç²¾åº¦å¯¼å‡ºï¼ˆä»…é™æ”¯æŒçš„å¹³å°ï¼‰</td></tr></tbody></table></div><hr><h4 id="âš™ï¸-å¯¼å‡ºè¡Œä¸ºæ§åˆ¶"><a href="#âš™ï¸-å¯¼å‡ºè¡Œä¸ºæ§åˆ¶" class="headerlink" title="âš™ï¸ å¯¼å‡ºè¡Œä¸ºæ§åˆ¶"></a>âš™ï¸ å¯¼å‡ºè¡Œä¸ºæ§åˆ¶</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--inplace</code></td><td>flag</td><td>False</td><td>æ˜¯å¦å°† Detect() çš„ <code>inplace=True</code>ï¼Œå½±å“æ¨¡å‹è¾“å‡ºå¼ é‡çš„ä¿®æ”¹æ–¹å¼</td></tr><tr><td><code>--keras</code></td><td>flag</td><td>False</td><td>TensorFlow å¯¼å‡ºæ—¶æ˜¯å¦ä½¿ç”¨ Keras æ¨¡å¼ï¼ˆ<code>.h5</code>ï¼‰</td></tr><tr><td><code>--optimize</code></td><td>flag</td><td>False</td><td>TorchScript ä¼˜åŒ–ç”¨äºç§»åŠ¨ç«¯éƒ¨ç½²ï¼ˆä¼šåº”ç”¨ graph ä¼˜åŒ–ï¼‰</td></tr></tbody></table></div><hr><h4 id="ğŸ¯-é‡åŒ–å’ŒåŠ¨æ€è½´æ§åˆ¶"><a href="#ğŸ¯-é‡åŒ–å’ŒåŠ¨æ€è½´æ§åˆ¶" class="headerlink" title="ğŸ¯ é‡åŒ–å’ŒåŠ¨æ€è½´æ§åˆ¶"></a>ğŸ¯ é‡åŒ–å’ŒåŠ¨æ€è½´æ§åˆ¶</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--int8</code></td><td>flag</td><td>False</td><td>å¯¼å‡º INT8 é‡åŒ–æ¨¡å‹ï¼ˆæ”¯æŒ TFã€CoreMLã€OpenVINOï¼‰</td></tr><tr><td><code>--per-tensor</code></td><td>flag</td><td>False</td><td>TensorFlow çš„ per-tensor é‡åŒ–æ–¹å¼ï¼ˆé»˜è®¤æ˜¯ per-channelï¼‰</td></tr><tr><td><code>--dynamic</code></td><td>flag</td><td>False</td><td>å¯ç”¨åŠ¨æ€è¾“å…¥å°ºå¯¸ï¼ˆæ”¯æŒ ONNXã€TFã€TensorRTï¼‰</td></tr></tbody></table></div><hr><h4 id="ğŸ§ -ONNX-ç›¸å…³"><a href="#ğŸ§ -ONNX-ç›¸å…³" class="headerlink" title="ğŸ§  ONNX ç›¸å…³"></a>ğŸ§  ONNX ç›¸å…³</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--simplify</code></td><td>flag</td><td>False</td><td>ç®€åŒ– ONNX æ¨¡å‹å›¾ï¼ˆéœ€å®‰è£… <code>onnxsim</code>ï¼‰</td></tr><tr><td><code>--opset</code></td><td>int</td><td>17</td><td>ONNX çš„ opset ç‰ˆæœ¬ï¼Œå¸¸è§ä¸º 11~17</td></tr></tbody></table></div><hr><h4 id="ğŸ§ -TensorRT-ç›¸å…³"><a href="#ğŸ§ -TensorRT-ç›¸å…³" class="headerlink" title="ğŸ§  TensorRT ç›¸å…³"></a>ğŸ§  TensorRT ç›¸å…³</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--engine</code>ï¼ˆç”± <code>--include engine</code> æ§åˆ¶ï¼‰</td><td></td><td></td><td>TensorRT å¯¼å‡ºå¼€å…³</td></tr><tr><td><code>--cache</code></td><td>str</td><td>â€œâ€</td><td>TensorRT çš„æ—¶é—´ cache æ–‡ä»¶è·¯å¾„ï¼ˆåŠ é€Ÿç¼–è¯‘ï¼‰</td></tr><tr><td><code>--workspace</code></td><td>int</td><td>4</td><td>TensorRT æœ€å¤§ workspace å¤§å°ï¼ˆå•ä½ GBï¼‰</td></tr><tr><td><code>--verbose</code></td><td>flag</td><td>False</td><td>TensorRT å¯¼å‡ºæ—¶æ˜¯å¦æ‰“å°è¯¦ç»†æ—¥å¿—</td></tr></tbody></table></div><hr><h4 id="ğŸ-CoreML-ç›¸å…³"><a href="#ğŸ-CoreML-ç›¸å…³" class="headerlink" title="ğŸ CoreML ç›¸å…³"></a>ğŸ CoreML ç›¸å…³</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--mlmodel</code></td><td>flag</td><td>False</td><td>å¯¼å‡º CoreML <code>.mlmodel</code> æ ¼å¼</td></tr><tr><td><code>--int8</code></td><td>flag</td><td>False</td><td>å¯é…åˆç”¨äºé‡åŒ– CoreML</td></tr></tbody></table></div><hr><h4 id="ğŸ§ª-TensorFlow-jsï¼ˆTF-jsï¼‰ç›¸å…³ï¼ˆç”¨äº-Web-ç«¯ï¼‰"><a href="#ğŸ§ª-TensorFlow-jsï¼ˆTF-jsï¼‰ç›¸å…³ï¼ˆç”¨äº-Web-ç«¯ï¼‰" class="headerlink" title="ğŸ§ª TensorFlow.jsï¼ˆTF.jsï¼‰ç›¸å…³ï¼ˆç”¨äº Web ç«¯ï¼‰"></a>ğŸ§ª TensorFlow.jsï¼ˆTF.jsï¼‰ç›¸å…³ï¼ˆç”¨äº Web ç«¯ï¼‰</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--nms</code></td><td>flag</td><td>False</td><td>æ·»åŠ éæå¤§æŠ‘åˆ¶ NMSï¼ˆé»˜è®¤æ¨¡å‹ä¸­ä¸åŒ…å«ï¼‰</td></tr><tr><td><code>--agnostic-nms</code></td><td>flag</td><td>False</td><td>ç±»åˆ«æ— å…³çš„ NMS</td></tr><tr><td><code>--topk-per-class</code></td><td>int</td><td>100</td><td>æ¯ä¸ªç±»åˆ«ä¿ç•™å‰ K ä¸ªæ£€æµ‹ç»“æœ</td></tr><tr><td><code>--topk-all</code></td><td>int</td><td>100</td><td>æ‰€æœ‰ç±»åˆ«ä¸€å…±ä¿ç•™å‰ K ä¸ªæ£€æµ‹ç»“æœ</td></tr><tr><td><code>--iou-thres</code></td><td>float</td><td>0.45</td><td>NMS çš„ IoU é˜ˆå€¼</td></tr><tr><td><code>--conf-thres</code></td><td>float</td><td>0.25</td><td>ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œä½äºæ­¤å€¼çš„æ¡†ä¼šè¢«ä¸¢å¼ƒ</td></tr></tbody></table></div><hr><h4 id="ğŸ¯-å¯¼å‡ºæ ¼å¼è®¾ç½®ï¼ˆæ ¸å¿ƒå‚æ•°ï¼‰"><a href="#ğŸ¯-å¯¼å‡ºæ ¼å¼è®¾ç½®ï¼ˆæ ¸å¿ƒå‚æ•°ï¼‰" class="headerlink" title="ğŸ¯ å¯¼å‡ºæ ¼å¼è®¾ç½®ï¼ˆæ ¸å¿ƒå‚æ•°ï¼‰"></a>ğŸ¯ å¯¼å‡ºæ ¼å¼è®¾ç½®ï¼ˆæ ¸å¿ƒå‚æ•°ï¼‰</h4><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--include</code></td><td>list</td><td><code>[&#39;torchscript&#39;]</code></td><td>è¦å¯¼å‡ºçš„æ ¼å¼ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªï¼š<br> <code>torchscript</code>, <code>onnx</code>, <code>openvino</code>, <code>engine</code>, <code>coreml</code>, <code>saved_model</code>, <code>pb</code>, <code>tflite</code>, <code>edgetpu</code>, <code>tfjs</code>, <code>paddle</code> ç­‰</td></tr></tbody></table></div><hr><h3 id="âœ…-ç¤ºä¾‹ç”¨æ³•"><a href="#âœ…-ç¤ºä¾‹ç”¨æ³•" class="headerlink" title="âœ… ç¤ºä¾‹ç”¨æ³•"></a>âœ… ç¤ºä¾‹ç”¨æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡º ONNX + TorchScript + TensorRT å¼•æ“ï¼ˆä½¿ç”¨ GPUï¼‰</span></span><br><span class="line">python export.py \</span><br><span class="line">  --weights yolov5s.pt \</span><br><span class="line">  --img 640 \</span><br><span class="line">  --device 0 \</span><br><span class="line">  --include onnx torchscript engine \</span><br><span class="line">  --dynamic \</span><br><span class="line">  --simplify \</span><br><span class="line">  --opset 17</span><br></pre></td></tr></table></figure><hr><p>PSï¼šå°é¢å›¾æ¥æºï¼š<a href="https://x.com/nakiriayame/status/1946478772301213900?s=46"><br>ç™¾é¬¼ã‚ã‚„ã‚ğŸ˜ˆãƒ›ãƒ­ãƒ©ã‚¤ãƒ–2æœŸç”Ÿ</a></p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yolo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kaggle:  CIFAR-10-Object Recognition in Images</title>
      <link href="/2025/07/19/Kaggle-CIFAR-10-Object-Recognition-in-Images/"/>
      <url>/2025/07/19/Kaggle-CIFAR-10-Object-Recognition-in-Images/</url>
      
        <content type="html"><![CDATA[<h1 id="Kaggle-CIFAR-10-Object-Recognition-in-Images"><a href="#Kaggle-CIFAR-10-Object-Recognition-in-Images" class="headerlink" title="Kaggle:  CIFAR-10-Object Recognition in Images"></a>Kaggle:  CIFAR-10-Object Recognition in Images</h1><p>æœ¬æ–‡æ˜¯å®ç°<code>d2l</code>ç½‘ç«™ä»£ç çš„æ€»ç»“ï¼Œ<a href="https://zh.d2l.ai/chapter_computer-vision/kaggle-cifar10.html#fig-kaggle-cifar10">æ•™ç¨‹é“¾æ¥</a></p><p>æœ¬æ–‡æ‰€ç”¨ç¯å¢ƒå¦‚ä¸‹ï¼š<br><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python==3.9.23</span><br><span class="line">nvidia-cuda-runtime-cu12==12.9.79</span><br><span class="line">torch==2.7.1+cu118</span><br><span class="line">d2l==1.0.3</span><br></pre></td></tr></table></figure></p><h2 id="ğŸ“š-æ•°æ®é›†ä»‹ç»"><a href="#ğŸ“š-æ•°æ®é›†ä»‹ç»" class="headerlink" title="ğŸ“š æ•°æ®é›†ä»‹ç»"></a>ğŸ“š æ•°æ®é›†ä»‹ç»</h2><p>CIFAR-10 æ˜¯ç”±åŠ æ‹¿å¤§å¤šä¼¦å¤šå¤§å­¦ Alex Krizhevsky ç­‰äººæ”¶é›†çš„å›¾åƒæ•°æ®é›†ï¼ŒåŒ…å«äº† <strong>10 ä¸ªç±»åˆ«çš„å½©è‰²å›¾ç‰‡</strong>ã€‚è¿™äº›å›¾ç‰‡éƒ½æ˜¯ä»çœŸå®ä¸–ç•Œæ‹æ‘„çš„ç‰©ä½“ä¸­è£å‰ªè€Œæ¥çš„ã€‚</p><h3 id="ğŸ“-æ•°æ®ç»†èŠ‚ï¼š"><a href="#ğŸ“-æ•°æ®ç»†èŠ‚ï¼š" class="headerlink" title="ğŸ“ æ•°æ®ç»†èŠ‚ï¼š"></a>ğŸ“ æ•°æ®ç»†èŠ‚ï¼š</h3><div class="table-container"><table><thead><tr><th>é¡¹ç›®</th><th>æè¿°</th></tr></thead><tbody><tr><td>å›¾ç‰‡å¤§å°</td><td>32x32 åƒç´ ï¼ŒRGBï¼ˆä¸‰é€šé“ï¼‰</td></tr><tr><td>å›¾ç‰‡æ•°é‡</td><td>60,000 å¼ å›¾åƒ</td></tr><tr><td>ç±»åˆ«æ•°é‡</td><td>10 ä¸ª</td></tr><tr><td>è®­ç»ƒé›†</td><td>50,000 å¼ å›¾åƒ</td></tr><tr><td>æµ‹è¯•é›†</td><td>10,000 å¼ å›¾åƒ</td></tr><tr><td>å›¾åƒæ ¼å¼</td><td><code>.png</code> å›¾åƒ + <code>.csv</code> æ ‡ç­¾/é¢„æµ‹</td></tr></tbody></table></div><h2 id="é¢„æµ‹æµç¨‹"><a href="#é¢„æµ‹æµç¨‹" class="headerlink" title="é¢„æµ‹æµç¨‹"></a>é¢„æµ‹æµç¨‹</h2><h3 id="å¯¼åŒ…"><a href="#å¯¼åŒ…" class="headerlink" title="å¯¼åŒ…"></a>å¯¼åŒ…</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®æ•´ç†"><a href="#æ•°æ®æ•´ç†" class="headerlink" title="æ•°æ®æ•´ç†"></a>æ•°æ®æ•´ç†</h3><p>æˆ‘æ˜¯å°†å®Œæ•´çš„æ•°æ®é›†ä¸‹è½½åˆ°æœ¬åœ°ç„¶åç›´æ¥ç”¨å…¨éƒ¨æ•°æ®è¿›è¡Œè®­ç»ƒçš„ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®æ•°æ®é›†çš„å­˜å‚¨ä½ç½®</span></span><br><span class="line">data_dir = <span class="string">&#x27;D:\datasets\cifar-10&#x27;</span> </span><br></pre></td></tr></table></figure><p>æ–‡ä»¶å¤¹ä¸­æœ‰<code>trainLabels.csv</code>,é‡Œè¾¹æœ‰<code>id</code>å’Œ<code>label</code>ä¸¤åˆ—ï¼Œåˆ†åˆ«ä»£è¡¨å›¾ç‰‡åç§°å’Œæ ‡ç­¾ã€‚</p><p>åŸæ•™ç¨‹æ˜¯ç›´æ¥è¯»å–çš„æ–‡ä»¶ï¼Œæ ¹æ®csvæ–‡ä»¶æ˜¯ç”¨é€—å·åˆ†éš”å°†æ–‡ä»¶æ‹†æˆä¸¤éƒ¨åˆ†ç„¶åè½¬æ¢æˆå­—å…¸ç±»å‹ï¼Œå®é™…ä¸Šç›´æ¥ç”¨<code>pandas</code>åº“å°±å¯ä»¥ç›´æ¥è¯»å–ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">read_csv_labels</span>(<span class="params">fname</span>):</span><br><span class="line">    df = pd.read_csv(fname)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dict</span>(<span class="built_in">zip</span>(df[<span class="string">&#x27;id&#x27;</span>], df[<span class="string">&#x27;label&#x27;</span>]))</span><br><span class="line"></span><br><span class="line">labels = read_csv_labels(os.path.join(data_dir,<span class="string">&#x27;trainLabels.csv&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;# training examples:&#x27;</span>, <span class="built_in">len</span>(labels))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;# classes:&#x27;</span>, <span class="built_in">len</span>(<span class="built_in">set</span>(labels.values())))</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†æ ‡ç­¾å­—å…¸ï¼Œå¯ä»¥ç›´æ¥ç”¨<code>labels</code>æŸ¥çœ‹å›¾ç‰‡çš„æ ‡ç­¾ã€‚</p><p>æ•™ç¨‹ä¸­ä¸ºäº†æ–¹ä¾¿è¯»å–å›¾ç‰‡ï¼Œå°†å›¾ç‰‡çš„å­˜å‚¨ä½ç½®é‡æ–°æ•´ç†äº†ä¸€ä¸‹ï¼Œå»ºç«‹<code>train_valid_test</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰<code>train</code>,<code>valid</code>,<code>test</code>å’Œ<code>train_valid</code>å››ä¸ªæ–‡ä»¶å¤¹ã€‚é™¤äº†<code>test</code>æ–‡ä»¶å¤¹ï¼Œå…¶ä»–æ–‡ä»¶å¤¹å†…å‡æŒ‰ç…§æ ‡ç­¾åˆ†æˆ10ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªå›¾ç‰‡æ ¹æ®è‡ªå·±çš„æ ‡ç­¾æ”¾åˆ°ç›¸åº”çš„æ–‡ä»¶å¤¹é‡Œï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†åé¢åˆ†ç»„çš„æ—¶å€™æ¯ç»„çš„æ ‡ç­¾å°½é‡å‡åŒ€ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">copyfile</span>(<span class="params">filename, target_dir</span>):</span><br><span class="line">    os.makedirs(target_dir,exist_ok=<span class="literal">True</span>)</span><br><span class="line">    shutil.copy(filename,target_dir)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reorg_train_valid</span>(<span class="params">data_dir, labels, valid_ratio</span>):</span><br><span class="line">    <span class="comment"># The number of examples of the class that has the fewest examples in the</span></span><br><span class="line">    <span class="comment"># training dataset</span></span><br><span class="line">    n = collections.Counter(labels.values()).most_common()[-<span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">    n_valid_per_label = <span class="built_in">max</span>(<span class="number">1</span>,math.floor(n * valid_ratio))</span><br><span class="line">    label_count=&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> train_file <span class="keyword">in</span> os.listdir(os.path.join(data_dir,<span class="string">&#x27;train&#x27;</span>)):</span><br><span class="line">        label = labels[train_file.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]]</span><br><span class="line">        fname = os.path.join(data_dir,<span class="string">&#x27;train&#x27;</span>,train_file)</span><br><span class="line">        copyfile(fname,os.path.join(data_dir,<span class="string">&#x27;train_valid_test&#x27;</span>,<span class="string">&#x27;train_valid&#x27;</span>,label))</span><br><span class="line">        <span class="keyword">if</span> label <span class="keyword">not</span> <span class="keyword">in</span> label_count <span class="keyword">or</span> label_count[label] &lt;n_valid_per_label:</span><br><span class="line">            copyfile(fname, os.path.join(data_dir,<span class="string">&#x27;train_valid_test&#x27;</span>,<span class="string">&#x27;valid&#x27;</span>,label))</span><br><span class="line">            label_count[label] = label_count.get(label,<span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            copyfile(fname, os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>,<span class="string">&#x27;train&#x27;</span>,label))</span><br><span class="line">    <span class="keyword">return</span> n_valid_per_label</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reorg_test</span>(<span class="params">data_dir</span>):</span><br><span class="line">    <span class="keyword">for</span> test_file <span class="keyword">in</span> os.listdir(os.path.join(data_dir,<span class="string">&#x27;test&#x27;</span>)):</span><br><span class="line">        copyfile(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>, test_file),</span><br><span class="line">                 os.path.join(data_dir,<span class="string">&#x27;train_valid_test&#x27;</span>,<span class="string">&#x27;test&#x27;</span>,<span class="string">&#x27;unknown&#x27;</span>))</span><br></pre></td></tr></table></figure><p><code>valid_ratio</code>ï¼šéªŒè¯é›†å æ¯”ï¼Œå¦‚0.1è¡¨ç¤ºéªŒè¯é›†500å¼ ï¼Œè®­ç»ƒé›†4500å¼ </p><p>ç„¶åå®šä¹‰ä¸€ä¸ªæ•´åˆå‡½æ•°ï¼Œå°†ä¸Šé¢çš„å‡½æ•°æµç¨‹ç»Ÿä¸€å¤„ç†ï¼š<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">reorg_cifar10_data</span>(<span class="params">data_dir,valid_ratio</span>):</span><br><span class="line">    labels = read_csv_labels(os.path.join(data_dir, <span class="string">&#x27;trainLabels.csv&#x27;</span>))</span><br><span class="line">    reorg_train_valid(data_dir, labels, valid_ratio)</span><br><span class="line">    reorg_test(data_dir)</span><br></pre></td></tr></table></figure></p><p>è®¾ç½®æ‰¹é‡å¤§å°ä¸º128ï¼Œå°†10ï¼…çš„è®­ç»ƒæ ·æœ¬ä½œä¸ºè°ƒæ•´è¶…å‚æ•°çš„éªŒè¯é›†</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">batch_size = <span class="number">128</span></span><br><span class="line">valid_ratio = <span class="number">0.1</span></span><br><span class="line">reorg_cifar10_data(data_dir,valid_ratio)</span><br></pre></td></tr></table></figure><h3 id="å›¾åƒå¢å¹¿"><a href="#å›¾åƒå¢å¹¿" class="headerlink" title="å›¾åƒå¢å¹¿"></a>å›¾åƒå¢å¹¿</h3><p>ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨å›¾åƒå¢å¹¿ã€‚</p><p>æ ‡å‡†åŒ–çš„åŸå› ï¼š</p><ol><li>åŠ å¿«æ¨¡å‹æ”¶æ•›é€Ÿåº¦ã€‚è®©ç‰¹å¾å€¼èŒƒå›´å¤§è‡´åˆ†å¸ƒåœ¨[-1,1]</li><li>é¿å…æŸäº›ç‰¹å¾ä¸»å¯¼æ¨¡å‹è®­ç»ƒã€‚è®©å„é€šé“å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ï¼Œå¹³è¡¡æ¯ä¸ªåƒç´ çš„â€œæƒé‡â€</li><li>æé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›</li></ol><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">transform_train = torchvision.transforms.Compose([</span><br><span class="line">    <span class="comment"># åœ¨é«˜åº¦å’Œå®½åº¦ä¸Šå°†å›¾åƒæ”¾å¤§åˆ°40åƒç´ çš„æ­£æ–¹å½¢</span></span><br><span class="line">    torchvision.transforms.Resize(<span class="number">40</span>),</span><br><span class="line">    <span class="comment"># éšæœºè£å‰ªå‡ºä¸€ä¸ªé«˜åº¦å’Œå®½åº¦å‡ä¸º40åƒç´ çš„æ­£æ–¹å½¢å›¾åƒï¼Œ</span></span><br><span class="line">    <span class="comment"># ç”Ÿæˆä¸€ä¸ªé¢ç§¯ä¸ºåŸå§‹å›¾åƒé¢ç§¯0.64ï½1å€çš„å°æ­£æ–¹å½¢ï¼Œ</span></span><br><span class="line">    <span class="comment"># ç„¶åå°†å…¶ç¼©æ”¾ä¸ºé«˜åº¦å’Œå®½åº¦å‡ä¸º32åƒç´ çš„æ­£æ–¹å½¢</span></span><br><span class="line">    torchvision.transforms.RandomResizedCrop(<span class="number">32</span>, scale=(<span class="number">0.64</span>, <span class="number">1.0</span>),</span><br><span class="line">                                                   ratio=(<span class="number">1.0</span>, <span class="number">1.0</span>)),</span><br><span class="line">    <span class="comment"># éšæœºæ°´å¹³ç¿»è½¬</span></span><br><span class="line">    torchvision.transforms.RandomHorizontalFlip(),</span><br><span class="line">    torchvision.transforms.ToTensor(),</span><br><span class="line">    <span class="comment"># æ ‡å‡†åŒ–å›¾åƒçš„æ¯ä¸ªé€šé“</span></span><br><span class="line">    <span class="comment"># æ•°å­—æ˜¯æ ¹æ®æ•°æ®é›†æå‰è®¡ç®—çš„ï¼Œå‰é¢æ˜¯RGBå‡å€¼ï¼Œåè¾¹æ˜¯æ ‡å‡†å·®</span></span><br><span class="line">    torchvision.transforms.Normalize([<span class="number">0.4914</span>, <span class="number">0.4822</span>, <span class="number">0.4465</span>],</span><br><span class="line">                                     [<span class="number">0.2023</span>, <span class="number">0.1994</span>, <span class="number">0.2010</span>])])</span><br><span class="line"><span class="comment"># æµ‹è¯•åªæ‰§è¡Œæ ‡å‡†åŒ–</span></span><br><span class="line">transform_test = torchvision.transforms.Compose([</span><br><span class="line">    torchvision.transforms.ToTensor(),</span><br><span class="line">    torchvision.transforms.Normalize([<span class="number">0.4914</span>, <span class="number">0.4822</span>, <span class="number">0.4465</span>],</span><br><span class="line">                                     [<span class="number">0.2023</span>, <span class="number">0.1994</span>, <span class="number">0.2010</span>])])</span><br></pre></td></tr></table></figure><h3 id="è¯»å–æ•°æ®"><a href="#è¯»å–æ•°æ®" class="headerlink" title="è¯»å–æ•°æ®"></a>è¯»å–æ•°æ®</h3><p>å››ä¸ªdatasetåˆ—è¡¨ï¼šè®­ç»ƒé›†ï¼Œè®­ç»ƒéªŒè¯é›†ï¼ŒéªŒè¯é›†ï¼Œæµ‹è¯•é›†</p><p>ä½¿ç”¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ç»„åˆè€Œæˆçš„æ•°æ®é›†ï¼ˆè®­ç»ƒéªŒè¯é›†ï¼‰è¿›è¡Œè®­ç»ƒï¼Œå……åˆ†åˆ©ç”¨æ‰€æœ‰æ ‡è®°çš„æ•°æ®ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨åˆ—è¡¨æ¨å¯¼å¼ç®€æ´åœ°åŠ è½½ä¸¤ä¸ªä¸åŒå­ç›®å½•çš„å›¾åƒæ•°æ®é›†ï¼Œå¹¶åº”ç”¨åŒæ ·çš„å›¾åƒå¢å¼º transform_train</span></span><br><span class="line">train_ds, train_valid_ds = [torchvision.datasets.ImageFolder(</span><br><span class="line">    os.path.join(data_dir,<span class="string">&#x27;train_valid_test&#x27;</span>,folder),</span><br><span class="line">    transform=transform_train</span><br><span class="line">) <span class="keyword">for</span> folder <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>,<span class="string">&#x27;train_valid&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">valid_ds, test_ds = [torchvision.datasets.ImageFolder(</span><br><span class="line">    os.path.join(data_dir,<span class="string">&#x27;train_valid_test&#x27;</span>,folder),</span><br><span class="line">    transform=transform_test</span><br><span class="line">) <span class="keyword">for</span> folder <span class="keyword">in</span> [<span class="string">&#x27;valid&#x27;</span>,<span class="string">&#x27;test&#x27;</span>]]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;train_ds size:&quot;</span>, <span class="built_in">len</span>(train_ds))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;train_valid_ds size:&quot;</span>, <span class="built_in">len</span>(train_valid_ds))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;valid_ds size:&quot;</span>, <span class="built_in">len</span>(valid_ds))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;test_ds size:&quot;</span>, <span class="built_in">len</span>(test_ds))</span><br></pre></td></tr></table></figure><p>è¿˜éœ€è¦å°†ä¸Šé¢çš„æ•°æ®é›†è½¬æ¢ä¸ºå¯è¿­ä»£çš„å¯¹è±¡ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨ DataLoader åˆ›å»ºäº†è®­ç»ƒã€éªŒè¯ã€æµ‹è¯•ç”¨çš„æ•°æ®è¿­ä»£å™¨ï¼Œåˆ†åˆ«æ§åˆ¶æ˜¯å¦æ‰“ä¹±é¡ºåºã€æ˜¯å¦ä¸¢å¼ƒæœ€åä¸è¶³ä¸€æ‰¹çš„æ•°æ®</span></span><br><span class="line">train_iter, train_valid_iter = [torch.utils.data.DataLoader(</span><br><span class="line">    dataset, batch_size, shuffle=<span class="literal">True</span>, drop_last=<span class="literal">True</span></span><br><span class="line">) <span class="keyword">for</span> dataset <span class="keyword">in</span> (train_ds, train_valid_ds)]</span><br><span class="line"></span><br><span class="line">valid_iter = torch.utils.data.DataLoader(valid_ds, batch_size,shuffle=<span class="literal">False</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">test_iter = torch.utils.data.DataLoader(test_ds, batch_size, shuffle=<span class="literal">False</span>,drop_last=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰æ¨¡å‹"><a href="#å®šä¹‰æ¨¡å‹" class="headerlink" title="å®šä¹‰æ¨¡å‹"></a>å®šä¹‰æ¨¡å‹</h3><p>ä½¿ç”¨<code>Resnet-18</code>æ¨¡å‹</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_net</span>():</span><br><span class="line">    <span class="comment"># æ•°æ®é›†ä¸€å…±æœ‰10ä¸ªç±»åˆ«</span></span><br><span class="line">    num_classes = <span class="number">10</span></span><br><span class="line">    <span class="comment"># 3 æŒ‡RGB 3ä¸ªé€šé“æ•°</span></span><br><span class="line">    net = d2l.resnet18(num_classes, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> net</span><br><span class="line"><span class="comment"># äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œnoneè¡¨ç¤ºä¸è‡ªåŠ¨æ±‚å¹³å‡æˆ–æ±‚å’Œï¼Œè¿”å›çš„æ˜¯æ¯ä¸ªæ ·æœ¬çš„loss</span></span><br><span class="line">loss = nn.CrossEntropyLoss(reduction=<span class="string">&quot;none&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰è®­ç»ƒå‡½æ•°"><a href="#å®šä¹‰è®­ç»ƒå‡½æ•°" class="headerlink" title="å®šä¹‰è®­ç»ƒå‡½æ•°"></a>å®šä¹‰è®­ç»ƒå‡½æ•°</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">net,</span></span><br><span class="line"><span class="params">          train_iter,</span></span><br><span class="line"><span class="params">          valid_iter,</span></span><br><span class="line"><span class="params">          num_epochs,</span></span><br><span class="line"><span class="params">          lr,</span></span><br><span class="line"><span class="params">          wd,</span></span><br><span class="line"><span class="params">          devices,</span></span><br><span class="line"><span class="params">          lr_period,</span></span><br><span class="line"><span class="params">          lr_decay</span>):</span><br><span class="line">    <span class="comment"># å®šä¹‰ä¼˜åŒ–å™¨ï¼šä½¿ç”¨å¸¦åŠ¨é‡çš„SGDä¼˜åŒ–å™¨ï¼ŒåŒ…å«å­¦ä¹ ç‡å’Œæƒé‡è¡°å‡</span></span><br><span class="line">    trainer = torch.optim.SGD(net.parameters(), lr=lr, momentum=<span class="number">0.9</span>, weight_decay=wd)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼šæ¯éš” lr_period ä¸ª epochï¼Œå°†å­¦ä¹ ç‡ä¹˜ä»¥ lr_decay</span></span><br><span class="line">    scheduler = torch.optim.lr_scheduler.StepLR(trainer, lr_period, lr_decay)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–è®­ç»ƒé›†çš„æ‰¹æ¬¡æ•°é‡ï¼Œåˆå§‹åŒ–è®¡æ—¶å™¨</span></span><br><span class="line">    num_batches, timer = <span class="built_in">len</span>(train_iter), d2l.Timer()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®ç»˜å›¾å›¾ä¾‹</span></span><br><span class="line">    legend = [<span class="string">&#x27;train loss&#x27;</span>, <span class="string">&#x27;train acc&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> valid_iter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        legend.append(<span class="string">&#x27;valid acc&#x27;</span>)  <span class="comment"># å¦‚æœæœ‰éªŒè¯é›†ï¼Œåˆ™åŠ ä¸ŠéªŒè¯å‡†ç¡®ç‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># åŠ¨ç”»å™¨ï¼šç”¨äºå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ï¼ˆæŸå¤±å’Œå‡†ç¡®ç‡ï¼‰</span></span><br><span class="line">    animator = d2l.Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>, xlim=[<span class="number">1</span>, num_epochs], legend=legend)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä½¿ç”¨å¤šGPUè®­ç»ƒï¼Œå°†æ¨¡å‹åŒ…è£…ä¸º DataParallel å¹¶ç§»åŠ¨åˆ°æŒ‡å®šè®¾å¤‡ä¸Š</span></span><br><span class="line">    net = nn.DataParallel(net, device_ids=devices).to(devices[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        net.train()  <span class="comment"># è®¾ç½®æ¨¡å‹ä¸ºè®­ç»ƒæ¨¡å¼</span></span><br><span class="line">        metric = d2l.Accumulator(<span class="number">3</span>)  <span class="comment"># ç´¯åŠ å™¨ï¼šè®°å½•è®­ç»ƒæŸå¤±ã€è®­ç»ƒå‡†ç¡®ç‡ã€æ ·æœ¬æ•°é‡</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i, (features, labels) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_iter):</span><br><span class="line">            timer.start()  <span class="comment"># å¼€å§‹è®¡æ—¶</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># å•ä¸ª batch çš„è®­ç»ƒï¼Œè¿”å›æŸå¤±å’Œå‡†ç¡®ç‡</span></span><br><span class="line">            l, acc = d2l.train_batch_ch13(net, features, labels, loss, trainer, devices)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># ç´¯åŠ æŸå¤±ã€å‡†ç¡®ç‡ã€æ ·æœ¬æ•°</span></span><br><span class="line">            metric.add(l, acc, labels.shape[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">            timer.stop()  <span class="comment"># åœæ­¢è®¡æ—¶</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ¯è®­ç»ƒ 1/5 çš„ batch æˆ–æœ€åä¸€ä¸ª batch æ—¶æ›´æ–°å›¾åƒ</span></span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span>) % (num_batches // <span class="number">5</span>) == <span class="number">0</span> <span class="keyword">or</span> i == num_batches - <span class="number">1</span>:</span><br><span class="line">                animator.add(epoch + (i+<span class="number">1</span>) / num_batches,</span><br><span class="line">                             (metric[<span class="number">0</span>] / metric[<span class="number">2</span>],  <span class="comment"># å¹³å‡è®­ç»ƒæŸå¤±</span></span><br><span class="line">                              metric[<span class="number">1</span>] / metric[<span class="number">2</span>],  <span class="comment"># å¹³å‡è®­ç»ƒå‡†ç¡®ç‡</span></span><br><span class="line">                              <span class="literal">None</span>))  <span class="comment"># æš‚æ—¶ä¸æ›´æ–°éªŒè¯å‡†ç¡®ç‡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¦‚æœæœ‰éªŒè¯é›†ï¼Œåœ¨æ¯ä¸ª epoch ç»“æŸåè¯„ä¼°éªŒè¯å‡†ç¡®ç‡å¹¶å¯è§†åŒ–</span></span><br><span class="line">        <span class="keyword">if</span> valid_iter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            valid_acc = d2l.evaluate_accuracy_gpu(net, valid_iter)</span><br><span class="line">            animator.add(epoch + <span class="number">1</span>, (<span class="literal">None</span>, <span class="literal">None</span>, valid_acc))  <span class="comment"># åªæ›´æ–°éªŒè¯å‡†ç¡®ç‡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°å­¦ä¹ ç‡ï¼ˆæ ¹æ®å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼‰</span></span><br><span class="line">        scheduler.step()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰“å°æœ€ç»ˆçš„è®­ç»ƒæŒ‡æ ‡</span></span><br><span class="line">    measures = (<span class="string">f&#x27;train loss <span class="subst">&#123;metric[<span class="number">0</span>] / metric[<span class="number">2</span>]:<span class="number">.3</span>f&#125;</span>, &#x27;</span></span><br><span class="line">                <span class="string">f&#x27;train acc <span class="subst">&#123;metric[<span class="number">1</span>] / metric[<span class="number">2</span>]:<span class="number">.3</span>f&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> valid_iter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        measures += <span class="string">f&#x27;, valid acc <span class="subst">&#123;valid_acc:<span class="number">.3</span>f&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ‰“å°è®­ç»ƒé€Ÿåº¦å’Œè®¾å¤‡ä¿¡æ¯</span></span><br><span class="line">    <span class="built_in">print</span>(measures + <span class="string">f&#x27;\n<span class="subst">&#123;metric[<span class="number">2</span>] * num_epochs / timer.<span class="built_in">sum</span>():<span class="number">.1</span>f&#125;</span>&#x27;</span></span><br><span class="line">          <span class="string">f&#x27; examples/sec on <span class="subst">&#123;<span class="built_in">str</span>(devices)&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹"><a href="#è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹" class="headerlink" title="è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹"></a>è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹</h3><p>å®šä¹‰è¶…å‚æ•°å’Œè®­ç»ƒæ¨¡å‹</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">devices, num_epochs, lr, wd = d2l.try_all_gpus(), <span class="number">20</span>, <span class="number">2e-4</span>, <span class="number">5e-4</span></span><br><span class="line">lr_period, lr_decay, net = <span class="number">4</span>, <span class="number">0.9</span>, get_net()</span><br><span class="line">train(net, train_iter, valid_iter, num_epochs, lr, wd, devices, lr_period,</span><br><span class="line">      lr_decay)</span><br></pre></td></tr></table></figure><h3 id="å¯¹æµ‹è¯•é›†è¿›è¡Œåˆ†ç±»å¹¶ç”Ÿæˆç»“æœ"><a href="#å¯¹æµ‹è¯•é›†è¿›è¡Œåˆ†ç±»å¹¶ç”Ÿæˆç»“æœ" class="headerlink" title="å¯¹æµ‹è¯•é›†è¿›è¡Œåˆ†ç±»å¹¶ç”Ÿæˆç»“æœ"></a>å¯¹æµ‹è¯•é›†è¿›è¡Œåˆ†ç±»å¹¶ç”Ÿæˆç»“æœ</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">net, preds = get_net(), []</span><br><span class="line">train(net, train_valid_iter, <span class="literal">None</span>, num_epochs, lr, wd, devices, lr_period,</span><br><span class="line">      lr_decay)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> X, _ <span class="keyword">in</span> test_iter:</span><br><span class="line">    y_hat = net(X.to(devices[<span class="number">0</span>]))</span><br><span class="line">    preds.extend(y_hat.argmax(dim=<span class="number">1</span>).<span class="built_in">type</span>(torch.int32).cpu().numpy())</span><br><span class="line">sorted_ids = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(test_ds) + <span class="number">1</span>))</span><br><span class="line">sorted_ids.sort(key=<span class="keyword">lambda</span> x: <span class="built_in">str</span>(x))</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;id&#x27;</span>: sorted_ids, <span class="string">&#x27;label&#x27;</span>: preds&#125;)</span><br><span class="line">df[<span class="string">&#x27;label&#x27;</span>] = df[<span class="string">&#x27;label&#x27;</span>].apply(<span class="keyword">lambda</span> x: train_valid_ds.classes[x])</span><br><span class="line">df.to_csv(<span class="string">&#x27;submission.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„<code>submission.csv</code>å°±å¯ä»¥æäº¤åˆ°Kaggleä¸Šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antfuçš„è–…ç‰›æ¯›åœ°å›¾çš„è‡ªç”¨æ–¹æ³•</title>
      <link href="/2025/07/14/antfu%E7%9A%84%E8%96%85%E7%89%9B%E6%AF%9B%E5%9C%B0%E5%9B%BE%E7%9A%84%E8%87%AA%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2025/07/14/antfu%E7%9A%84%E8%96%85%E7%89%9B%E6%AF%9B%E5%9C%B0%E5%9B%BE%E7%9A%84%E8%87%AA%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="antfuçš„è–…ç‰›æ¯›åœ°å›¾çš„è‡ªç”¨æ–¹æ³•"><a href="#antfuçš„è–…ç‰›æ¯›åœ°å›¾çš„è‡ªç”¨æ–¹æ³•" class="headerlink" title="antfuçš„è–…ç‰›æ¯›åœ°å›¾çš„è‡ªç”¨æ–¹æ³•"></a>antfuçš„è–…ç‰›æ¯›åœ°å›¾çš„è‡ªç”¨æ–¹æ³•</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å»å¹´çœ‹äº†Anthony Fuçš„â€œè–…ç‰›æ¯›â€æ¼”è®²ï¼Œå½“æ—¶çœ‹åˆ°ppté‡Œå¯†é›†çš„è·¯çº¿å›¾ç€å®æ˜¯è¢«è§†è§‰å†²å‡»äº†ã€‚å°†å¤æ‚çš„å­¦ä¹ è·¯çº¿é€šè¿‡è·¯çº¿å›¾ä¸€ä¸ªä¸ªè¡¨ç¤ºå‡ºæ¥ï¼Œæœ€åæ•´ä½“å»ä¿¯ç°ï¼Œç«Ÿæœ‰ä¸€ç§å®ä¼Ÿçš„æˆå°±æ„Ÿã€‚</p><p>ä»€ä¹ˆæ˜¯è–…ç‰›æ¯›å‘¢ï¼Ÿåœ¨æˆ‘çš„ç°çŠ¶ä¸‹ï¼Œåœ¨å­¦ä¹ æ–°ä¸œè¥¿æˆ–è€…å®Œæˆä»»åŠ¡çš„æ—¶å€™ï¼Œéš¾å…ä¼šæœ‰ä¸€äº›â€œå‰ç½®çŸ¥è¯†â€éœ€è¦å»äº†è§£ï¼Œç„¶åè¦ç†è§£â€œå‰ç½®çŸ¥è¯†â€çš„è¯ï¼Œè¿˜éœ€è¦å­¦ä¹ ä¸€ä¸‹â€œå‰ç½®çŸ¥è¯†â€çš„â€œå‰ç½®çŸ¥è¯†â€ã€‚è¿™å¯èƒ½ä¼šå˜æˆä¸€ç§dfsæˆ–è€…bfsï¼Œè¶Šå­¦è¶Šå¤šï¼Œè¶Šå­¦è¶Šè¿œï¼Œå¯èƒ½æœ‰ä¸€å¤©å‘ç°è‡ªå·±åœ¨è‰åŸä¸Šè–…ç‰›æ¯›ï¼Œè€Œä¸€å¼€å§‹çš„ç›®æ ‡å’Œè–…ç‰›æ¯›æ²¡æœ‰ä¸€ç‚¹ç‚¹å…³è”ã€‚</p><p>æœ€è¿‘æ­£åœ¨å­¦ä¹ å›¾åƒè¯†åˆ«çš„å†…å®¹ï¼Œæœ€ä¸»è¦çš„ç›®æ ‡å°±æ˜¯å­¦ä¼šä½¿ç”¨YOLOv5ã€‚å½“ç„¶ä»…ä»…æ˜¯ä½¿ç”¨çš„è¯å¾ˆç®€å•ï¼Œæˆ‘éœ€è¦çš„æ˜¯äº†è§£å…¶ä¸­çš„åŸç†å¹¶ä½¿ç”¨å®ƒã€‚ä¹Ÿå› æ­¤æˆ‘çš„â€œè–…ç‰›æ¯›â€ä¹‹æ—…å¼€å§‹äº†ã€‚</p><h2 id="åˆ¶ä½œæ–¹æ³•"><a href="#åˆ¶ä½œæ–¹æ³•" class="headerlink" title="åˆ¶ä½œæ–¹æ³•"></a>åˆ¶ä½œæ–¹æ³•</h2><h3 id="ä¸‹è½½ä»£ç "><a href="#ä¸‹è½½ä»£ç " class="headerlink" title="ä¸‹è½½ä»£ç "></a>ä¸‹è½½ä»£ç </h3><p>æˆ‘ä»¬å¯ä»¥å…ˆforkä¸€ä¸‹Anthony Fuçš„<a href="https://github.com/antfu/yak-shaving-map">ä»“åº“ä»£ç </a>ã€‚</p><h3 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h3><p>ç„¶åå°†è‡ªå·±ä»“åº“çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå…ˆå®‰è£…ç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœæœ¬åœ°æ²¡æœ‰pnpmè¦å…ˆä¸‹è½½pnpmï¼Œä»€ä¹ˆï¼Ÿè¿npméƒ½æ²¡æœ‰ï¼Ÿ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‚£å¯ä»¥â€œè–…ç‰›æ¯›â€äº†ğŸ˜‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm install -g pnpm</span></span><br><span class="line">pnpm install</span><br></pre></td></tr></table></figure><p>è¿è¡Œä»£ç åªéœ€è¦è¿è¡Œï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm run dev</span><br></pre></td></tr></table></figure></p><h3 id="ä¿®æ”¹ä»£ç "><a href="#ä¿®æ”¹ä»£ç " class="headerlink" title="ä¿®æ”¹ä»£ç "></a>ä¿®æ”¹ä»£ç </h3><p>å…¶ä¸­<code>data.ts</code>ä¸­å­˜å‚¨çš„æ˜¯èŠ‚ç‚¹çš„ä¸Šä¸‹çº§å…³ç³»ä»¥åŠèŠ‚ç‚¹å½¢çŠ¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤åŸæ¥çš„èŠ‚ç‚¹ï¼Œå¡«å†™è‡ªå·±æƒ³è¦çš„èŠ‚ç‚¹ã€‚</p><p><code>yak-map-pos.json</code>é‡Œè¾¹æ˜¯èŠ‚ç‚¹çš„åæ ‡ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸éœ€è¦æ‰‹åŠ¨æ›´æ”¹ï¼Œè¿è¡Œé¡¹ç›®åä½¿ç”¨é¼ æ ‡å¯ä»¥æ‹–åŠ¨èŠ‚ç‚¹ä½ç½®ï¼Œä¼šè‡ªåŠ¨æ·»åŠ å½“å‰èŠ‚ç‚¹åˆ°jsonä¸­ï¼Œjsonä¸­çš„èŠ‚ç‚¹åæ ‡ä¼šè‡ªåŠ¨å˜åŒ–ã€‚<strong>å»ºè®®å…ˆæŠŠè¿™é‡Œé¢çš„æ‰€æœ‰èŠ‚ç‚¹åˆ é™¤å†æ·»åŠ ç¼–å†™<code>data.ts</code>ã€‚</strong></p><p>å…¶ä¸­èŠ‚ç‚¹ç±»ä¼¼ä¸‹é¢ä»£ç ï¼š<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;YOLOv4&#x27;</span>,</span><br><span class="line">  <span class="attr">display</span>: <span class="string">&#x27;YOLOv4&#x27;</span>,</span><br><span class="line">  <span class="attr">link</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">shape</span>: <span class="string">&#x27;circle&#x27;</span>,</span><br><span class="line">  <span class="attr">color</span>: colors.<span class="property">YOLOv4</span>,</span><br><span class="line">  <span class="attr">from</span>: [<span class="string">&#x27;yolov5&#x27;</span>],</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;CSPDarknet53&#x27;</span>,</span><br><span class="line">  <span class="attr">display</span>: <span class="string">&#x27;CSPDarknet53&#x27;</span>,</span><br><span class="line">  <span class="attr">link</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">color</span>: colors.<span class="property">YOLOv4</span>,</span><br><span class="line">  <span class="attr">from</span>: [<span class="string">&#x27;YOLOv4&#x27;</span>],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è¦è‡ªå®šä¹‰<code>x</code>å’Œ<code>y</code>ä¸º0ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>è¿è¡Œåæˆ‘ä»¬æ‰“å¼€ç½‘é¡µï¼Œç•Œé¢å³ä¸Šè§’å¯ä»¥è°ƒèŠ‚æš—å¤œæ¨¡å¼ï¼Œé¼ æ ‡ç‚¹å‡»å·¦ä¾§ç©ºç™½æ˜¯å›é€€ï¼Œé¼ æ ‡ç‚¹å‡»å³ä¾§ç©ºç™½æ˜¯å‰è¿›ï¼Œå³ä¸‹è§’æŒ‰é’®å¯ä»¥è¿›å…¥stepæ¨¡å¼å’Œå±•ç¤ºå…¨éƒ¨ã€‚</p><p>è¿™é‡Œé™„ä¸Šæˆ‘åˆ¶ä½œå®Œæˆåçš„é¡µé¢æˆªå›¾ï¼š</p><p><img src="https://images.whff521.top/Screenshot%202025-07-14%20at%2019.41.23.png" alt="yolo map"></p><p>æˆ‘éƒ¨ç½²åˆ°äº†Cloudflareçš„pagesä¸Šäº†ï¼Œæ–¹ä¾¿éšæ—¶æŸ¥çœ‹ã€‚è¿™é‡Œé™„ä¸Š<a href="https://github.com/WHFF521/yak-shaving-map-yolo">æˆ‘ä»“åº“çš„é“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yolo </tag>
            
            <tag> è·¯çº¿å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytorchå’Œcudaç¯å¢ƒå®‰è£…</title>
      <link href="/2025/07/05/Pytorch%E5%92%8Ccuda%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/"/>
      <url>/2025/07/05/Pytorch%E5%92%8Ccuda%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h1 id="Pytorchå’Œcudaç¯å¢ƒå®‰è£…"><a href="#Pytorchå’Œcudaç¯å¢ƒå®‰è£…" class="headerlink" title="Pytorchå’Œcudaç¯å¢ƒå®‰è£…"></a>Pytorchå’Œcudaç¯å¢ƒå®‰è£…</h1><p>ä¸ºäº†é¿å…æ›´æ¢ä¸åŒç‰ˆæœ¬Cudaçš„éº»çƒ¦ï¼Œç¯å¢ƒåœ¨Anacondaé‡Œé¢æ­å»ºã€‚</p><h2 id="åˆ›å»ºcondaç¯å¢ƒ"><a href="#åˆ›å»ºcondaç¯å¢ƒ" class="headerlink" title="åˆ›å»ºcondaç¯å¢ƒ"></a>åˆ›å»ºcondaç¯å¢ƒ</h2><p>Anacondaçš„å®‰è£…å°±ä¸èµ˜è¿°ï¼Œé¦–å…ˆæ˜¯åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name your-env-name python=3.13</span><br></pre></td></tr></table></figure><br><code>your-env-name</code>æ˜¯ç¯å¢ƒåç§°ï¼Œéšæ„æ›´æ¢ï¼Œpythonç‰ˆæœ¬ä¹Ÿå¯æ ¹æ®ä¸åŒç¯å¢ƒè¿›è¡Œæ›´æ”¹ã€‚è¿™é‡Œè¦æ³¨æ„<code>--name</code>æ˜¯ä¸¤ä¸ª<code>-</code>ï¼Œå¦‚æœåªæ‰“ä¸€ä¸ª<code>-</code>ä½ æœ‰æ¦‚ç‡ä¼šè·å¾—ä¸€ä¸ªåå­—å«<code>ame</code>çš„è™šæ‹Ÿç¯å¢ƒğŸ˜‚</p><p>åƒä¸‡ä¸è¦å¿˜äº†è¿›å…¥è™šæ‹Ÿç¯å¢ƒå†è¿›è¡Œä¸‹é¢çš„æ“ä½œï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate your-env-name</span><br></pre></td></tr></table></figure></p><h2 id="å®‰è£…Cuda"><a href="#å®‰è£…Cuda" class="headerlink" title="å®‰è£…Cuda"></a>å®‰è£…Cuda</h2><p>è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€æ˜¯ç”¨condaå‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œæºåº”è¯¥æ˜¯condaä»“åº“ã€‚ç¬¬äºŒç§æ˜¯é€šè¿‡pipï¼Œæºæ˜¯pipçš„ä»“åº“ã€‚å…¶ä¸­condaå®‰è£…çš„å‘½ä»¤è™½ç„¶æ›´ç®€å•ï¼Œä½†æ˜¯condaä»“åº“é‡ŒCudaç‰ˆæœ¬ååˆ†æœ‰é™ï¼Œæ‰€ä»¥å¦‚æœcondaä»“åº“é‡Œå¦‚æœæ²¡æœ‰è‡ªå·±æƒ³è¦çš„ç‰ˆæœ¬è¿˜æ˜¯æ¨èç”¨pipè¿›è¡Œå®‰è£…ã€‚</p><h3 id="é€šè¿‡condaå®‰è£…"><a href="#é€šè¿‡condaå®‰è£…" class="headerlink" title="é€šè¿‡condaå®‰è£…"></a>é€šè¿‡condaå®‰è£…</h3><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹condaä»“åº“ä¸­æœ‰å“ªäº›ç‰ˆæœ¬çš„Cudaï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda search cudatoolkit --info</span><br></pre></td></tr></table></figure><br>é€šè¿‡condaå®‰è£…Cudaçš„å‘½ä»¤ä¸ºï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install cudatoolkit=11.7</span><br></pre></td></tr></table></figure></p><h3 id="é€šè¿‡pipå®‰è£…"><a href="#é€šè¿‡pipå®‰è£…" class="headerlink" title="é€šè¿‡pipå®‰è£…"></a>é€šè¿‡pipå®‰è£…</h3><p><a href="https://docs.nvidia.com/cuda/cuda-quick-start-guide/index.html#pip-wheels-windows">NVIDIA å®˜ç½‘</a>æä¾›äº†é€šè¿‡pipå®‰è£…çš„æ–¹æ³•ã€‚</p><p>å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ›´æ–°pip</span></span><br><span class="line">py -m pip install --upgrade setuptools pip wheel</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…nvidia-pyindex</span></span><br><span class="line">py -m pip install nvidia-pyindex</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…cuda12</span></span><br><span class="line">py -m pip install nvidia-cuda-runtime-cu12</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯é€‰ å®‰è£…å…¶ä»–æ¨¡å—</span></span><br><span class="line">py -m pip install nvidia-&lt;library&gt;</span><br></pre></td></tr></table></figure><br>å…¶ä¸­<code>py</code>éœ€è¦æ›¿æ¢æˆ<code>python</code>ã€‚</p><h2 id="å®‰è£…Pytorch"><a href="#å®‰è£…Pytorch" class="headerlink" title="å®‰è£…Pytorch"></a>å®‰è£…Pytorch</h2><p><a href="https://pytorch.org/get-started/locally/">Pytorch å®˜ç½‘</a>æä¾›äº†å¯¹åº”çš„å®‰è£…å‘½ä»¤<br><img src="https://images.whff521.top/Screenshot%202025-07-05%20at%2010.35.01.png" alt="å®‰è£…å‘½ä»¤"></p><p>è¿™é‡Œè´´å‡ºæˆ‘ä½¿ç”¨çš„ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118</span><br></pre></td></tr></table></figure></p><h2 id="æ£€éªŒå®‰è£…"><a href="#æ£€éªŒå®‰è£…" class="headerlink" title="æ£€éªŒå®‰è£…"></a>æ£€éªŒå®‰è£…</h2><p>ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥<code>python</code>è¿›å…¥åˆ°pythonï¼Œè¾“å…¥ä»¥ä¸‹å‡ è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="built_in">print</span>(torch.version.cuda)</span><br><span class="line">torch.cuda.is_available()</span><br></pre></td></tr></table></figure><p>æ³¨æ„importä¹‹åä¼šæœ‰ä¸€æ®µæ—¶é—´ç­‰å¾…pythonåŠ è½½ã€‚</p><p>PSï¼šä»Šå¤©ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ç”¨anacondaè¿›è¡Œæ­å»ºè¿™ä¸ªç¯å¢ƒï¼Œä»…ä»…æ˜¯æ­å»ºè¿˜æœªæŠ•å…¥åˆ°ä»£ç çš„ä½¿ç”¨ï¼Œå¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚</p><p>PS2ï¼šå°é¢æ˜¯å¤§ç©ºã‚¹ãƒãƒ«ï¼Œä¸¤å¤©å‰æ˜¯å¥¹çš„ç”Ÿæ—¥ï¼ã—ã‚…ã°ã—ã‚…ã°ã—ã‚…ã°ï¼ï¼ï¼ </p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pytorch </tag>
            
            <tag> Cuda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Adjacent Digit Sums</title>
      <link href="/2025/02/13/Codeforces-Adjacent-Digit-Sums/"/>
      <url>/2025/02/13/Codeforces-Adjacent-Digit-Sums/</url>
      
        <content type="html"><![CDATA[<h1 id="Codeforces-Adjacent-Digit-Sums"><a href="#Codeforces-Adjacent-Digit-Sums" class="headerlink" title="Codeforces Adjacent Digit Sums"></a>Codeforces Adjacent Digit Sums</h1><p>è¿™æ˜¯<code>Codeforces Round 1004(Div.2)</code>çš„ç¬¬ä¸€é¢˜ï¼Œ<a href="https://codeforces.com/contest/2067/problem/A#">é¢˜ç›®é“¾æ¥</a>ã€‚</p><h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>é¢˜ç›®ç»™å‡ºäº†ä¸¤ä¸ªæ•° ğ‘¥ å’Œ ğ‘¦ï¼Œè¦æ±‚åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ•´æ•° ğ‘›ï¼Œä½¿å¾— ğ‘› çš„å„ä½æ•°å­—ä¹‹å’Œç­‰äº ğ‘¥ï¼Œä¸” ğ‘›+1 çš„å„ä½æ•°å­—ä¹‹å’Œç­‰äº ğ‘¦ã€‚</p><p>S(n) = x, S(n+1) = y</p><p>æ¢å¥è¯è¯´ï¼Œä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ•´æ•° ğ‘›ï¼Œä½¿å¾—ï¼š</p><ol><li>ğ‘› çš„å„ä½æ•°å­—ç›¸åŠ ç­‰äº ğ‘¥ã€‚</li><li>ğ‘›+1 çš„å„ä½æ•°å­—ç›¸åŠ ç­‰äº ğ‘¦ã€‚</li></ol><p>å¦‚æœå­˜åœ¨è¿™æ ·çš„ ğ‘›ï¼Œè¾“å‡ºâ€œYESâ€ï¼›å¦åˆ™è¾“å‡ºâ€œNOâ€ã€‚</p><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><ol><li>å¯¹äºnçš„ä¸ªä½æ•°å­—ä¸æ˜¯9çš„ï¼Œ<code>S(n+1) = S(n) + 1</code>;</li><li>å¯¹äº n çš„ä¸ªä½æ•°å­—æ˜¯ 9 çš„ï¼Œå‡è®¾ä»ä¸ªä½å¼€å§‹æœ‰è¿ç»­çš„ k ä¸ª 9ï¼Œé‚£ä¹ˆ<code>S(n+1) = S(n) + 1 - k*9</code>,å› ä¸ºä»ä¸ªä½å¼€å§‹åŠ ä¸Š 1 åè¿ç»­çš„ k ä¸ª 9 éƒ½ä¼šå˜æˆ0ï¼Œæœ€åçš„è¿›1è´¡çŒ®ä¸º1ã€‚</li></ol><p>å½’çº³å¦‚æœ k = 0 å³ä¸ºæƒ…å†µ1ã€‚</p><p>å°† x å’Œ y æ›¿æ¢åˆ°ç­‰å¼é‡Œ, y = x + 1 - k*9, k = (x-y+1)/9ã€‚</p><p>åªéœ€åˆ¤æ–­kæ˜¯å¦ä¸ºå¤§äºç­‰äº0çš„æ•´æ•°å³å¯ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        <span class="type">int</span> remainder = (x-y+<span class="number">1</span>)%<span class="number">9</span>;</span><br><span class="line">        <span class="keyword">if</span>(remainder==<span class="number">0</span>&amp;&amp;(x-y+<span class="number">1</span>)/<span class="number">9</span>&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ›¾ç»æœ€æƒ³å»çš„åœ°æ–¹æ˜¯ç°åœ¨æœ€è®¨åŒçš„åœ°æ–¹</title>
      <link href="/2025/01/26/%E6%9B%BE%E7%BB%8F%E6%9C%80%E6%83%B3%E5%8E%BB%E7%9A%84%E5%9C%B0%E6%96%B9%E6%98%AF%E7%8E%B0%E5%9C%A8%E6%9C%80%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%9C%B0%E6%96%B9/"/>
      <url>/2025/01/26/%E6%9B%BE%E7%BB%8F%E6%9C%80%E6%83%B3%E5%8E%BB%E7%9A%84%E5%9C%B0%E6%96%B9%E6%98%AF%E7%8E%B0%E5%9C%A8%E6%9C%80%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%9C%B0%E6%96%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="æ›¾ç»æœ€æƒ³å»çš„åœ°æ–¹æ˜¯ç°åœ¨æœ€è®¨åŒçš„åœ°æ–¹"><a href="#æ›¾ç»æœ€æƒ³å»çš„åœ°æ–¹æ˜¯ç°åœ¨æœ€è®¨åŒçš„åœ°æ–¹" class="headerlink" title="æ›¾ç»æœ€æƒ³å»çš„åœ°æ–¹æ˜¯ç°åœ¨æœ€è®¨åŒçš„åœ°æ–¹"></a>æ›¾ç»æœ€æƒ³å»çš„åœ°æ–¹æ˜¯ç°åœ¨æœ€è®¨åŒçš„åœ°æ–¹</h1><p>æœ€è¿‘åœ¨çœ‹ã€Šç¿çƒ‚çš„é£å’Œæµ·ã€‹ï¼Œæ˜¯åœ¨æ¾³é—¨æ‹æ‘„çš„ç”µè§†å‰§ã€‚å…¶ä¸­Caseyå§å¯¹8å²çš„éŸ¦ä¸–æ°è¯´ï¼šâ€œå°æ—¶å€™æœ€æƒ³å»çš„åœ°æ–¹ä½†æ˜¯å› ä¸ºå„ç§åŸå› æ²¡æœ‰å»æˆï¼Œé•¿å¤§åé‚£äº›åœ°æ–¹å°±å˜æˆæœ€è®¨åŒå»çš„åœ°æ–¹ã€‚å› ä¸ºä¼šä¸€ç›´æš—ç¤ºè‡ªå·±æ²¡æœ‰å»æ˜¯å› ä¸ºè‡ªå·±ä¸å–œæ¬¢ï¼Œä¸æƒ³å»ã€‚ä¹…è€Œä¹…ä¹‹è¿è‡ªå·±éƒ½ç›¸ä¿¡äº†ã€‚â€</p><p>æˆ‘éå¸¸æ‡‚Caseyå§è¯´çš„è¯ï¼Œæœ‰äº›åœ°æ–¹å°æ—¶å€™æ²¡æœ‰å»æˆï¼Œæœ‰äº›ä¸œè¥¿å°æ—¶å€™æ²¡æœ‰å¾—åˆ°ã€‚å³ä½¿é•¿å¤§äº†ï¼Œæœ‰èƒ½åŠ›å»äº†ï¼Œæœ‰èƒ½åŠ›è·å¾—äº†ï¼Œå´æåŠ›é¿å…å»ï¼Œé¿å…è·å¾—ã€‚ç”šè‡³ä¸æƒ³å†çœ‹ä¸€çœ¼ã€‚è¿™å¹¶ä¸æ˜¯è‡ªç›¸çŸ›ç›¾ï¼Œè€Œæ˜¯äººç±»è‡ªèº«è‡ªæˆ‘ä¿æŠ¤çš„æ½œæ„è¯†ã€‚</p><p>å°æ—¶å€™æœ€æƒ³è¦çš„ç©å…·ï¼Œæ˜æ˜å½“åˆé‚£ä¹ˆæƒ³è¦ï¼Œä½†æ˜¯çˆ¶æ¯æ²¡æœ‰ç»™ä¹°ã€‚é•¿å¤§äº†ï¼Œä½ ä¼šä½“è°…çˆ¶æ¯çš„ä¸å®¹æ˜“ï¼Œæ„Ÿå¹å°æ—¶å€™çš„å¹¼ç¨šã€‚å¥½ä¸å®¹æ˜“å·²ç»å¿˜è®°äº†ï¼Œä¸åœ¨æ„äº†ï¼Œä½†æ˜¯åœ¨å•†åœºé‡Œé‚£ä¸ªç©å…·å°±æ˜¯å†ä¸€æ¬¡è·‘åˆ°ä½ çš„è§†çº¿é‡Œï¼Œé‚£ä¸€ç¬é—´ï¼Œè®°å¿†çš„é—¸é—¨ç»ˆäºæŠµæŒ¡ä¸ä½è®°å¿†çš„æ´ªæµï¼Œä½ çœ‹è§äº†å½“åˆå“­æ³£çš„æŒ‡ç€è¿™ä¸ªç©å…·æ±‚çˆ¶æ¯ä¹°ç»™æˆ‘çš„è‡ªå·±ã€‚å¤§å¤šæ•°äººå¯èƒ½å°±ä¼šæ’‡å¼€è§†çº¿èµ°æ‰å§ã€‚</p><p>æˆ‘ä»¬ä¸å¾—ä¸æ‰¿è®¤è¿™å°±æ˜¯å¿ƒçµä¸Šçš„ä¼¤ç–¤ï¼Œè°éƒ½ä¸æƒ³æ­å¼€è¿™ä¸ªä¼¤ç–¤ï¼Œå› ä¸ºæˆ‘ä»¬çš„å¿ƒä¼šç—›ï¼Œå³ä½¿çŸ¥é“å½“åˆæ˜¯å¤šä¹ˆçš„å¹¼ç¨šï¼Œä½†æ˜¯å½“åˆæ’•å¿ƒè£‚è‚ºçš„å¿ƒæƒ…æ’•å¼€çš„ä¼¤ç–¤æ°¸è¿œå¾—ä¸åˆ°æ²»ç–—ï¼Œåªè¦ä¸€æèµ·è¿˜æ˜¯ä¼šåˆºç—›ã€‚</p><p>ä¸ºä»€ä¹ˆä¼¤å£æ²¡æœ‰æ„ˆåˆå‘¢ï¼Ÿæ—¶é—´ä¸ºä»€ä¹ˆè§£å†³ä¸äº†è¿™ä»¶äº‹æƒ…å‘¢ï¼Ÿæˆ‘è§‰å¾—æ˜¯å› ä¸ºä½ è‡ªå·±æ²¡æœ‰æ”¾è¿‡è‡ªå·±ã€‚åœ¨åˆ«äººçœ¼é‡Œå¯èƒ½å°±æ˜¯èŠéº»å¤§çš„å°äº‹ï¼Œå› ä¸ºä»–ä»¬å¹¶ä¸åœ¨ä¹ã€‚ä½†æ˜¯åœ¨å½“åˆæˆ‘ä»¬è‡ªå·±çœ¼é‡Œï¼Œè¿™å°±æ˜¯å¤©å¤§çš„äº‹æƒ…ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¹ã€‚</p><p>æˆ‘å¾ˆæ¬£èµä¸€å¥è¯—ï¼šâ€œæ¬²ä¹°æ¡‚èŠ±åŒè½½é…’ï¼Œç»ˆä¸ä¼¼ï¼Œå°‘å¹´æ¸¸ã€‚â€æƒ³è¦ä¹°ä¸Šæ¡‚èŠ±å’Œç¾é…’ä¸€åŒæ³›èˆŸï¼Œä½†ç»ˆç©¶ä¸åƒå°‘å¹´å‡ºæ¸¸æ—¶æ‹¥æœ‰é‚£ç§æ„æ°”äº†ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚å¦‚æœæˆ‘ä»¬æˆå¤©æ„Ÿå¹è¿‡å»çš„é—æ†¾ï¼Œä¸€å®šä¼šå¿½ç•¥å½“ä¸‹çš„ç¾å¥½ï¼Œåªä¼šé€ æˆæ›´å¤§çš„é—æ†¾ã€‚</p><p>æˆ‘ä»¬è¦éšæ—¶æ¸…æ¥šåœ°çŸ¥é“è‡ªå·±æƒ³è¦ä»€ä¹ˆä¸œè¥¿ã€‚å­¦ä¼šé¥¶æ•è‡ªå·±ï¼Œæ”¾è¿‡è‡ªå·±ã€‚å°æ—¶å€™æ²¡é’±å­¦çš„é’¢ç´é•¿å¤§åä¹Ÿæ˜¯å¯ä»¥å­¦çš„ï¼Œå°æ—¶å€™æ²¡å»çš„éƒŠæ¸¸é•¿å¤§åä¹Ÿæ˜¯å¯ä»¥å»çš„ï¼Œè™½ç„¶â€œç»ˆä¸ä¼¼å°‘å¹´æ¸¸â€ï¼Œè™½ç„¶ä»¥å‰çš„æœ‹å‹å·²ç»ä¸åœ¨èº«è¾¹ï¼Œä½†æ˜¯è¿™ç‰‡é£æ™¯ä¸€ç›´æ²¡æœ‰å˜ï¼Œå®ƒè¿åŒå°æ—¶å€™çš„è‡ªå·±ä¸€ç›´éƒ½åœ¨ç­‰ç€ä½ ï¼Œä½ è¦è‡ªå·±è¸è¶³æ­¤åœ°ï¼Œå’Œå°æ—¶å€™çš„è‡ªå·±å’Œè§£ï¼Œè¯æ˜è‡ªå·±å€¼å¾—ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€è€ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FFmpegæå–è§†é¢‘éŸ³é¢‘</title>
      <link href="/2025/01/21/FFmpeg%E6%8F%90%E5%8F%96%E8%A7%86%E9%A2%91%E9%9F%B3%E9%A2%91/"/>
      <url>/2025/01/21/FFmpeg%E6%8F%90%E5%8F%96%E8%A7%86%E9%A2%91%E9%9F%B3%E9%A2%91/</url>
      
        <content type="html"><![CDATA[<h1 id="FFmpegæå–è§†é¢‘éŸ³é¢‘"><a href="#FFmpegæå–è§†é¢‘éŸ³é¢‘" class="headerlink" title="FFmpegæå–è§†é¢‘éŸ³é¢‘"></a>FFmpegæå–è§†é¢‘éŸ³é¢‘</h1><h2 id="èƒŒæ™¯æ•…äº‹"><a href="#èƒŒæ™¯æ•…äº‹" class="headerlink" title="èƒŒæ™¯æ•…äº‹"></a>èƒŒæ™¯æ•…äº‹</h2><p>æœ€è¿‘åœ¨è¡¥å¤ç›®å‹äººå¸çš„ç¬¬ä¸ƒå­£ï¼Œå‰å‡ å­£éƒ½æ˜¯åˆä¸­æ—¶å€™çœ‹çš„äº†å¾—æœ‰å¿«åå¹´æ²¡çœ‹äº†ï¼Œæ‰€ä»¥å‘¨æ›´çš„æ—¶å€™æ²¡æœ‰è·Ÿç€è¿½ã€‚ç°åœ¨æœ‰æ—¶é—´äº†éƒ½ä¸‹è½½ä¸‹æ¥ä¸€é›†ä¸€é›†çœ‹ã€‚</p><p>æˆ‘å‘ç°å¤ç›®çš„è¯­é€Ÿéå¸¸æ…¢ï¼Œè€Œä¸”å‘éŸ³å¾ˆæ ‡å‡†ï¼Œæ¯•ç«Ÿå£°ä¼˜æ˜¯ç¥è°·æµ©å²ï¼Œå¾ˆæœ‰è¾¨è¯†åº¦ã€‚é‡è¦çš„æ˜¯é‡Œè¾¹ç”¨åˆ°çš„è¯æ±‡ä¹Ÿéƒ½éå¸¸åŸºç¡€ï¼Œæœ‰å¾ˆå¤šæ—¥å¸¸ç”Ÿæ´»ä¸­çš„å¸¸ç”¨è¯ã€‚æœ€è¿‘æˆ‘ä¹Ÿåœ¨å­¦æ–°ç‰ˆçš„æ ‡æ—¥åˆçº§ä¸Šä¸‹å†Œï¼Œæ‰€ä»¥å¯¹ä¸€äº›åŸºç¡€è¯æ±‡éå¸¸çš„æ•æ„Ÿã€‚</p><p>ä»Šå¤©åœ¨å»è¶…å¸‚çš„è·¯ä¸Šæœ¬æ¥æƒ³å¬ä¸€å¬æ’­å®¢ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šè¿˜æ²¡æœ‰æ›´æ–°ï¼Œæœ‰çš„æ›´æ–°ä¹Ÿæ˜¯ä¸å¤ªæƒ³å¬ï¼Œæ„Ÿè§‰è¥å…»è¾ƒä½ã€‚å‰å‡ ä¸ªæœˆæˆ‘æ˜¯æœ‰æœå¯»ä¸€äº›æ—¥è¯­æ’­å®¢çš„ï¼Œæƒ³è¦ç»ƒä¸€ç»ƒå¬åŠ›ï¼Œä½†æ˜¯å®Œå…¨å¬ä¸æ‡‚å°±æ”¾å¼ƒäº†ã€‚</p><p>æ‰€ä»¥æˆ‘è”æƒ³åˆ°äº†æˆ‘åˆšçœ‹çš„ä¸¤é›†å¤ç›®ï¼Œè¿™ä¸ªç•ªéå¸¸é€‚åˆç»ƒä¹ å¬åŠ›ï¼Œè€Œä¸”çœ‹è¿‡ä¸€éå­—å¹•ä¸ç”¨æ‹…å¿ƒå®Œå…¨å¬ä¸æ‡‚çš„ç°è±¡ï¼Œè€Œä¸”æœ‰æœ‰è¶£çš„å¯¹è¯å’Œæ‚ æ‰¬çš„èƒŒæ™¯éŸ³ä¹ã€‚</p><p><img src="https://images.whff521.top/vlcsnap-2025-01-21-23h20m21s316.png" alt="xiamu"></p><p><strong>å¦‚æœèƒ½æŠŠè§†é¢‘çš„éŸ³é¢‘æå–å‡ºæ¥ä¼ åˆ°æ‰‹æœºä¸Šå¬å°±å¥½äº†ã€‚</strong></p><p>æ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡åšå®¢ã€‚</p><h2 id="å®é™…æ“ä½œ"><a href="#å®é™…æ“ä½œ" class="headerlink" title="å®é™…æ“ä½œ"></a>å®é™…æ“ä½œ</h2><h3 id="å®‰è£…-FFmpeg"><a href="#å®‰è£…-FFmpeg" class="headerlink" title="å®‰è£… FFmpeg"></a>å®‰è£… FFmpeg</h3><ol><li>ä¸‹è½½å¹¶å®‰è£… FFmpegï¼š<a href="https://ffmpeg.org/download.html">FFmpeg å®˜ç½‘</a></li><li>é…ç½®ç¯å¢ƒå˜é‡ï¼ˆWindows ç”¨æˆ·éœ€è¦æ‰‹åŠ¨æ·»åŠ åˆ° PATHï¼ŒMacOSç›´æ¥homebrewä¸‹è½½å³å¯ï¼‰ã€‚</li></ol><h3 id="æå–éŸ³é¢‘å‘½ä»¤"><a href="#æå–éŸ³é¢‘å‘½ä»¤" class="headerlink" title="æå–éŸ³é¢‘å‘½ä»¤"></a>æå–éŸ³é¢‘å‘½ä»¤</h3><p>å‡è®¾ä½ çš„æ–‡ä»¶æ˜¯ <code>input.mp4</code>ï¼Œç›®æ ‡éŸ³é¢‘æ–‡ä»¶æ ¼å¼æ˜¯ MP3ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -q:a 0 -map a output.mp3</span><br></pre></td></tr></table></figure><ul><li><code>-q:a 0</code> è¡¨ç¤ºä½¿ç”¨æœ€é«˜è´¨é‡ã€‚</li><li><code>-map a</code> è¡¨ç¤ºä»…æå–éŸ³é¢‘æµã€‚</li></ul><h2 id="æ‰‹æœºç«¯"><a href="#æ‰‹æœºç«¯" class="headerlink" title="æ‰‹æœºç«¯"></a>æ‰‹æœºç«¯</h2><p>ä¸æƒ³é‡å¤é€ è½®å­ï¼Œæˆ‘è‡ªå·±çš„æ–¹æ³•æ˜¯ç›´æ¥ç”µè„‘ä¸Šä¼ åˆ°apple musicèµ„æ–™åº“ï¼Œç­‰ä¸Šä¼ åæ‰‹æœºå°±å¯ä»¥å¬äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FFmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å—æ¸¸è®°</title>
      <link href="/2025/01/19/%E5%8D%97%E6%B8%B8%E8%AE%B0/"/>
      <url>/2025/01/19/%E5%8D%97%E6%B8%B8%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="å—æ¸¸è®°"><a href="#å—æ¸¸è®°" class="headerlink" title="å—æ¸¸è®°"></a>å—æ¸¸è®°</h1><h2 id="è§„æ¨¡"><a href="#è§„æ¨¡" class="headerlink" title="è§„æ¨¡"></a>è§„æ¨¡</h2><p>æˆ‘æœ¬æ¥ä»¥ä¸ºè¿™æ¬¡èšä¼šåªæœ‰6ï¼Œ7ä¸ªäººçš„è§„æ¨¡ï¼Œç­‰æˆ‘åˆ°äº†ä¹‹åæ²¡æƒ³åˆ°ç«Ÿç„¶æœ‰12äººä¹‹å¤šã€‚åŒå¤§çš„å®¢å…åœ¨äººç¾¤é¢å‰ä¹Ÿæ˜¾ç°å‡ºæœ‰äº›ç‹­å°ã€‚å¤§å¤šæ˜¯å¥½ä¹…æ²¡æœ‰è§è¿‡çš„é«˜ä¸­åŒå­¦ï¼Œæœ€é•¿çš„ç”šè‡³é•¿è¾¾å››å¹´ï¼Œé™¤äº†æŸä¸ªäººèƒ–äº†å¥½å¤šæ„ä»¥å¤–ï¼Œå…¶ä»–äººå¤–è²ŒåŸºæœ¬æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ã€‚</p><p>ç¬¬äºŒå¤©çš„æ—¶å€™äººæ•°å‡åˆ°åäººï¼Œæ­£å¥½é…ä¸Šä¸¤è¾†è½¦ï¼Œç›´æ¥æ‰©å¤§äº†å¯ä»¥æ¸¸ç©çš„åŒºåŸŸèŒƒå›´ã€‚</p><h2 id="å¤œçˆ¬"><a href="#å¤œçˆ¬" class="headerlink" title="å¤œçˆ¬"></a>å¤œçˆ¬</h2><p>åŒå¸‚åŒºå†…å°±æœ‰æŸå±±å…¬å›­ï¼Œç©äº†ä¸€ä¸‹åˆç‹¼äººæ€ï¼Œåƒè¿‡æ™šé¥­ä¹‹åå°±æ¥å¤œçˆ¬ã€‚å±±ä¸æ˜¯å¾ˆé«˜ï¼Œä½†æ˜¯å…¬å›­é¢ç§¯å¾ˆå¤§ã€‚ç”±äºå¤œæ™šæ²¡æœ‰å¤ªé˜³ï¼Œç»•æ¥ç»•å»ç”šè‡³è¿·å¤±äº†ä¸€æ®µæ—¶é—´çš„æ–¹å‘ã€‚å†¬å¤©çš„åŠå¤œæ°”æ¸©è¾ƒå†·ï¼Œè™½è¯´ç©¿ç€ç¾½ç»’æœä½†æ˜¯å¾ˆå†»è€³æœµã€‚åŠå¤œçš„å…¬å›­é‡Œä¼¼ä¹å°±æ²¡çœ‹è§è¿‡å…¶ä»–å¸‚æ°‘ï¼Œæ•´ä¸ªå…¬å›­éƒ½æ˜¯æˆ‘ä»¬çš„åœ°ç›˜ä¸€æ ·ã€‚</p><p>ç«™åœ¨å±±é¡¶çš„é«˜å°ä¸Šä¿¯ç°å¸‚åŒºï¼Œç…§äº†ä¸€ä¼šå„¿åˆå½±å°±æ…¢æ…¢ä¸‹å»äº†ã€‚å¯¹äºæˆ‘æ¥è¯´å¹¶ä¸æ˜¯å¾ˆç´¯ï¼Œä½†æ˜¯æœ‰äº›äººä¼¼ä¹æœ‰äº›æé«˜æ‰€ä»¥èµ°çš„æ¯”è¾ƒæ…¢ã€‚</p><h2 id="å¤§æµ·"><a href="#å¤§æµ·" class="headerlink" title="å¤§æµ·"></a>å¤§æµ·</h2><p>ç¬¬äºŒå¤©ä¸‹åˆç›´æ¥å¼€è½¦å»çœ‹å¤§æµ·ã€‚é«˜é€Ÿè·¯å¼€çš„ä¹Ÿç®—æ˜¯å¾ˆé¡ºç•…ï¼ˆæˆ‘æ˜¯åè½¦çš„ï¼‰ã€‚é™¤äº†å»çš„æ—¶å€™ä¸‹é«˜é€Ÿè½¬å¼¯çš„æ—¶å€™çªç„¶è­¦æŠ¥åå¤‡ç®±å¼€äº†ï¼Œå’Œå›æ¥çš„æ—¶å€™å¼€æš–é£æœ‰ä¸€è‚¡ç³Šå‘³ä¹‹å¤–ä¹Ÿæ²¡ä»€ä¹ˆæ„å¤–çš„äº‹æƒ…ã€‚</p><p>ä¸€å¼€å§‹æœ¬æ¥æ˜¯æŒ‰ç…§å¯¼èˆªèµ°çš„ï¼Œä½†æ˜¯ç”±äºèŠå¤©å¤ªæ¬¢å¯¼è‡´å¿˜äº†å˜å³è½¬å‘é“ï¼Œæ‰€ä»¥ä¸¤ä¸ªè½¦åˆ†å¼€äº†ä¸€æ®µæ—¶é—´ï¼Œä¸è¿‡è¿™æ¬¡æ„å¤–ä¼¼ä¹æ˜¯ä¸ªæ­£ç¡®çš„é€‰æ‹©ï¼Œè™½ç„¶èµ°é”™äº†é“è·¯ï¼Œä½†æ˜¯æˆ‘ä»¬åæ¥å› ä¸ºèµ°çš„é“è·¯è½¦å°‘è¶…è¿‡äº†å¦å¤–ä¸€è¾†è½¦æå‰åˆ°è¾¾å»é«˜é€Ÿè·¯çš„ä¸»è·¯ä¸Šã€‚</p><p>åªæœ‰å²¸è¾¹æ°´å‘é‡Œç»“äº†ä¸€ç‚¹å†°ï¼Œå²¸è¾¹ä¸çŸ¥é“æ˜¯ä¸æ˜¯å‰§ç»„æœ‰ä¸€ç¾¤äººç«‹ç€æ‘„åƒæœºåœ¨æ‹æ‘„ã€‚</p><p>è™½è¯´æ²¡æœ‰ä»€ä¹ˆæ¸¸ä¹é¡¹ç›®ï¼Œåªæ˜¯ä¸ºäº†çœ‹å¤§æµ·è€Œçœ‹å¤§æµ·ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€æ®µå¾ˆå¿«ä¹çš„æ—¶å…‰ã€‚åœ¨è·¯ä¸Šçš„èŠå¤©ï¼Œä¸¤è¾†è½¦çš„ä½ç½®å…±äº«å’Œè¯­éŸ³é€šè¯ï¼Œè½¦è½½éŸ³å“çš„æ­Œå”±ï¼Œå’Œæœ‹å‹ä»¬å¹ç€æµ·é£å¤§å£°æ¬¢ç¬‘æ‰æ˜¯æœ€é‡è¦çš„äº‹æƒ…ã€‚</p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>ä¹Ÿæ²¡æœ‰èµ°å¤šè¿œï¼Œåªæ˜¯å› ä¸ºæˆ‘ä¸€ç›´åœ¨å‘å—è¾¹èµ°è€Œå°†æ­¤æ¸¸è®°å‘½åä¸ºâ€œå—æ¸¸è®°â€ã€‚ä¸¤å¤©ä¸¤å¤œï¼Œç”šè‡³æ²¡æœ‰èŠ±å¤šå°‘é’±ï¼Œå´äº«å—äº†ååˆ†å¿«ä¹çš„æ—¶å…‰ã€‚</p><p>æ˜¯çš„ï¼Œè¿™æ˜¯å€¼å¾—çºªå¿µçš„æ—¶å…‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—…è¡Œ </tag>
            
            <tag> æœ‹å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>switchè¿æ¥openwrtè·¯ç”±å™¨NATç©¿è¶Šå¤±è´¥é—®é¢˜</title>
      <link href="/2025/01/05/switch%E8%BF%9E%E6%8E%A5openwrt%E8%B7%AF%E7%94%B1%E5%99%A8NAT%E7%A9%BF%E8%B6%8A%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/"/>
      <url>/2025/01/05/switch%E8%BF%9E%E6%8E%A5openwrt%E8%B7%AF%E7%94%B1%E5%99%A8NAT%E7%A9%BF%E8%B6%8A%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="switchè¿æ¥openwrtè·¯ç”±å™¨NATç©¿è¶Šå¤±è´¥é—®é¢˜"><a href="#switchè¿æ¥openwrtè·¯ç”±å™¨NATç©¿è¶Šå¤±è´¥é—®é¢˜" class="headerlink" title="switchè¿æ¥openwrtè·¯ç”±å™¨NATç©¿è¶Šå¤±è´¥é—®é¢˜"></a>switchè¿æ¥openwrtè·¯ç”±å™¨NATç©¿è¶Šå¤±è´¥é—®é¢˜</h1><p>é¦–å…ˆè¯´ç»“è®ºï¼Œè§£å†³é—®é¢˜çš„åŠæ³•æ˜¯<code>ShadowSocksR Plus+</code>éœ€è¦ä»£ç†çš„ç«¯å£è¦æ”¹æˆâ€œæ‰€æœ‰ç«¯å£â€ã€‚</p><h2 id="é—®é¢˜çš„æ¥æº"><a href="#é—®é¢˜çš„æ¥æº" class="headerlink" title="é—®é¢˜çš„æ¥æº"></a>é—®é¢˜çš„æ¥æº</h2><p>æˆ‘éœ€è¦è·¯ç”±å™¨ç»™æˆ‘çš„switchï¼ˆä»»å¤©å ‚æ¸¸æˆæœºï¼‰åšä»£ç†ï¼Œæˆ‘å®¶é‡Œçš„è€è·¯ç”±å™¨NATç±»å‹æ˜¯Bï¼Œè™½ç„¶èƒ½åŒ¹é…åˆ°é©¬è½¦8ï¼Œä½†æ˜¯æ„Ÿè§‰å»¶è¿Ÿå¾ˆå¤§ï¼Œè€Œä¸”å¤§ä¹±æ–—çš„ç«çŒœè§‚ä¹Ÿçœ‹ä¸äº†ã€‚æ­£å¥½æˆ‘æœ‰ä¸€ä¸ªåˆ·è¿‡openwrtï¼ˆQWRTï¼‰çš„è·¯ç”±å™¨ã€‚</p><h2 id="è¯•é”™"><a href="#è¯•é”™" class="headerlink" title="è¯•é”™"></a>è¯•é”™</h2><p>æˆ‘ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯æœ‰çº¿æ¡¥æ¥ã€‚lan to lan è¿™æ ·æ¥èµ·æ¥ï¼Œç„¶åè®©ä¸»è·¯ç”±å™¨åˆ†é…ipï¼Œå‰¯è·¯ç”±å™¨åªè´Ÿè´£å½“äº¤æ¢æœºã€‚</p><p>ä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆç½‘ä¸Šçš„æ¡¥æ¥æ•™ç¨‹æˆ‘éƒ½ä¸èƒ½æˆåŠŸå®ç°ã€‚ä»–ä»¬æ•™çš„æŠŠå‰¯è·¯ç”±å™¨lanå£ipæ”¹æˆä¸»è·¯ç”±å™¨lanå£ipç»Ÿä¸€ç½‘æ®µçš„è¿™ä¸€æ­¥ï¼Œæ¯å½“æˆ‘æ”¹å®Œipç„¶åè·¯ç”±å™¨å°±å¤±è”äº†ï¼Œä¹Ÿæ²¡æœ‰ç½‘ã€‚</p><p>å¥½åœ¨æˆ‘ç›´æ¥æ‹”ç”µæºå†æ’å›å»ï¼Œè·¯ç”±å™¨çš„ç³»ç»Ÿä¼šé‡ç½®ä¸ºå‡ºå‚åŒ–è®¾ç½®ã€‚ç ”ç©¶äº†å‡ ä¸ªå°æ—¶ä¹‹åæˆ‘å‘ç°è·¯ç”±å™¨å¹¶ä¸æ˜¯å¤±è”äº†ï¼Œè€Œæ˜¯æˆ‘æ²¡æœ‰æ­£ç¡®çš„è®¿é—®ã€‚æˆ‘ä¸çŸ¥é“åŸå› æ˜¯ä»€ä¹ˆï¼Œæˆ‘ç”µè„‘ç½‘çº¿è¿æ¥è·¯ç”±å™¨ä¹‹æ‰€ä»¥æ‰¾ä¸åˆ°è·¯ç”±å™¨é…ç½®ç½‘å€ï¼Œå¥½åƒæ˜¯å› ä¸ºæ”¹lanå£ipåæ–°çš„ç½‘ç»œipå¹¶æ²¡æœ‰åˆ†é…ç»™ç”µè„‘ï¼Œç„¶åç”µè„‘å’Œè·¯ç”±å™¨panelåœ¨ä¸åŒçš„ç½‘æ®µé‡Œï¼Œæ‰€ä»¥ä¸èƒ½è®¿é—®ã€‚</p><p>è§£å†³åŠæ³•å°±æ˜¯åœ¨ç”µè„‘æ§åˆ¶é¢æ¿é‡Œæ‰¾åˆ°é€‚é…å™¨è®¾ç½®ï¼ˆControl Panel-&gt;All Control Panel Items-&gt;Network and Sharing Center-&gt;Change adapter settingsï¼‰ï¼Œå°†ä»¥å¤ªç½‘å±æ€§é‡Œçš„ipv4è®¾ç½®ä¸ºæ‰‹åŠ¨ipï¼Œè®¾ç½®ä¸ºå’Œæ›´æ”¹panelçš„ipçš„åŒä¸€ç½‘æ®µçš„ä¸åŒipä¸Šã€‚</p><p><img src="https://images.whff521.top/69968835425934D848C83A3278D54FF2.png" alt="ipv4"></p><p>å¦‚å›¾ï¼Œå‡è®¾ä¸»è·¯ç”±å™¨Default Gatewayæ˜¯192.168.3.1ï¼Œè¿™ä¸ªå¦‚æœä¸çŸ¥é“å°±ç”¨ç”µè„‘è¿æ¥ä¸»è·¯ç”±å™¨ï¼Œç„¶åTerminalé‡Œè¾“å…¥<code>ipconfig /all</code>æŸ¥çœ‹ã€‚ç„¶åè·¯ç”±å™¨lanè®¾ç½®ä¸º192.168.3.2,åªéœ€è¦ä¸Šå›¾ä¸€æ ·é…ç½®ï¼Œå°†è‡ªå·±ç”µè„‘ipæ”¹ä¸ºåŒä¸€ç½‘æ®µçš„ä¸åŒipå³å¯ã€‚ç„¶åå†è¾“å…¥192.168.3.2å°±èƒ½å¤Ÿå†æ¬¡è®¿é—®åˆ°è·¯ç”±å™¨panelã€‚</p><p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆ192.168.1.1å’Œ192.168.3.1æ˜¯ä¸åŒç½‘æ®µï¼Œä¸»è¦æ˜¯å› ä¸ºå®¶åº­è·¯ç”±å™¨çš„å­ç½‘æ©ç æ˜¯255.255.255.0ã€‚è¿™é‡Œæ¶‰åŠåˆ°è®¡ç½‘çš„çŸ¥è¯†ã€‚è¿™ä¸ªå­ç½‘æ©ç åº”è¯¥æŒ‰ç…§äºŒè¿›åˆ¶çš„æ€ç»´æ€è€ƒï¼Œå‰é¢éƒ½æ˜¯111111â€¦åé¢æ˜¯0,ç„¶åç¬¬ä¸‰ä¸ªå­—æ®µçš„3å’Œ1ä»ç„¶è¿˜æ˜¯ä¸åŒç½‘æ®µï¼Œä½†æ˜¯ç¬¬å››ä¸ªå­—æ®µå¯¹åº”çš„0å±äºåŒä¸€ç½‘æ®µã€‚</p><h2 id="å¯èƒ½æ˜¯æ­£è§£"><a href="#å¯èƒ½æ˜¯æ­£è§£" class="headerlink" title="å¯èƒ½æ˜¯æ­£è§£"></a>å¯èƒ½æ˜¯æ­£è§£</h2><p>é‡ç½®è·¯ç”±å™¨åï¼Œç½‘çº¿æ’åœ¨wanå£ä¸Šï¼Œwanå£åè®®è®¾ç½®ä¸ºDHCPæœåŠ¡ç«¯å³å¯ã€‚è¿™æ ·å‰¯è·¯ç”±å™¨å°±åº”è¯¥æœ‰ç½‘äº†ã€‚</p><p>å½“ç„¶è¿™æ ·çš„åšæ³•ä½¿å¾—ä¸»å‰¯è·¯ç”±å™¨ä¼šåœ¨ä¸åŒçš„ç½‘æ®µä¸­ï¼Œå…±äº«æ‰“å°æœºé‚£ç§åœºæ™¯åº”è¯¥ä¼šå‡ºé—®é¢˜ï¼Œä½†æ˜¯æˆ‘å¹¶æ²¡æœ‰è¿™ç§åœºæ™¯ã€‚</p><h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p>æˆ‘ä¸ºä»€ä¹ˆæ’é™¤äº†vpnçš„é—®é¢˜è€Œæ˜¯ä¸€å¿ƒè§‰å¾—æ˜¯å› ä¸ºä¸åŒç½‘æ®µçš„é—®é¢˜ã€‚ç¬¬ä¸€å› ä¸ºè¿™ä¸ªè·¯ç”±å™¨åœ¨å­¦æ ¡çš„æ—¶å€™è¿ä½œååˆ†æ­£å¸¸ï¼Œç¬¬äºŒchatgptå‘Šè¯‰æˆ‘å¯èƒ½æ˜¯å› ä¸ºåŒé‡NATå¯¼è‡´çš„ã€‚æ˜¾ç„¶æˆ‘çš„å†³ç­–æ˜¯æœ‰è¯¯çš„ã€‚</p><p>å› ä¸ºå¼€æ¢¯å­å’Œä¸å¼€æ¢¯å­NATç±»å‹éƒ½æ˜¯Bï¼Œè€Œä¸”å¼€æ¢¯å­ååè€Œå®Œä¸äº†é©¬è½¦8äº†è®©æˆ‘å¿ƒæ€¥å¦‚ç„šã€‚æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆ<code>ShadowSocksR Plus+</code>çš„ä»£ç†ç«¯å£ä¸ºä»€ä¹ˆè¢«æ”¹æˆäº†â€œä¸ä»£ç†p2pæµé‡â€ï¼Œè¿™ä¸€ä¸ªè®¾ç½®è®©æˆ‘æŠ˜è…¾äº†å¿«ä¸€å¤©çš„æ—¶é—´ï¼š</p><p><img src="https://images.whff521.top/Screenshot%202025-01-05%20at%2008.58.42.png" alt="search history"></p><p>è¿™æ˜¯éƒ¨åˆ†æœç´¢æˆªå›¾ã€‚</p><p>æœ€åçœ‹åˆ°NATç±»å‹å˜æˆAï¼Œç„¶åç‹ ç‹ æ‰“äº†å‡ æŠŠNS Sportsï¼Œè¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openwrt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootä¸­jwtçš„ä½¿ç”¨</title>
      <link href="/2024/12/29/springboot%E4%B8%ADjwt%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2024/12/29/springboot%E4%B8%ADjwt%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Bootä¸­jwtçš„ä½¿ç”¨"><a href="#Spring-Bootä¸­jwtçš„ä½¿ç”¨" class="headerlink" title="Spring Bootä¸­jwtçš„ä½¿ç”¨"></a>Spring Bootä¸­jwtçš„ä½¿ç”¨</h1><p>è®°å½•ä¸€ä¸‹ç°åœ¨æˆ‘æ˜¯æ€ä¹ˆå®ç°jwtçš„ã€‚ä¸ºä»€ä¹ˆè¯´æ˜¯ç°åœ¨å‘¢ï¼Ÿè¯´å®è¯è¿™æ˜¯æˆ‘ç¬¬ä¸‰æ¬¡åœ¨Spring Booté‡Œæ·»åŠ JWTï¼Œä½†æ˜¯æ¯æ¬¡æ·»åŠ çš„æ–¹å¼å’Œä»£ç å› ä¸ºæŸ¥é˜…çš„èµ„æ–™ä¸åŒï¼Œå®ç°çš„æ–¹å¼ä¹Ÿä¸å¤ªä¸€æ ·ã€‚å½“ç„¶jwtç»ˆç©¶æ˜¯jwtï¼Œå¤§åŒå°å¼‚ã€‚</p><p>æˆ‘ç”¨çš„ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œæ‰€ä»¥å¾ˆå¤šæ–¹æ³•éƒ½è¢«æ ‡æ³¨äº†è¿‡æœŸï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å»æ·±å…¥ç ”ç©¶æœ€æ–°çš„ä»£ç ç©¶ç«Ÿåº”è¯¥æ€ä¹ˆå®ç°ã€‚</p><p>Spring Bootç‰ˆæœ¬æ˜¯3.3.5ï¼Œ jjwtç”¨çš„0.12.6ã€‚</p><h2 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h2><p>ç”¨çš„æ˜¯<code>jjwt</code>å®ç°jwtï¼Œ<code>spring-security</code>å®ç°æ‹¦æˆªã€‚</p><p>åœ¨pom.xmlé‡Œæ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.12.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JwtUtil-æ–‡ä»¶"><a href="#JwtUtil-æ–‡ä»¶" class="headerlink" title="JwtUtil æ–‡ä»¶"></a>JwtUtil æ–‡ä»¶</h2><p>è¿™æ˜¯ä¸ºäº†å®ç°<code>jwt</code>è€Œåˆ›å»ºçš„å·¥å…·ç±»ï¼Œå»ºè®®æ”¾åœ¨é¡¹ç›®æ–‡ä»¶å¤¹çš„<code>utils</code>æ–‡ä»¶å¤¹é‡Œï¼Œå’Œ<code>controller</code>æ–‡ä»¶å¤¹åŒçº§ã€‚ä»£ç ä¸­çš„<code>jwt.secret</code>,<code>jwt.expiration</code>æ˜¯å†™åœ¨<code>application.properties</code>é‡Œçš„å˜é‡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jwt.secret=XXXXXXXXXXXXX</span><br><span class="line">jwt.expiration=604800000</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>jwt.secret</code>å¿…é¡»æ»¡è¶³ä¸€å®šçš„è¦æ±‚ï¼šHS256 ç®—æ³•è¦æ±‚ç­¾åå¯†é’¥çš„å¤§å°è‡³å°‘ä¸º 256 ä½ï¼ˆå³ 32 å­—èŠ‚ï¼‰ã€‚å¹¶ä¸”å†™åœ¨æ–‡ä»¶é‡Œçš„æ˜¯ç”¨Base64åŠ å¯†è¿‡çš„ã€‚Base64 ç¼–ç çš„ç›®çš„æ˜¯è®©äºŒè¿›åˆ¶å¯†é’¥åœ¨ä¼ è¾“å’Œå­˜å‚¨æ—¶æ›´åŠ å®‰å…¨å’Œå…¼å®¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.airomance.easytravelroute.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Claims;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Jwts;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.security.Keys;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.SignatureAlgorithm;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.crypto.SecretKey;</span><br><span class="line"><span class="keyword">import</span> javax.crypto.spec.SecretKeySpec;</span><br><span class="line"><span class="keyword">import</span> java.util.Base64;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jwt.secret&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String secretKey;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jwt.expiration&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> expirationTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SecretKey <span class="title function_">getSecretKey</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">byte</span>[] decodedKey = Base64.getDecoder().decode(secretKey);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SecretKeySpec</span>(decodedKey, <span class="number">0</span>, decodedKey.length, <span class="string">&quot;HmacSHA256&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">generateToken</span><span class="params">(String username)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.builder()</span><br><span class="line">                .setSubject(username)</span><br><span class="line">                .setIssuedAt(<span class="keyword">new</span> <span class="title class_">Date</span>())</span><br><span class="line">                .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + expirationTime))</span><br><span class="line">                .signWith(getSecretKey())</span><br><span class="line">                .compact();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»JWTä¸­è·å–ç”¨æˆ·å</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">extractUsername</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> extractClaim(token, Claims::getSubject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»JWTä¸­è·å–ä»»ä½•ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> &lt;T&gt; T <span class="title function_">extractClaim</span><span class="params">(String token, ClaimsResolver&lt;T&gt; claimsResolver)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> extractAllClaims(token);</span><br><span class="line">        <span class="keyword">return</span> claimsResolver.resolve(claims);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»JWTä¸­æå–æ‰€æœ‰å£°æ˜</span></span><br><span class="line">    <span class="keyword">private</span> Claims <span class="title function_">extractAllClaims</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.parser()</span><br><span class="line">                .setSigningKey(getSecretKey())</span><br><span class="line">                .build()</span><br><span class="line">                .parseSignedClaims(token)</span><br><span class="line">                .getPayload();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éªŒè¯JWT</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validateToken</span><span class="params">(String token, String username)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (username.equals(extractUsername(token)) &amp;&amp; !isTokenExpired(token));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥JWTæ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isTokenExpired</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> extractExpiration(token).before(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æå–JWTè¿‡æœŸæ—¶é—´</span></span><br><span class="line">    <span class="keyword">private</span> Date <span class="title function_">extractExpiration</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> extractClaim(token, Claims::getExpiration);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@FunctionalInterface</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">interface</span> <span class="title class_">ClaimsResolver</span>&lt;T&gt; &#123;</span><br><span class="line">        T <span class="title function_">resolve</span><span class="params">(Claims claims)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="JwtAuthenticationFilter-æ–‡ä»¶"><a href="#JwtAuthenticationFilter-æ–‡ä»¶" class="headerlink" title="JwtAuthenticationFilter æ–‡ä»¶"></a>JwtAuthenticationFilter æ–‡ä»¶</h2><p>JWT è®¤è¯è¿‡æ»¤å™¨ (JwtAuthenticationFilter)ï¼Œç”¨äºåœ¨æ¯æ¬¡ HTTP è¯·æ±‚æ—¶æ£€æŸ¥ JWTï¼ˆJSON Web Tokenï¼‰æ˜¯å¦æœ‰æ•ˆï¼Œå¹¶åœ¨éªŒè¯æˆåŠŸåè®¾ç½®ç”¨æˆ·èº«ä»½è®¤è¯ä¿¡æ¯ã€‚å®ƒæ˜¯åŸºäº Spring Security çš„ OncePerRequestFilter ç±»ï¼Œç”¨äºç¡®ä¿æ¯ä¸ªè¯·æ±‚åªè¢«è¿‡æ»¤ä¸€æ¬¡ã€‚</p><ul><li>æ£€æŸ¥è¯·æ±‚ä¸­çš„ JWT Tokenã€‚</li><li>éªŒè¯ Token çš„æœ‰æ•ˆæ€§å’Œæ ¼å¼ã€‚</li><li>å¦‚æœ Token æœ‰æ•ˆï¼Œå°†ç”¨æˆ·ä¿¡æ¯è®¾ç½®åˆ° Spring Security çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</li><li>å¦‚æœè¯·æ±‚åœ¨ç™½åå•è·¯å¾„ä¸­ï¼Œåˆ™è·³è¿‡ JWT æ£€æŸ¥ã€‚</li><li>å¦‚æœ Token æ— æ•ˆæˆ–ç¼ºå¤±ï¼Œè¿”å› HTTP 401 Unauthorized é”™è¯¯ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.airomance.easytravelroute.filter;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.airomance.easytravelroute.utils.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.JwtException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.FilterChain;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.context.SecurityContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.filter.OncePerRequestFilter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Level;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtAuthenticationFilter</span> <span class="keyword">extends</span> <span class="title class_">OncePerRequestFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> JwtUtil jwtUtil;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> Logger.getLogger(JwtAuthenticationFilter.class.getName());</span><br><span class="line">    <span class="comment">// ç™½åå•è·¯å¾„åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] WHITE_LIST_PATHS = &#123;<span class="string">&quot;/users/loginByEmail&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JwtAuthenticationFilter</span><span class="params">(JwtUtil jwtUtil)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.jwtUtil = jwtUtil;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœè¯·æ±‚æ˜¯ç™½åå•è·¯å¾„ï¼Œè·³è¿‡ JWT æ ¡éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> (isWhiteListed(request)) &#123;</span><br><span class="line">            filterChain.doFilter(request, response);  <span class="comment">// ç›´æ¥ç»§ç»­è¯·æ±‚é“¾ï¼Œä¸åšè®¤è¯</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> getJwtFromRequest(request);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœ token ä¸ä¸ºç©ºä¸”æœ‰æ•ˆï¼Œè¿›è¡Œèº«ä»½è®¤è¯</span></span><br><span class="line">        <span class="keyword">if</span> (token != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (jwtUtil.validateToken(token, jwtUtil.extractUsername(token))) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœ JWT æœ‰æ•ˆï¼Œè®¾ç½®èº«ä»½è®¤è¯</span></span><br><span class="line">                    <span class="type">UsernamePasswordAuthenticationToken</span> <span class="variable">authentication</span> <span class="operator">=</span></span><br><span class="line">                            <span class="keyword">new</span> <span class="title class_">UsernamePasswordAuthenticationToken</span>(jwtUtil.extractUsername(token), <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">                    SecurityContextHolder.getContext().setAuthentication(authentication);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// Token æ— æ•ˆï¼Œè¿”å› 401 é”™è¯¯</span></span><br><span class="line">                    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);</span><br><span class="line">                    response.getWriter().write(<span class="string">&quot;Invalid or expired JWT token&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (JwtException e) &#123;</span><br><span class="line">                <span class="comment">// æ•è·è§£æå¼‚å¸¸ï¼Œè¿”å› 401 é”™è¯¯</span></span><br><span class="line">                logger.log(Level.SEVERE, <span class="string">&quot;Your error message here&quot;</span>, e);</span><br><span class="line">                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);</span><br><span class="line">                response.getWriter().write(<span class="string">&quot;Invalid JWT token format&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Token ç¼ºå¤±ï¼Œè¿”å› 401 é”™è¯¯</span></span><br><span class="line">            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);</span><br><span class="line">            response.getWriter().write(<span class="string">&quot;JWT token is missing&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»§ç»­è¿‡æ»¤é“¾</span></span><br><span class="line">        filterChain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»è¯·æ±‚å¤´éƒ¨è·å–JWT Token</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getJwtFromRequest</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">bearerToken</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (bearerToken != <span class="literal">null</span> &amp;&amp; bearerToken.startsWith(<span class="string">&quot;Bearer &quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> bearerToken.substring(<span class="number">7</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¯·æ±‚è·¯å¾„æ˜¯å¦åœ¨ç™½åå•ä¸­</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isWhiteListed</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        <span class="keyword">for</span> (String path : WHITE_LIST_PATHS) &#123;</span><br><span class="line">            <span class="keyword">if</span> (requestURI.equals(path)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="SecurityConfigæ–‡ä»¶"><a href="#SecurityConfigæ–‡ä»¶" class="headerlink" title="SecurityConfigæ–‡ä»¶"></a>SecurityConfigæ–‡ä»¶</h2><p>Spring Security çš„é…ç½®ç±»ï¼Œç”¨äºå®šä¹‰åº”ç”¨çš„å®‰å…¨ç­–ç•¥ï¼ŒåŒ…æ‹¬è®¤è¯æœºåˆ¶ã€è¿‡æ»¤å™¨é“¾ã€å¯†ç åŠ å¯†æ–¹å¼ç­‰ã€‚å®ƒé€šè¿‡ SecurityFilterChain è‡ªå®šä¹‰å®‰å…¨è§„åˆ™ï¼Œå¹¶ä½¿ç”¨ JwtAuthenticationFilter æ¥å®ç°åŸºäº JWT çš„è®¤è¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.airomance.easytravelroute.config;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.airomance.easytravelroute.filter.JwtAuthenticationFilter;</span><br><span class="line"><span class="keyword">import</span> com.airomance.easytravelroute.utils.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.password.PasswordEncoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.SecurityFilterChain;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> JwtUtil jwtUtil;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SecurityConfig</span><span class="params">(JwtUtil jwtUtil)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.jwtUtil = jwtUtil;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ è‡ªå®šä¹‰çš„ JwtAuthenticationFilter</span></span><br><span class="line">        http.addFilterBefore(<span class="keyword">new</span> <span class="title class_">JwtAuthenticationFilter</span>(jwtUtil), UsernamePasswordAuthenticationFilter.class)</span><br><span class="line">                .authorizeRequests(authorizeRequests -&gt; authorizeRequests</span><br><span class="line">                        .requestMatchers(<span class="string">&quot;/users/loginByEmail&quot;</span>).permitAll() <span class="comment">// ç™»å½•å’Œæ³¨å†Œä¸éœ€è¦è®¤è¯</span></span><br><span class="line">                        .anyRequest().authenticated() <span class="comment">// å…¶ä»–è¯·æ±‚éœ€è¦è®¤è¯</span></span><br><span class="line">                )</span><br><span class="line">                .csrf(csrf -&gt; csrf.disable()); <span class="comment">// ç¦ç”¨ CSRF</span></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PasswordEncoder <span class="title function_">passwordEncoder</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BCryptPasswordEncoder</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¼ºç‚¹å’Œä¸è¶³"><a href="#ç¼ºç‚¹å’Œä¸è¶³" class="headerlink" title="ç¼ºç‚¹å’Œä¸è¶³"></a>ç¼ºç‚¹å’Œä¸è¶³</h2><p>ç°åœ¨å¯ä»¥çœ‹åˆ°ç™½åå•éœ€è¦åœ¨ä¸¤ä¸ªæ–‡ä»¶é‡Œéƒ½å†™ä¸€éï¼ŒåŸå› æ˜¯æˆ‘æƒ³è¦åœ¨éœ€è¦tokençš„æ—¶å€™å¦‚æœæ²¡æœ‰tokneçš„è¯·æ±‚è¿”å›â€JWT token is missingâ€ï¼Œä½†æ˜¯æˆ‘å‘ç°<code>JwtAuthenticationFilter</code>å¦‚æœä¸åŠ å…¥ç™½åå•åˆ¤æ–­ï¼Œå°±ä¼šæŠŠæ‰€æœ‰æ²¡æœ‰tokençš„éƒ½æ‹¦æˆªäº†ã€‚</p><p>è€Œä¸”æ²¡æœ‰æš‚æ—¶æ²¡æœ‰åŠ å…¥è§’è‰²æ§åˆ¶ï¼Œå› ä¸ºç›¸å…³æ¥å£è¿˜æ²¡æœ‰å†™ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯•ä¸šè®¾è®¡ </tag>
            
            <tag> jwt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis-Plusçš„ä½¿ç”¨</title>
      <link href="/2024/12/26/MyBatis-Plus%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2024/12/26/MyBatis-Plus%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="MyBatis-Plusçš„ä½¿ç”¨"><a href="#MyBatis-Plusçš„ä½¿ç”¨" class="headerlink" title="MyBatis-Plusçš„ä½¿ç”¨"></a>MyBatis-Plusçš„ä½¿ç”¨</h1><p>æ•°æ®åº“åŸºæœ¬è®¾è®¡å®Œæ¯•ï¼Œåˆ›å»ºå®Œæ•°æ®åº“åå°±éœ€è¦è®©åç«¯è¿æ¥æ•°æ®åº“ã€‚åœ¨è¿™é‡Œç”¨<code>MyBatis-Plus</code>çš„ä»£ç ç”Ÿæˆå™¨èƒ½å¿«é€Ÿç”Ÿæˆ<code>entity</code>,<code>mapper</code>,<code>service</code>ç­‰æ–‡ä»¶ã€‚</p><h2 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h2><h3 id="ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ ä¾èµ–"><a href="#ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ ä¾èµ–" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ ä¾èµ–"></a>ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ ä¾èµ–</h3><p>åœ¨<code>pom.xml</code>æ–‡ä»¶ä¸­çš„<code>dependencies</code>é‡Œæ·»åŠ å¦‚ä¸‹å‡ è¡Œä»£ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-spring-boot3-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.freemarker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ç”¨çš„æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¦‚æœ‰é—®é¢˜è¯·å»<a href="https://baomidou.com/">å®˜ç½‘</a>æŸ¥çœ‹æ˜¯å¦æœ‰æ›´æ–°ã€‚å…¶ä¸­<code>freemarker</code>æ˜¯æˆ‘è¦ä½¿ç”¨çš„æ¨¡ç‰ˆå¼•æ“ã€‚</p><h3 id="ç¬¬äºŒæ­¥-åç«¯è¿æ¥æ•°æ®åº“"><a href="#ç¬¬äºŒæ­¥-åç«¯è¿æ¥æ•°æ®åº“" class="headerlink" title="ç¬¬äºŒæ­¥ åç«¯è¿æ¥æ•°æ®åº“"></a>ç¬¬äºŒæ­¥ åç«¯è¿æ¥æ•°æ®åº“</h3><p>åœ¨<code>application.properties</code>ä¸‹å†™æ˜ä½ è¦è¿æ¥çš„æ•°æ®åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘ç”¨çš„æ˜¯<code>mysql5.7</code>ã€‚</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/&quot;yourDatabaseName&quot;</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">&quot;yourSqlUsername(maybe root)&quot;</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">&quot;yourSqlPassword&quot;</span></span><br><span class="line"><span class="attr">mybatis-plus.mapper-locations</span>=<span class="string">classpath:xml/*.xml</span></span><br><span class="line"><span class="attr">mybatis-plus.configuration.log-impl</span>=<span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure><p>è¯·å°†åŒå¼•å·çš„åœ°æ–¹æ¢ä¸Šä½ è‡ªå·±è¦ä½¿ç”¨çš„ã€‚å…¶ä¸­æœ€åä¸€å¥è¯æ˜¯ä¸ºäº†ä¹‹ååœ¨ç»ˆç«¯æ‰“å°å‡ºä»£ç æ‰§è¡Œçš„sqlè¯­å¥ã€‚</p><h3 id="ç¬¬ä¸‰æ­¥-ç¼–å†™ä»£ç ç”Ÿæˆå™¨ä»£ç "><a href="#ç¬¬ä¸‰æ­¥-ç¼–å†™ä»£ç ç”Ÿæˆå™¨ä»£ç " class="headerlink" title="ç¬¬ä¸‰æ­¥ ç¼–å†™ä»£ç ç”Ÿæˆå™¨ä»£ç "></a>ç¬¬ä¸‰æ­¥ ç¼–å†™ä»£ç ç”Ÿæˆå™¨ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.airomance.easytravelroute;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">tables</span> <span class="operator">=</span> <span class="string">&quot;users,roles,xxx,xxx&quot;</span>;</span><br><span class="line">        FastAutoGenerator.create(<span class="string">&quot;jdbc:mysql://localhost:3306/yourDatabaseName&quot;</span>,<span class="string">&quot;username&quot;</span>,<span class="string">&quot;password&quot;</span>)</span><br><span class="line">                .globalConfig(builder -&gt; builder</span><br><span class="line">                        .author(<span class="string">&quot;airomance&quot;</span>)</span><br><span class="line">                        .outputDir(Paths.get(System.getProperty(<span class="string">&quot;user.dir&quot;</span>))+<span class="string">&quot;/src/main/java&quot;</span>)</span><br><span class="line">                        .commentDate(<span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                )</span><br><span class="line">                .packageConfig(builder -&gt; builder</span><br><span class="line">                        .parent(<span class="string">&quot;com.airomance.easytravelroute&quot;</span>)</span><br><span class="line">                        .entity(<span class="string">&quot;entity&quot;</span>)</span><br><span class="line">                        .mapper(<span class="string">&quot;mapper&quot;</span>)</span><br><span class="line">                        .service(<span class="string">&quot;service&quot;</span>)</span><br><span class="line">                        .serviceImpl(<span class="string">&quot;service.impl&quot;</span>)</span><br><span class="line">                        .xml(<span class="string">&quot;mapper.xml&quot;</span>)</span><br><span class="line">                )</span><br><span class="line">                .strategyConfig(builder -&gt; builder</span><br><span class="line">                        .addInclude(tables.split(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">                        .entityBuilder()</span><br><span class="line">                        .enableLombok()</span><br><span class="line">                        .enableFileOverride()</span><br><span class="line">                        .controllerBuilder()</span><br><span class="line">                        .enableRestStyle()</span><br><span class="line">                )</span><br><span class="line">                .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>())</span><br><span class="line">                .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯·å°†æ•°æ®åº“æ¶‰åŠçš„æ•°æ®åº“åç§°ï¼Œç”¨æˆ·åï¼Œå¯†ç æ¢æˆè‡ªå·±çš„ã€‚è¿˜æœ‰åŒ…åã€‚</p><h3 id="ç¬¬å››æ­¥-è¿è¡Œä»£ç ç”Ÿæˆå™¨"><a href="#ç¬¬å››æ­¥-è¿è¡Œä»£ç ç”Ÿæˆå™¨" class="headerlink" title="ç¬¬å››æ­¥ è¿è¡Œä»£ç ç”Ÿæˆå™¨"></a>ç¬¬å››æ­¥ è¿è¡Œä»£ç ç”Ÿæˆå™¨</h3><p>è¿è¡Œä»£ç ååº”è¯¥ä¼šè‡ªåŠ¨åˆ›å»ºå‡º<code>entity</code>,<code>mapper</code>,<code>service</code>ï¼Œ<code>controller</code>å±‚ç­‰æ–‡ä»¶ã€‚è¿™æ—¶éœ€è¦æŠŠmapperæ–‡ä»¶å¤¹ä¸‹çš„xmlæ–‡ä»¶å¤¹ç§»åŠ¨åˆ°é¡¹ç›®çš„<code>resources</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™æ ·æ–¹ä¾¿é…ç½®ä¹Ÿæ˜¯ä¸€èˆ¬çš„ä½¿ç”¨ä¹ æƒ¯ã€‚</p><p>æ³¨æ„ï¼Œè¿™é‡Œxmlå¿…é¡»ç§»åŠ¨ï¼ŒåŸå› åœ¨ç¬¬äºŒæ­¥å·²ç»è®¾ç½®äº†xmlæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œå°±æ˜¯è¿™å¥é…ç½®ï¼š</p><p><code>mybatis-plus.mapper-locations=classpath:xml/*.xml</code></p><h3 id="ç¬¬äº”æ­¥-è®¾ç½®mapperè·¯å¾„"><a href="#ç¬¬äº”æ­¥-è®¾ç½®mapperè·¯å¾„" class="headerlink" title="ç¬¬äº”æ­¥ è®¾ç½®mapperè·¯å¾„"></a>ç¬¬äº”æ­¥ è®¾ç½®mapperè·¯å¾„</h3><p>æˆ‘ä»¬éœ€è¦å°†mapperæ–‡ä»¶å¤¹çš„è·¯å¾„å‘Šè¯‰Spring bootï¼Œåœ¨å¯åŠ¨é¡¹ç›®çš„<code>application</code>æ–‡ä»¶ä¸‹æ·»åŠ ä¸€ä¸ªæ³¨è§£ã€‚</p><p><code>@MapperScan(&quot;com.airomance.easytravelroute.mapper&quot;)</code></p><p>æ·»åŠ åè¿™ä¸ªæ–‡ä»¶ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.airomance.easytravelroute;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.airomance.easytravelroute.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EasyTravelRouteApplication</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">SpringApplication.run(EasyTravelRouteApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>è‡³æ­¤åº”è¯¥èƒ½å¤Ÿæ­£å¸¸è¿è¡Œé¡¹ç›®ï¼Œç„¶åè¿›è¡Œæ¥å£çš„è¯¦ç»†ç¼–å†™äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯•ä¸šè®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è€ƒç ”å›å¿†</title>
      <link href="/2024/12/25/%E8%80%83%E7%A0%94%E5%9B%9E%E5%BF%86/"/>
      <url>/2024/12/25/%E8%80%83%E7%A0%94%E5%9B%9E%E5%BF%86/</url>
      
        <content type="html"><![CDATA[<h1 id="è€ƒç ”å›å¿†"><a href="#è€ƒç ”å›å¿†" class="headerlink" title="è€ƒç ”å›å¿†"></a>è€ƒç ”å›å¿†</h1><h2 id="æœ€è¿‘å‡ å¤©"><a href="#æœ€è¿‘å‡ å¤©" class="headerlink" title="æœ€è¿‘å‡ å¤©"></a>æœ€è¿‘å‡ å¤©</h2><p>è¯´è¯´è€ƒè¯•å§ï¼Œæ”¿æ²»è‚–å››å¤ä¹ çš„æ—¶å€™ä¹Ÿæ²¡æœ‰å®‰æ’æ—¶é—´èƒŒè¯µç­”é¢˜ï¼Œåªæ˜¯ç®€å•çš„çœ‹äº†å‡ å¤©ã€‚æ²¡æƒ³åˆ°æ”¿æ²»é¢˜ä»Šå¹´å‡ºçš„å¾ˆéš¾ï¼Œè€Œä¸”è‚–å››ä¹Ÿæ˜¯æ²¡å‹åˆ°é¢˜ï¼Œè¿™ä¹ˆçœ‹æ¥æˆ‘çš„æ—¶é—´å®‰æ’è¿˜ç®—åˆç†ã€‚ä¸ºäº†å¢å¼ºæˆ‘è‡ªå·±å†…å¿ƒçš„æ¿€æƒ…å’Œé€»è¾‘æ€ç»´èƒ½åŠ›ï¼Œæ¯å¤©éƒ½åœ¨çœ‹ã€Šè§‰é†’å¹´ä»£ã€‹ï¼Œè¿™ä¸ªç”µè§†å‰§æ‹çš„æ˜¯çœŸçš„å¥½ï¼Œä¸è¿‡åœ¨æ­¤å°±ä¸å¤šè®²äº†ã€‚</p><p>è‹±ä¸€ç ´å¤©è’çš„å¤§ä½œæ–‡å‡ºäº†åªæœ‰å›¾è¡¨çš„ã€‚è¦çŸ¥é“è¿‡å»åå‡ å¹´éƒ½æ˜¯æ¼«ç”»ç±»å‹çš„ï¼Œåªæœ‰å»å¹´å‡ºäº†æ¼«ç”»åŠ å›¾è¡¨ï¼Œä»Šå¹´å°±åªå‡ºäº†å›¾è¡¨ã€‚æˆ‘ä¹Ÿåªèƒ½ç¡¬ç€å¤´çš®æŠŠæˆ‘èƒŒçš„æ¼«ç”»ä½œæ–‡çš„å¥å¼ç¡¬å¥—è¿›å»ã€‚ç¿»è¯‘åšçš„å¾ˆçƒ‚å‘œå‘œå‘œã€‚</p><p>æ•°ä¸€æ›´æ˜¯ä¸€å¡Œç³Šæ¶‚ï¼Œé™¤äº†é€‰æ‹©é¢˜èƒ½æ‹¿ä¸€ç‚¹ç‚¹åˆ†æ•°å¤–ï¼Œå¤§é¢˜åŸºæœ¬æ²¡æœ‰ä¼šçš„ã€‚ä¸‰é‡ç§¯åˆ†è€ƒäº†ç»•ç›´çº¿æ—‹è½¬çš„ï¼Œä¹‹å‰çœŸé¢˜åº”è¯¥æ²¡è€ƒè¿‡å§ï¼Œè™½ç„¶åœ¨å¤§çº²é‡Œè¦æ±‚è¿‡ï¼Œä½†æ˜¯ç€å®æ˜¯æ²¡æœ‰å»é‡ç‚¹å¤ä¹ ã€‚å¦‚æœè¯´è¿™ç§‘èƒ½å¤Ÿå¤Ÿå›½å®¶çº¿çš„è¯ï¼Œæ²¡å‡†è¿˜çœŸèƒ½è¿›å¤è¯•äº†ï¼Œåªèƒ½è¯´ç­‰æˆç»©å‡ºæ¥å§ã€‚æˆ‘è‡ªå·±çŸ¥é“è‡ªå·±åšçš„æ€ä¹ˆæ ·ï¼Œæ‰€ä»¥æˆ‘æ„Ÿè§‰å¸Œæœ›æ¸ºèŒ«ã€‚</p><p>ä¸“ä¸šè¯¾æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œå¯¹äºä¸€ä¸ªå¸¸å¹´åœ¨oiæµ‘æ°´æ‘¸é±¼çš„äººæ¥è¯´ç®€ç›´å°±æ˜¯å¦‚é±¼å¾—æ°´ã€‚é¢˜ç›®éå¸¸ç®€å•ã€‚æ‹¿åˆ°è¯•å·çš„æ—¶å€™ç®€å•ç¿»çœ‹äº†ä¸€ä¸‹æœ€åé¢çš„DPï¼Œæ±‚ç›¸é‚»é¢œè‰²ä¸é‡å¤çš„æ¶‚é¢œè‰²æœ€å°ä»£ä»·çš„é—®é¢˜ã€‚ååœ¨è€ƒåœºä¸Šï¼Œå°½ç®¡é‚£å¤©æ˜¯é˜´å¤©ï¼Œæˆ‘å®›å¦‚åœ¨å¤•é˜³ä¸‹ååœ¨é—¨å£çš„è€å¤ªå¤ªï¼Œæ‰‹é‡Œä¸ç´§ä¸æ…¢åœ°æ‹©æ£‰èŠ±ï¼Œå¿ä¸ä½è½»å“¼èµ·æ¥ã€‚</p><p>è¿˜æœ‰ä¸€ä»¶å€¼å¾—è®°å½•çš„äº‹æƒ…ã€‚å°±æ˜¯åœ¨è€ƒç ”å‰ä¸€æ™šçš„æ—…åº—çš„åºŠä¸Šï¼Œæˆ‘å’Œä¸€èµ·è€ƒç ”çš„åŒå­¦æ‰‹æœºèŠå¤©è¯´å¦‚æœä¸­åˆæœ‰äººç»™æˆ‘ä¹°é¥­å°±å¥½äº†ï¼Œé‚£æˆ‘å°±ä¸ç”¨å»æŒ¤é£Ÿå ‚äº†ã€‚ç„¶åæˆ‘çªç„¶æƒ³åˆ°æˆ‘çœŸæœ‰ä¸€ä½ä¸è€ƒç ”çš„å¥½æœ‹å‹ï¼Œå¦‚æœä»–è¦æ˜¯æ¥äº†å²‚ä¸ç¾å“‰ã€‚å½“æœºç«‹æ–­åœ°å’Œä»–è°ˆè¯ï¼Œç„¶åç»™ä»–ä¹°äº†æœºç¥¨è®©ä»–èµ¶ç´§é£è¿‡æ¥ã€‚ä»–ä¹Ÿæ˜¯è¢«æˆ‘çš„æƒ³æ³•å“åˆ°äº†ï¼Œä¸è¿‡æœ€ç»ˆè¿˜æ˜¯æ¥äº†ã€‚ä¸è¿‡é£æœºæ˜¯è€ƒç ”ç¬¬ä¸€å¤©ä¸‹åˆåˆ°çš„ï¼Œæ‰€ä»¥ä»–ä¹Ÿå°±æ˜¯ç»™æˆ‘ä¹°äº†ç¬¬äºŒå¤©çš„åˆé¥­è€Œå·²ã€‚å…¶å®é¥­ä¸é¥­çš„ä¸é‡è¦ï¼Œæœ‰å¥½æœ‹å‹é™ªç€å°±æ˜¯å¤©å¤§çš„å¥½äº‹ã€‚è¿™æ˜¯ç»™ä»–ä¹°çš„æœºç¥¨æˆªå›¾ï¼š</p><p><img src="https://images.whff521.top/IMG_6368.jpg" alt="ticket"></p><p>ä¹‹åå°±æ˜¯è€ƒå®Œäº†ç„¶åé™ªä»–åœ¨åˆè‚¥ç©äº†ä¸¤å¤©ï¼Œå‘¨ä¸€ä¸Šåˆçš„åˆè‚¥åŠ¨ç‰©å›­æ²¡å‡ ä¸ªæ¸¸å®¢ï¼Œè·ŸåŒ…åœºäº†ä¸€æ ·ã€‚</p><p>å›åˆ°å®¿èˆä¹‹åç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠæ‰€æœ‰è€ƒç ”ç›¸å…³çš„ä¹¦éƒ½æ‰”äº†ï¼Œä¹¦æ¡Œæ¸…é™äº†ä¸€å¤§ç‰‡ã€‚ä¸‹é¢æ˜¯æ‰”ä¹‹å‰çºªå¿µçš„ç…§ç‰‡ï¼Œæ•°æ®ç»“æ„å’Œä¸€äº›æ•°å­¦çš„ä¹¦åœ¨æ—…é¦†çš„æ—¶å€™å°±æ‰”äº†ã€‚</p><p><img src="https://images.whff521.top/IMG_6395.JPG" alt="books"></p><h2 id="å¤ä¹ ä¹‹æ—…"><a href="#å¤ä¹ ä¹‹æ—…" class="headerlink" title="å¤ä¹ ä¹‹æ—…"></a>å¤ä¹ ä¹‹æ—…</h2><p>å›æƒ³èµ·2023å¹´åæœˆä»½å¥½åƒæ˜¯ï¼Œä¸€èµ·å’Œæˆ‘å‚åŠ CCSPçš„å­¦é•¿å’Œæˆ‘è¯´è€ƒç ”è¦è¶æ—©å‡†å¤‡ï¼Œæ•°å­¦åº”è¯¥ä»Šå¹´12æœˆä»½å°±å¼€å§‹å¤ä¹ äº†ã€‚å¦‚ä»Šæƒ³èµ·æ¥ä»–çš„è¯è¯´çš„éå¸¸æ­£ç¡®ï¼Œå¯æƒœæˆ‘å¹¶æ²¡æœ‰å»æ‰§è¡Œã€‚ç›´åˆ°æ¥å¹´çš„3ï¼Œ4æœˆæˆ‘æ‰ç³»ç»Ÿçš„å¼€å§‹å¤ä¹ æ•°å­¦ã€‚ä½†æ˜¯é‚£ä¸ªæ—¶å€™æ­£æ˜¯åŒå­¦ä»¬æ‰¾å·¥ä½œçš„é»„é‡‘æ—¶æœŸï¼Œæˆ‘ä¹Ÿæ˜¯è·Ÿç€ä»–ä»¬åšäº†ç®€å†æŠ•é€’å„å®¶å…¬å¸ï¼Œæ‰€ä»¥è€½è¯¯äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚</p><p>ä¸çŸ¥ä¸è§‰æš‘å‡éƒ½åˆ°äº†ï¼Œæˆ‘ä¾ç„¶æ²¡æœ‰è¿›å…¥åˆ°å¤ä¹ è€ƒç ”çš„çŠ¶æ€ï¼Œæ¯å¤©å°±æ˜¯çœ‹çœ‹ç½‘è¯¾ï¼Œåšåšæ•°æ®ç»“æ„çš„é¢˜ã€‚ç›´åˆ°æš‘å‡å¿«ç»“æŸäº†ï¼Œæˆ‘åŒå­¦ç»™æˆ‘å‘äº†ä¸€ä¸ªå¸•æ‹‰è¿ªå®‡çš„bç«™è§†é¢‘ã€‚æˆ‘æ‰å¤§æ¢¦åˆé†’ã€‚é‚£ä¸ªè§†é¢‘å·²ç»ä¸è®°å¾—è®²äº†ä»€ä¹ˆäº†ï¼Œä¸è¿‡ç¡®å®æ˜¯ç»™æˆ‘éª‚é†’äº†ã€‚æˆ‘æ„è¯†åˆ°æˆ‘ä¸èƒ½åœ¨æ··æ··åƒµåƒµæ··æ—¥å­äº†ï¼Œä¹Ÿæ˜¯åœ¨è¿™æ—¶å»ä¹°äº†å¥½å‡ æœ¬ç»ƒä¹ å†Œï¼Œå»è¿›å…¥åˆ°åˆ·é¢˜çš„çŠ¶æ€ã€‚ç”±äºå¼€å§‹æ—¶é—´å¾ˆæ™šï¼Œæ²¡è¿‡å‡ å¤©å°±æ˜¯ä¹æœˆä»½å¼€å­¦äº†ã€‚</p><p>å¥½åœ¨è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå¤§å››åº”è¯¥æ˜¯å®ä¹ çš„æ—¶é—´ï¼Œæ‰€ä»¥ä»€ä¹ˆè¯¾éƒ½æ²¡æœ‰äº†ï¼Œæˆ‘ä¹Ÿèƒ½å¤©å¤©è·‘å»å›¾ä¹¦é¦†å­¦ä¹ ã€‚æˆ‘åŸºæœ¬æ—¶é—´å®‰æ’æ˜¯ä¸Šåˆæ•°å­¦ï¼Œä¸‹åˆè‹±è¯­å’Œæ•°æ®ç»“æ„ã€‚åä¸€æœˆå¼€äº†æ”¿æ²»ï¼Œå¼€å§‹ç”¨å°ç¨‹åºåšé¢˜ï¼Œæ—¶é—´å®‰æ’åœ¨æ™šä¸Šã€‚æ—©ä¸Šä¹ç‚¹å­¦åˆ°ä¸­åˆåä¸€ç‚¹åŠå°±å»åƒé¥­ï¼Œä¸‹åˆä¸¤ç‚¹åŠå­¦åˆ°äº”ç‚¹åŠï¼Œæ™šé¥­è¿‡åå­¦åˆ°æ™šä¸Šå…«ç‚¹ã€‚å›åˆ°å®¿èˆåå…«ç‚¹åŠå‡ºå»æ“åœºåŒºåŸŸå»è·³ç»³ï¼Œå¼ºèº«å¥ä½“ã€‚æ¯å‘¨æ—¥ä¼‘æ¯ä¸€å¤©ï¼ˆä¸“å¿ƒæ‰“æ¸¸æˆä¸€å¤©ï¼‰ã€‚</p><p>ç”±äºè¿›å…¥å¤ä¹ çŠ¶æ€çš„æ—¶é—´èŠ‚ç‚¹å¤ªæ™šï¼Œè€Œä¸”æ˜¯åŠè·¯è½¬æ¢ç›®æ ‡ä»æ•°äºŒæ¢æˆæ•°ä¸€ï¼Œç€å®æ˜¯å¤ä¹ ä¸å®Œï¼Œæœ€åä»…ä»…æ˜¯å®Œæˆäº†å…¨éƒ¨çŸ¥è¯†ç‚¹çš„å­¦ä¹ ï¼Œåšçš„é¢˜ç›®è¿˜æ˜¯å¤ªå°‘äº†ã€‚è€Œä¸”åœ¨è€ƒåœºä¸Šå°½ç®¡æˆ‘èƒŒä¼šäº†å‚…é‡Œå¶çº§æ•°ç³»æ•°çš„å…¬å¼ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰ç®—å‡ºæ¥æœ€ç»ˆæ±‚å’Œçš„ç­”æ¡ˆï¼Œå½’æ ¹ç»“åº•è¿˜æ˜¯ä¸ä¼šåšé¢˜ã€‚</p><h2 id="å¾€å"><a href="#å¾€å" class="headerlink" title="å¾€å"></a>å¾€å</h2><p>ç°åœ¨ç»ˆäºä¸“å¿ƒè‡´å¿—ç©ç”µè„‘äº†ï¼Œå…ˆæŠŠå¤§éƒ¨åˆ†ç²¾åŠ›æ”¾åœ¨æ¯•ä¸šè®¾è®¡ä¸Šï¼Œå­¦æ—¥è¯­çš„è¿›ç¨‹ä¹Ÿä¸èƒ½æ”¾ä¸‹ã€‚èµ°ä¸€æ­¥æ˜¯ä¸€æ­¥äº†ï¼Œè¦å‡†å¤‡å¥½è¿›å…¥èŒåœºï¼Œèµ°å‘ç¤¾ä¼šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è°ˆ </tag>
            
            <tag> è€ƒç ” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºè‡ªä¸»å­¦ä¹ </title>
      <link href="/2024/12/19/%E5%85%B3%E4%BA%8E%E8%87%AA%E4%B8%BB%E5%AD%A6%E4%B9%A0/"/>
      <url>/2024/12/19/%E5%85%B3%E4%BA%8E%E8%87%AA%E4%B8%BB%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äºè‡ªä¸»å­¦ä¹ "><a href="#å…³äºè‡ªä¸»å­¦ä¹ " class="headerlink" title="å…³äºè‡ªä¸»å­¦ä¹ "></a>å…³äºè‡ªä¸»å­¦ä¹ </h1><p>æœ€è¿‘ä¹Ÿæ˜¯å› ä¸ºåœ¨è€ƒç ”ï¼Œä¼‘é—²æ—¶é—´ä¼šçœ‹ã€Šè§‰é†’å¹´ä»£ã€‹ï¼Œä»Šå¤©çœ‹åˆ°ä¸€ä¸ªè‹±è¯­ä½œæ–‡åœ¨è®²æ¿€åŠ±å¼æ•™è‚²ã€‚</p><p>æ¿€åŠ±å¼æ•™è‚²å¹¶ä¸å¯å–ï¼Œå› ä¸ºå¦‚æœæ¿€åŠ±æ¶ˆå¤±åï¼Œå­©å­å¾ˆéš¾å†æœ‰åŠ¨åŠ›å»å­¦ä¹ ã€‚</p><p>å­¦ä¹ ç©¶ç«Ÿæ˜¯ä¸ºäº†ä»€ä¹ˆï¼Œè¿™ä¸ªé—®é¢˜ç€å®éœ€è¦è‡ªå·±è®¤çœŸæ€è€ƒä¸€ä¸‹ã€‚</p><p>å°å­¦åˆ°å¤§å­¦çš„å­¦ä¹ å¯èƒ½éƒ½åªæ˜¯ä»…ä»…æƒ³è¦å‡å­¦åˆ°æ›´å¥½çš„å­¦æ ¡ã€‚æ‰€ä»¥åªéœ€è¦æŒ‰éƒ¨å°±ç­çš„å­¦ä¹ ï¼Œåšå¯¹è¯•å·ä¸Šçš„é¢˜ç›®å°±èƒ½ä¸€å¤©å¤©æ··æ—¥å­ã€‚ä»æ¥æ²¡æœ‰æƒ³è¿‡å­¦ä¹ æœ¬èº«åˆ°åº•æ˜¯ä»€ä¹ˆã€‚å­¦ä¹ æœ¬èº«ç»ä¸ä»…ä»…æ˜¯èƒŒè®¸å¤šè¯¾æ–‡ï¼Œå­¦è®¸å¤šè‹±è¯­å•è¯ï¼Œè€ƒå¾ˆé«˜çš„åˆ†æ•°ã€‚</p><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ï¼Ÿç›´åˆ°é«˜è€ƒåé€‰æ‹©ä¸“ä¸šæ—¶å¯èƒ½æ‰æ˜¯æŸäº›äººç¬¬ä¸€æ¬¡é—®è‡ªå·±æƒ³è¦å¹²ä»€ä¹ˆçš„æ—¶é—´ã€‚è‡ªå·±çš„ç†æƒ³å’Œæ¢¦æƒ³çš„è®¾ç«‹ï¼Œå†³å®šå’Œå½±å“ç€æˆ‘ä»¬äººç”Ÿæœªæ¥çš„å‘å±•ã€‚ä½†æ˜¯é•¿è¾¾ä¹å¹´çš„ä¹‰åŠ¡æ•™è‚²ï¼Œæ˜¯å¦ç»™è‡ªå·±æ ‘ç«‹äº†æ­£ç¡®çš„äººç”Ÿè§‚ä»·å€¼è§‚ä¸–ç•Œè§‚å‘¢ï¼Ÿæˆ‘è‡ªå·±å½“ç„¶æ˜¯æƒ³æˆä¸ºä¸€åç¨‹åºå‘˜ï¼Œå› ä¸ºç”µè„‘å·¥ä½œè€…å¾ˆé…·ï¼Œå¾ˆå¸…ï¼Œèƒ½å¤Ÿè§£å†³å¾ˆå¤šæœ‰è¶£çš„é—®é¢˜ï¼Œå®ç°å¾ˆå¤šä¾¿åˆ©çš„åŠŸèƒ½ã€‚</p><p>é‚£ä¹ˆå®ç°è‡ªå·±çš„æ¢¦æƒ³å°±æ˜¯éœ€è¦å­¦ä¹ ã€‚åˆ°äº†å¤§å­¦ä¹‹åå°±ä¸å…¨æ˜¯è€å¸ˆå¸¦ç€å­¦ç”Ÿæ­»ç£•è¯¾æœ¬çš„å­¦ä¹ æ¨¡å¼äº†ï¼Œè‡ªä¸»å­¦ä¹ ä¼šé€æ¸æˆä¸ºå¤§å­¦ç”Ÿå­¦ä¹ çš„å¸¸æ€ã€‚ä½ æƒ³è¦æˆä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œé‚£å°±å»è‡ªå­¦htmlï¼Œjsï¼Œcssï¼Œvueï¼Œreactç­‰ï¼Œæƒ³è¦å½“åç«¯å·¥ç¨‹å¸ˆå°±è¦åŠªåŠ›é’»ç ”spring bootï¼Œjavaï¼Œradisç­‰ã€‚</p><p>ä½†å®é™…ä¸Šè¿™ç§è‡ªä¸»å­¦ä¹ çš„ç›®çš„ä¹Ÿå¹¶ä¸å•çº¯ã€‚æ¯”å¦‚æƒ³è¦æˆä¸ºç¨‹åºå‘˜æ˜¯å› ä¸ºè–ªèµ„é«˜ï¼Œé‚£ä¹ˆåŠªåŠ›å­¦ä¹ çš„ç›®çš„å¯èƒ½å°±è½¬å˜æˆäº†ä¸ºäº†ä»¥åçš„è–ªèµ„ã€‚é‚£ä¹ˆå’Œæ¿€åŠ±å¼æ•™è‚²åˆæœ‰ä½•ä¸åŒå‘¢ï¼Ÿä¸è¿‡æ˜¯ä¸€ä¸ªæ˜¯çˆ¶æ¯ç»™ä½ ä¸œè¥¿ä¸€ä¸ªæ˜¯è€æ¿ç»™ä½ é’±ç½¢äº†ã€‚</p><p>ã€Šè§‰é†’å¹´ä»£ã€‹ä¸­ç¬¬ä¸€æ¬¡ä¸–ç•Œå¤§æˆ˜ç»“æŸåï¼Œä¸€å¥è¯ä¼ éä¸­å›½ï¼Œé‚£å°±æ˜¯â€œçœŸç†æˆ˜èƒœå¼ºæƒâ€ã€‚æˆ‘è§‰å¾—ï¼Œè¿½æ±‚çœŸç†çš„å­¦ä¹ æ‰æ˜¯çœŸæ­£çš„è‡ªä¸»å­¦ä¹ ã€‚è¿™æ˜¯ä¸€ç§çº¯ç²¹çš„ï¼Œå­¦æœ¯ä¸Šçš„ä»¥åŠå®è·µä¸Šçš„ï¼Œç§‘å­¦åœ°è®¤è¯†äº‹ç‰©å‘å±•è§„å¾‹çš„è¿‡ç¨‹ã€‚æ±‚çŸ¥çš„æ¬²æœ›ä»ç‰©è´¨çš„æ»¡è¶³è½¬åŒ–ä¸ºç²¾ç¥ä¸Šçš„æ»¡è¶³ã€‚ä½•ä¸ºçœŸç†ï¼ŸçœŸç†å³æ˜¯æ­£ç¡®çš„ï¼Œæ»¡è¶³äº‹ç‰©å‘å±•è§„å¾‹çš„ç†è®ºï¼Œèƒ½å¤ŸæœåŠ¡äºå¤§ä¼—ï¼ŒæœåŠ¡äºç¤¾ä¼šçš„ã€‚çœŸç†å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè€Œæ‹“å±•å’Œå»¶ä¼¸ï¼Œåº”ç”¨äºä¸‡äº‹ä¸‡ç‰©ã€‚</p><p>é‚£æˆ‘ä»¬ä¹‹å‰çš„å­¦ä¹ è¿˜æ˜¯å¦æœ‰æ„ä¹‰ï¼Ÿæˆ‘ä¸ç®¡ä»€ä¹ˆçœŸç†ï¼Œå‡ç†ï¼Œæˆ‘å­¦ä¹ å°±æ˜¯ä¸ºäº†é’±ï¼Œä¸ºäº†è‡ªå·±æœªæ¥çš„ç”Ÿæ´»ï¼Œè¿™è¡Œä¸è¡Œï¼Ÿè¿™å½“ç„¶è¡Œï¼Œå¤§è¡Œç‰¹è¡Œã€‚å¦‚æœå¦è®¤äº†è¿™ç§å­¦ä¹ ï¼Œå°±æ˜¯å¦è®¤äº†çœŸç†ã€‚äººä»¬å¸¸è¯´å¤±è´¥ä¹ƒæˆåŠŸä¹‹æ¯ï¼ŒçœŸç†çš„å‘ç°å’Œå½’çº³ä¹Ÿæ˜¯ä»æ— æ•°æ¬¡å¤±è´¥çš„å®è·µä¸­å¾—æ¥çš„ã€‚åªè¦æ˜¯å‰è¿›æ€§çš„å­¦ä¹ ï¼Œå°±ä¸èƒ½åœæ­‡ã€‚å·¨äººçš„è‚©è†€ä»æ¥ä¸æ˜¯ä¸€ä¸ªäººçš„è‚©è†€ï¼Œè€Œæ˜¯åƒåƒä¸‡ä¸‡çš„æ°‘ä¼—ç”¨åƒåƒä¸‡ä¸‡çš„å®è·µæ­å»ºå‡ºæ¥çš„ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€å¼€å§‹çš„å­¦ä¹ æ˜¯ä¸ºäº†ä¸€ä»½å¥½å·¥ä½œï¼Œé‚£ä¹ˆåœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ä½ ä¼šå¯¹è¿™ä»½â€œå¥½å·¥ä½œâ€æœ‰å¾ˆå¤šæ–°çš„è®¤è¯†ã€‚å“¦ï¼ŒåŸæ¥æ˜¯è¿™æ ·è§£å†³é—®é¢˜çš„ï¼›å“¦ï¼ŒåŸæ¥è¿˜å¯ä»¥è¿™æ ·ç”¨å—ã€‚å­¦äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ä¹‹åï¼Œä½ å¯èƒ½è§‰å¾—è‡ªå·±å·²ç»å¾ˆå¥½çš„æŒæ¡äº†è¿™ç§çŸ¥è¯†ï¼Œä¹Ÿèƒ½å¤Ÿèƒœä»»è¿™ä»½â€œå¥½å·¥ä½œäº†â€ã€‚å¾ˆå¤§æ¦‚ç‡ä½ ç¡®å®å¯ä»¥è·å¾—è¿™ä»½å·¥ä½œï¼Œé‚£ä¹‹åå‘¢ï¼Ÿä½ æƒ³è¿‡æ²¡æœ‰ï¼Œå­¦ä¹ çš„è¿™ä¸ªè¿‡ç¨‹è¿œè¿œæ²¡æœ‰åœæ­¢ã€‚åœ¨å·¥ä½œä¸Šä½ ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜ï¼Œå¾€å¾€è¿˜æ˜¯ä¹¦æœ¬ä¸Šï¼Œç½‘ç»œä¸Šæ²¡æœ‰æ•™ç»™ä½ çš„é—®é¢˜ã€‚èµ·åˆä½ å¯èƒ½ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´å»è§£å†³å¥‡æ€ªçš„é—®é¢˜ï¼Œä½†æ˜¯éšç€æ—¶é—´çš„æ¨ç§»ä½ ä¼šè¶Šæ¥è¶Šç†Ÿç»ƒï¼Œè¿™æ˜¯å› ä¸ºä»€ä¹ˆï¼Ÿè¿™æ­£æ˜¯æˆ‘è®²çš„â€œçœŸç†â€åœ¨èµ·ä½œç”¨ã€‚åœ¨å®è·µä¸­ä½ è¶Šæ¥è¶Šæ¥è¿‘â€œçœŸç†â€ï¼Œæ‰€ä»¥ä½ è¶Šæ¥è¶Šæ‡‚å¾—ç”¨â€œçœŸç†â€è§£å†³é—®é¢˜ã€‚æ‰€ä»¥ä½ è§£å†³é—®é¢˜çš„é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œå› ä¸ºè¿™äº›é—®é¢˜éƒ½æ˜¯åŒä¸€ç±»â€œçœŸç†â€çš„è¡ç”Ÿé—®é¢˜ã€‚</p><p>ä½†æ˜¯è¿˜æœ‰ä¸€ç±»é—®é¢˜æ˜¯æ— æ³•è§£å†³çš„ã€‚å°±æ˜¯æ¡†æ¶çš„ç‰©ç†é™åˆ¶ã€‚å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œè¿ç”¨çš„æ‰€æœ‰åŠŸèƒ½å¾€å¾€å–å†³äºæ¡†æ¶æä¾›äº†ä»€ä¹ˆåŠŸèƒ½ã€‚å¦‚æœæ¡†æ¶æ²¡æœ‰æä¾›è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œé—®é¢˜çš„è§£å†³éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œæœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯ä½ å»å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚é€šå¸¸æ¥è®²è¿™å°±æ˜¯å¼€æºé¡¹ç›®æˆå‘˜æ¯”è¾ƒå¤šçš„æä¾›è´¡çŒ®çš„ç†ç”±ã€‚åŠŸèƒ½çš„å®ç°è‚¯å®šä¸æ˜¯å‡­ç©ºæƒ³è±¡ï¼Œæˆ–è®¸æ˜¯å€Ÿé‰´äºå…¶ä»–æ¡†æ¶ï¼Œæˆ–è®¸æ˜¯å€Ÿé‰´äºç”Ÿæ´»ã€‚ä»ç”¨è½®å­åˆ°é€ è½®å­çš„è¿™ä¸€è¿‡ç¨‹ï¼Œç¦»ä¸å¼€è‡ªä¸»å­¦ä¹ ã€‚</p><p>ç›®çš„ä»…ä»…æ˜¯è¿½æ±‚çœŸç†å—ï¼Ÿè¿½æ±‚åˆ°çœŸç†ä¹‹åè¿˜æœ‰å­¦ä¼šå®£ä¼ çœŸç†ã€‚é€ äº†è½®å­æ²¡äººç”¨ï¼Œé‚£æ„ä¹‰å°±å¾®ä¹å…¶å¾®äº†ã€‚ä½†æ˜¯ç©¶ç«Ÿè¯¥æ€ä¹ˆå®£ä¼ æˆ‘å°šä¸å¾—çŸ¥ï¼Œä¹Ÿæ­£æ˜¯æˆ‘ä»¥åå­¦ä¹ åº”è¯¥æ³¨æ„åˆ°çš„ç‚¹å§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‚è°ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬36æ¬¡CCF CSPè®¡ç®—æœºè½¯ä»¶èƒ½åŠ›è®¤è¯è®°å½•</title>
      <link href="/2024/12/14/%E7%AC%AC36%E6%AC%A1CCF-CSP%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E4%BB%B6%E8%83%BD%E5%8A%9B%E8%AE%A4%E8%AF%81%E8%AE%B0%E5%BD%95/"/>
      <url>/2024/12/14/%E7%AC%AC36%E6%AC%A1CCF-CSP%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E4%BB%B6%E8%83%BD%E5%8A%9B%E8%AE%A4%E8%AF%81%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬36æ¬¡CCF-CSPè®¡ç®—æœºè½¯ä»¶èƒ½åŠ›è®¤è¯è®°å½•"><a href="#ç¬¬36æ¬¡CCF-CSPè®¡ç®—æœºè½¯ä»¶èƒ½åŠ›è®¤è¯è®°å½•" class="headerlink" title="ç¬¬36æ¬¡CCF CSPè®¡ç®—æœºè½¯ä»¶èƒ½åŠ›è®¤è¯è®°å½•"></a>ç¬¬36æ¬¡CCF CSPè®¡ç®—æœºè½¯ä»¶èƒ½åŠ›è®¤è¯è®°å½•</h1><p>æœ¬æ¬¡åº”è¯¥æ˜¯æˆ‘æœ€åä¸€æ¬¡å‚åŠ CSPäº†ï¼Œæ˜å¹´å°±æ¯•ä¸šäº†ã€‚é—æ†¾çš„æ˜¯è¿™æ¬¡ä¹Ÿä»…ä»…åªæ˜¯æ‹¿äº†300åˆ†ã€‚éœ€è¦èµ°çš„è·¯è¿˜å¾ˆè¿œå¾ˆè¿œã€‚</p><p><img src="https://images.whff521.top/csp300.png" alt="csp300"></p><p>ä»Šå¤©å»å®˜ç½‘çœ‹è§èƒ½æŠŠä»£ç ä¸‹è½½ä¸‹æ¥äº†ï¼Œå°±è®°å½•ä¸€ä¸‹ã€‚</p><p>ç„¶è€Œè¿™å¹¶ä¸æ˜¯å®Œæ•´çš„é¢˜è§£ï¼Œåªæ˜¯æˆ‘è‡ªèº«å¿ƒè·¯å†ç¨‹çš„è®°å½•ã€‚å¦‚æœæƒ³çœ‹å®Œæ•´çš„é¢˜è§£çš„è¯æˆ‘æ¨è<a href="https://www.cnblogs.com/luckyblock/p/18596275">è¿™ç¯‡åšå®¢</a></p><h2 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h2><p>ç®€å•æ¨¡æ‹Ÿç­¾åˆ°é¢˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">200</span>;</span><br><span class="line"><span class="type">int</span> n,k;</span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">types</span><span class="params">(<span class="type">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c==<span class="string">&#x27;f&#x27;</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">if</span>(c==<span class="string">&#x27;b&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span>(c==<span class="string">&#x27;l&#x27;</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">       <span class="keyword">if</span>(c==<span class="string">&#x27;r&#x27;</span>) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">walk</span><span class="params">(<span class="type">int</span> startx,<span class="type">int</span> starty,string s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="type">int</span> tempx = startx+dx[<span class="built_in">types</span>(s[i])];</span><br><span class="line">        <span class="type">int</span> tempy = starty+dy[<span class="built_in">types</span>(s[i])];</span><br><span class="line">        <span class="keyword">if</span>(tempx&lt;=<span class="number">0</span>||tempx&gt;n||tempy&lt;=<span class="number">0</span>||tempy&gt;n) <span class="keyword">continue</span>;</span><br><span class="line">        startx = tempx;</span><br><span class="line">        starty = tempy;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;startx&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;starty&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    string temp=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y&gt;&gt;temp;</span><br><span class="line">        <span class="built_in">walk</span>(x,y,temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">        <span class="built_in">work</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h2><p>æ²¡æœ‰æƒ³å‡ºæ¥æ­£è§£ï¼Œæš´åŠ›ç®—å‡ºæ¥æ¯ä¸ªä½ç½®bå˜æˆ0æ—¶éœ€è¦çš„æœ€å°‘wã€‚çœ‹åˆ«äººçš„åšæ³•åº”è¯¥æ˜¯ç”¨æ±‚å’Œå…¬å¼å†™ä¸ç­‰å¼ç„¶åç”¨å‰ç¼€å’Œåšã€‚å‡ºé¢˜äººçš„ä»æ…ˆï¼Œæš´åŠ›æœ‰80åˆ†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[mxlen],b[mxlen];</span><br><span class="line"><span class="type">int</span> needE[mxlen];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">work</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> originE = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i!=x) temp+=b[i];</span><br><span class="line">       temp-=a[i];</span><br><span class="line">        <span class="keyword">if</span>(temp&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            originE+=-temp;</span><br><span class="line">            temp = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> originE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;b[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="built_in">work</span>(i)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰é¢˜"><a href="#ç¬¬ä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰é¢˜"></a>ç¬¬ä¸‰é¢˜</h2><p>æ¨¡æ‹ŸCacheï¼Œï¼ˆå­¦è¿‡è®¡ç»„çš„æœ‰ç¦äº†ï¼‰ã€‚ä½†æ˜¯æœ€ååº”è¯¥æ˜¯å› ä¸ºç›´æ¥ç”¨äºŒç»´æ•°ç»„æš´åŠ›ç»´æŠ¤æœ€è¿‘ä½¿ç”¨çš„å†…å­˜æ‰€ä»¥TLEäº†ä¸€ä¸ªç‚¹ï¼Œåªæ‹¿äº†90åˆ†ã€‚èµ›åæƒ³èµ·æ¥å¦‚æœç”¨dequeå£°æ˜æ•°ç»„åšæŠŠæ’åºæ“ä½œæ—¶é—´å¤æ‚åº¦é™ä¸‹æ¥åº”è¯¥å°±èƒ½è¿‡äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">10000</span>;</span><br><span class="line"><span class="type">int</span> n,N;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    <span class="type">bool</span> changed;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">node v[mxlen][mxlen];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            v[i][j].id=<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">wirte</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;id&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;id&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">findInCache</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i=(id/n)%N;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i][j].id==<span class="number">-1</span>)<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(v[i][j].id==id) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loadCache</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> i=(id/n)%N;</span><br><span class="line">    node qw;</span><br><span class="line">    qw.id = id;qw.changed=<span class="number">0</span>;</span><br><span class="line">    <span class="type">bool</span> ok = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i][j].id==<span class="number">-1</span>)&#123;</span><br><span class="line">            v[i][j].id=qw.id;</span><br><span class="line">            v[i][j].changed = qw.changed;</span><br><span class="line">            ok=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ok) &#123;<span class="built_in">read</span>(id);;<span class="keyword">return</span>;&#125;</span><br><span class="line">    <span class="keyword">if</span>(v[i][n<span class="number">-1</span>].changed) <span class="built_in">wirte</span>(v[i][n<span class="number">-1</span>].id);</span><br><span class="line">    v[i][n<span class="number">-1</span>].id = qw.id;</span><br><span class="line">    v[i][n<span class="number">-1</span>].changed = qw.changed;</span><br><span class="line">    <span class="built_in">read</span>(id);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">wirteCache</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i=(id/n)%N;</span><br><span class="line">    <span class="type">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i][j].id==id)&#123;</span><br><span class="line">            pos = j;</span><br><span class="line">            v[i][j].changed = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    node temp;</span><br><span class="line">    temp.id = v[i][pos].id;</span><br><span class="line">    temp.changed = v[i][pos].changed;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=pos;j&gt;<span class="number">0</span>;j--)&#123;</span><br><span class="line">        v[i][j].id = v[i][j<span class="number">-1</span>].id;</span><br><span class="line">        v[i][j].changed = v[i][j<span class="number">-1</span>].changed;</span><br><span class="line">    &#125;</span><br><span class="line">    v[i][<span class="number">0</span>].id = temp.id;</span><br><span class="line">    v[i][<span class="number">0</span>].changed = temp.changed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">readInCache</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i=(id/n)%N;</span><br><span class="line">    <span class="type">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i][j].id==id)&#123;</span><br><span class="line">            pos = j;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    node temp;</span><br><span class="line">    temp.id = v[i][pos].id;</span><br><span class="line">    temp.changed = v[i][pos].changed;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=pos;j&gt;<span class="number">0</span>;j--)&#123;</span><br><span class="line">        v[i][j].id = v[i][j<span class="number">-1</span>].id;</span><br><span class="line">        v[i][j].changed = v[i][j<span class="number">-1</span>].changed;</span><br><span class="line">    &#125;</span><br><span class="line">    v[i][<span class="number">0</span>].id = temp.id;</span><br><span class="line">    v[i][<span class="number">0</span>].changed = temp.changed;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> type,a;</span><br><span class="line">        cin&gt;&gt;type&gt;&gt;a;</span><br><span class="line">        <span class="keyword">if</span>(type==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">findInCache</span>(a))&#123;</span><br><span class="line">                <span class="built_in">readInCache</span>(a);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">loadCache</span>(a);</span><br><span class="line">                <span class="built_in">readInCache</span>(a);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">findInCache</span>(a))&#123;</span><br><span class="line">                <span class="built_in">wirteCache</span>(a);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">loadCache</span>(a);</span><br><span class="line">                <span class="built_in">wirteCache</span>(a);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;N;</span><br><span class="line">        <span class="built_in">work</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¬¬å››é¢˜"><a href="#ç¬¬å››é¢˜" class="headerlink" title="ç¬¬å››é¢˜"></a>ç¬¬å››é¢˜</h2><p>è¿™é“é¢˜æ›´æ˜¯æ²¡æœ‰æ€è·¯ã€‚æ­£è§£åº”è¯¥æ˜¯DPã€‚èµ›åœºä¸Šåªæƒ³åˆ°äº†æŠŠæ‰€æœ‰èƒ½åˆ°çš„ç‚¹ç”¨è¾¹é•¿ä¸º1çš„è¾¹è¿æ¥ï¼Œç„¶ådijkstraæ±‚æœ€çŸ­è·¯ï¼Œåªæ‹¿äº†30åˆ†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">2e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[mxlen],k[mxlen];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">    ll v,w,next;</span><br><span class="line">&#125;G[mxlen];</span><br><span class="line">ll head[mxlen],cnt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(ll u,ll v,ll w)</span></span>&#123;</span><br><span class="line">    cnt++;</span><br><span class="line">    G[cnt].w=w;</span><br><span class="line">    G[cnt].v=v;</span><br><span class="line">    G[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    ll d,u;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> node&amp; t)<span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> d&gt;t.d;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// int pre[mxlen],last[mxlen],other[mxlen],len[mxlen],l;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void add(int x,int y,int z)&#123;</span></span><br><span class="line"><span class="comment">//     l++;</span></span><br><span class="line"><span class="comment">//     pre[l] = last[x];</span></span><br><span class="line"><span class="comment">//     last[x] = l;</span></span><br><span class="line"><span class="comment">//     other[l] = y;</span></span><br><span class="line"><span class="comment">//     len[l] = z;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">ll dis[mxlen];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis,<span class="number">0x3f</span>,<span class="built_in">sizeof</span>(dis));</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>((node)&#123;<span class="number">0</span>,<span class="number">1</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        node temp = q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        ll u =temp.u;</span><br><span class="line">        ll d = temp.d;</span><br><span class="line">        <span class="keyword">if</span>(d!=dis[u]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i;i=G[i].next)&#123;</span><br><span class="line">            ll v=G[i].v,w=G[i].w;</span><br><span class="line">            <span class="keyword">if</span>(dis[u]+w&lt;dis[v])&#123;</span><br><span class="line">                dis[v]=dis[u]+w;</span><br><span class="line">                q.<span class="built_in">push</span>((node)&#123;dis[v],v&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dis[n]==dis[<span class="number">0</span>]) <span class="built_in">printf</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,dis[n]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> T=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;k[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=<span class="built_in">min</span>(n,i+k[i]);j++)&#123;</span><br><span class="line">                <span class="built_in">add</span>(i,j-a[j],<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">work</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ€åæ—¶é—´ä¸å¤Ÿäº†ï¼Œä¹Ÿæ²¡æœ‰æ—¶é—´å»åˆ†ææœ€åä¸€é¢˜äº†ï¼Œçœ‹äº†ä¸€çœ¼æ ¹æœ¬æ²¡çœ‹æ‡‚å‘œå‘œå‘œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> csp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯•ä¸šè®¾è®¡day0</title>
      <link href="/2024/11/19/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1day0/"/>
      <url>/2024/11/19/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1day0/</url>
      
        <content type="html"><![CDATA[<h1 id="Day-0"><a href="#Day-0" class="headerlink" title="Day 0"></a>Day 0</h1><p>æ­¤ä¸ºè®°å½•æ¯•ä¸šè®¾è®¡ä¸­ä»£ç å®ç°åŠŸèƒ½è®°å½•çš„ç³»åˆ—ã€‚</p><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>ç›®å‰åªæ˜¯åˆ›å»ºäº†é¡¹ç›®åˆå§‹æ–‡ä»¶å’Œgitä»“åº“ï¼Œç”±äºå°šæœªå®Œæˆï¼Œæ‰€ä»¥githubä»“åº“æš‚ä¸ºç§æœ‰ä¸å…¬å¼€çŠ¶æ€ã€‚</p><h3 id="åç«¯-SpringBoot"><a href="#åç«¯-SpringBoot" class="headerlink" title="åç«¯ SpringBoot"></a>åç«¯ SpringBoot</h3><p>åˆ›å»ºé¡¹ç›®æˆªå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://images.whff521.top/Screenshot%202024-11-19%20at%2010.58.59.png" alt="springboot1"></p><p><img src="https://images.whff521.top/Screenshot%202024-11-19%20at%2011.00.43.png" alt="springboot2"></p><p>Mavenä»“åº“ï¼Œjava17ï¼ŒjaråŒ…ï¼ŒSpring Boot 3.3.5ï¼Œé¢„è£…æ’ä»¶ä¸º MySQL Driverï¼ŒLombokï¼ŒSpring Web</p><h3 id="å‰ç«¯-Android"><a href="#å‰ç«¯-Android" class="headerlink" title="å‰ç«¯ Android"></a>å‰ç«¯ Android</h3><p>åˆ›å»ºæˆªå›¾å¦‚ä¸‹ï¼š</p><p><img src="https://images.whff521.top/Screenshot%202024-11-17%20at%2018.56.37.png" alt="android"></p><p>javaç¼–å†™ï¼Œ Minimum SDKï¼šAPI24(Android 7.0),Groovy DSL æ„å»ºã€‚</p><p>å› ä¸ºæ„Ÿè§‰å¥½ç©ï¼Œåˆå§‹é€‰äº†Android Studioç»™çš„Navigation Drawer Views Activityï¼Œç°åœ¨ç”¨è¿™ç§å¸ƒå±€çš„è½¯ä»¶æ¯”è¾ƒå°‘ï¼Œæ‰“ç®—åšä¸€ä¸ªå’Œå°çº¢ä¹¦å·®ä¸å¤šçš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¯•ä¸šè®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯•ä¸šè®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åº</title>
      <link href="/2024/10/31/%E6%8E%92%E5%BA%8F/"/>
      <url>/2024/10/31/%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><p>åœ¨æ•°æ®ç»“æ„ä¸­ï¼Œ<strong>æ’åº</strong>ï¼ˆSortingï¼‰æŒ‡çš„æ˜¯å°†ä¸€ä¸ªæ•°æ®é›†åˆä¸­çš„å…ƒç´ æŒ‰æŒ‡å®šé¡ºåºé‡æ–°æ’åˆ—çš„è¿‡ç¨‹ã€‚æ’åºæ˜¯è®¡ç®—æœºç§‘å­¦çš„åŸºæœ¬æ“ä½œä¹‹ä¸€ï¼Œå¯¹æ•°æ®å¤„ç†å’Œåˆ†æå…·æœ‰é‡è¦ä½œç”¨ã€‚æ’åºçš„ç»“æœé€šå¸¸æ˜¯æŒ‰ä»å°åˆ°å¤§ï¼ˆå‡åºï¼‰æˆ–ä»å¤§åˆ°å°ï¼ˆé™åºï¼‰æ’åˆ—çš„æœ‰åºåºåˆ—ã€‚</p><h2 id="æ’åºçš„åŸºæœ¬æ¦‚å¿µ"><a href="#æ’åºçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ’åºçš„åŸºæœ¬æ¦‚å¿µ"></a>æ’åºçš„åŸºæœ¬æ¦‚å¿µ</h2><ol><li><p><strong>å†…éƒ¨æ’åºå’Œå¤–éƒ¨æ’åº</strong>ï¼š</p><ul><li><strong>å†…éƒ¨æ’åº</strong>ï¼šæ•°æ®é‡è¾ƒå°ï¼Œèƒ½å¤Ÿå°†æ‰€æœ‰å¾…æ’åºçš„è®°å½•ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ä¸­å®Œæˆæ’åºã€‚</li><li><strong>å¤–éƒ¨æ’åº</strong>ï¼šæ•°æ®é‡è¾ƒå¤§ï¼Œæ— æ³•ä¸€æ¬¡åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œéœ€è¦å€ŸåŠ©å¤–å­˜ï¼ˆå¦‚ç¡¬ç›˜ï¼‰åˆ†æ‰¹æ¬¡å¤„ç†å¹¶æ’åºã€‚</li></ul></li><li><p><strong>ç¨³å®šæ€§</strong>ï¼š</p><ul><li><strong>ç¨³å®šæ’åº</strong>ï¼šè‹¥ä¸¤ä¸ªç›¸ç­‰çš„å…ƒç´ åœ¨æ’åºå‰åçš„ç›¸å¯¹ä½ç½®ä¸å˜ï¼Œåˆ™æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ã€‚ä¾‹å¦‚ï¼Œè‹¥è®°å½•æœ‰ç›¸åŒçš„é”®å€¼ï¼Œç¨³å®šæ’åºä¼šä¿æŒå®ƒä»¬çš„åˆå§‹é¡ºåºã€‚</li><li><strong>ä¸ç¨³å®šæ’åº</strong>ï¼šå¯èƒ½ä¼šæ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ã€‚</li></ul></li><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šæ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸ä»¥ $O(n^2)$ æˆ– $O(n \log n)$ ä¸ºä¸»ï¼Œå†³å®šäº†å…¶åœ¨ä¸åŒè§„æ¨¡æ•°æ®ä¸Šçš„æ•ˆç‡ã€‚</p></li><li><p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šç®—æ³•åœ¨æ’åºè¿‡ç¨‹ä¸­é¢å¤–å ç”¨çš„å­˜å‚¨ç©ºé—´ã€‚éƒ¨åˆ†æ’åºç®—æ³•åªéœ€å°‘é‡è¾…åŠ©ç©ºé—´ï¼ˆå¦‚åŸåœ°æ’åºï¼‰ï¼Œè€Œæœ‰äº›åˆ™éœ€è¦è¾ƒå¤šçš„è¾…åŠ©ç©ºé—´ã€‚</p></li><li><p><strong>æ’åºç®—æ³•çš„é€‚ç”¨åœºæ™¯</strong>ï¼šæ ¹æ®æ•°æ®é‡ã€æ•°æ®ç‰¹æ€§ï¼ˆå¦‚æ˜¯å¦è¿‘ä¼¼æœ‰åºï¼‰ä»¥åŠç¨³å®šæ€§è¦æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•ã€‚</p></li></ol><h2 id="å¸¸è§çš„æ’åºç®—æ³•åŠå…¶ç‰¹æ€§"><a href="#å¸¸è§çš„æ’åºç®—æ³•åŠå…¶ç‰¹æ€§" class="headerlink" title="å¸¸è§çš„æ’åºç®—æ³•åŠå…¶ç‰¹æ€§"></a>å¸¸è§çš„æ’åºç®—æ³•åŠå…¶ç‰¹æ€§</h2><h3 id="1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰ï¼š"><a href="#1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰ï¼š" class="headerlink" title="1. å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰ï¼š"></a>1. <strong>å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šé€šè¿‡é‡å¤éå†å¾…æ’åºçš„åºåˆ—ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå°†è¾ƒå¤§æˆ–è¾ƒå°çš„å…ƒç´ å‘åäº¤æ¢ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(n^2)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šç®€å•ä½†æ•ˆç‡ä½ï¼Œé€‚ç”¨äºæ•°æ®é‡å°çš„æƒ…å†µã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="type">bool</span> swapped = <span class="literal">false</span>; <span class="comment">// ç”¨äºæ£€æµ‹æ˜¯å¦å‘ç”Ÿäº¤æ¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// äº¤æ¢ arr[j] å’Œ arr[j + 1]</span></span><br><span class="line">                <span class="type">int</span> temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                swapped = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœåœ¨ä¸€è½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œè¯´æ˜æ•°ç»„å·²æ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (!swapped) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">64</span>, <span class="number">34</span>, <span class="number">25</span>, <span class="number">12</span>, <span class="number">22</span>, <span class="number">11</span>, <span class="number">90</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">bubbleSort</span>(arr, n);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Sorted array: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰ï¼š"><a href="#2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰ï¼š" class="headerlink" title="2. é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰ï¼š"></a>2. <strong>é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šæ¯æ¬¡ä»æœªæ’åºéƒ¨åˆ†é€‰æ‹©æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å…ƒç´ ï¼Œæ”¾åœ¨å·²æ’åºéƒ¨åˆ†çš„æœ«å°¾ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(n^2)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šå‡å°‘äº†äº¤æ¢æ¬¡æ•°ï¼Œä½†ä¾ç„¶ä¸é€‚åˆå¤§å‹æ•°æ®ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®š</li></ul><h3 id="3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰ï¼š"><a href="#3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰ï¼š" class="headerlink" title="3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰ï¼š"></a>3. <strong>æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šå°†å¾…æ’åºæ•°æ®åˆ†æˆå·²æ’åºå’Œæœªæ’åºä¸¤éƒ¨åˆ†ï¼Œé€ä¸ªå°†æœªæ’åºå…ƒç´ æ’å…¥å·²æ’åºéƒ¨åˆ†çš„æ­£ç¡®ä½ç½®ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(n^2)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šé€‚ç”¨äºå°è§„æ¨¡æˆ–è¿‘ä¹æœ‰åºçš„åºåˆ—ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertionSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> key = arr[i];</span><br><span class="line">        <span class="type">int</span> j = i - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å°†å½“å‰å…ƒç´ æ’å…¥åˆ°å·²æ’åºéƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; key) &#123;</span><br><span class="line">            arr[j + <span class="number">1</span>] = arr[j];</span><br><span class="line">            j = j - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[j + <span class="number">1</span>] = key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">insertionSort</span>(arr, n);</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Sorted array: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="4-å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰ï¼š"><a href="#4-å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰ï¼š" class="headerlink" title="4. å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰ï¼š"></a>4. <strong>å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šé‡‡ç”¨åˆ†æ²»æ³•ï¼Œå°†æ•°æ®åˆ†æˆå­åºåˆ—åˆ†åˆ«æ’åºï¼Œå†å°†æœ‰åºå­åºåˆ—åˆå¹¶ä¸ºå®Œæ•´åºåˆ—ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(n \log n)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šæ•ˆç‡é«˜ï¼Œé€‚ç”¨äºå¤§å‹æ•°æ®é›†ï¼Œä½†éœ€è¦é¢å¤–å­˜å‚¨ç©ºé—´ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> left, <span class="type">int</span> mid, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n1 = mid - left + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n2 = right - mid;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸´æ—¶æ•°ç»„</span></span><br><span class="line">    <span class="type">int</span>* leftArr = <span class="keyword">new</span> <span class="type">int</span>[n1];</span><br><span class="line">    <span class="type">int</span>* rightArr = <span class="keyword">new</span> <span class="type">int</span>[n2];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ•°æ®åˆ°ä¸´æ—¶æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n1; i++)</span><br><span class="line">        leftArr[i] = arr[left + i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n2; j++)</span><br><span class="line">        rightArr[j] = arr[mid + <span class="number">1</span> + j];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶ä¸´æ—¶æ•°ç»„åˆ°åŸæ•°ç»„</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = left;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; n1 &amp;&amp; j &lt; n2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (leftArr[i] &lt;= rightArr[j]) &#123;</span><br><span class="line">            arr[k] = leftArr[i];</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[k] = rightArr[j];</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´å‰©ä½™å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; n1) &#123;</span><br><span class="line">        arr[k] = leftArr[i];</span><br><span class="line">        i++;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (j &lt; n2) &#123;</span><br><span class="line">        arr[k] = rightArr[j];</span><br><span class="line">        j++;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡Šæ”¾ä¸´æ—¶æ•°ç»„</span></span><br><span class="line">    <span class="keyword">delete</span>[] leftArr;</span><br><span class="line">    <span class="keyword">delete</span>[] rightArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergeSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’æ’åºå·¦å³ä¸¤éƒ¨åˆ†</span></span><br><span class="line">        <span class="built_in">mergeSort</span>(arr, left, mid);</span><br><span class="line">        <span class="built_in">mergeSort</span>(arr, mid + <span class="number">1</span>, right);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå¹¶æ’åºåçš„ä¸¤éƒ¨åˆ†</span></span><br><span class="line">        <span class="built_in">merge</span>(arr, left, mid, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">mergeSort</span>(arr, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Sorted array: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="5-å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰ï¼š"><a href="#5-å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰ï¼š" class="headerlink" title="5. å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ï¼š"></a>5. <strong>å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šåŒæ ·é‡‡ç”¨åˆ†æ²»æ³•ï¼Œé€šè¿‡é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ å°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå†å¯¹æ¯éƒ¨åˆ†é€’å½’æ’åºã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šå¹³å‡ $O(n \log n)$ï¼Œæœ€å·® $O(n^2)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šé€šå¸¸æ¯”å…¶ä»–æ’åºç®—æ³•å¿«ï¼Œé€‚åˆå¤§å‹æ•°æ®é›†ï¼Œä½†å¯¹æœ‰åºæ•°ç»„æ€§èƒ½ä¸ä½³ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span>&amp; a, <span class="type">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> low, <span class="type">int</span> high)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> pivot = arr[high]; <span class="comment">// é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºæ¢è½´</span></span><br><span class="line">    <span class="type">int</span> i = low - <span class="number">1</span>;       <span class="comment">// i æ˜¯è¾ƒå°å…ƒç´ çš„ç´¢å¼•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = low; j &lt; high; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[j] &lt; pivot) &#123; </span><br><span class="line">            i++;</span><br><span class="line">            <span class="built_in">swap</span>(arr[i], arr[j]); <span class="comment">// å°†è¾ƒå°çš„å…ƒç´ äº¤æ¢åˆ°å‰é¢</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(arr[i + <span class="number">1</span>], arr[high]); <span class="comment">// å°†æ¢è½´æ”¾åˆ°æ­£ç¡®ä½ç½®</span></span><br><span class="line">    <span class="keyword">return</span> i + <span class="number">1</span>;                <span class="comment">// è¿”å›æ¢è½´çš„ç´¢å¼•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> low, <span class="type">int</span> high)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="type">int</span> pi = <span class="built_in">partition</span>(arr, low, high); <span class="comment">// è·å–åˆ†åŒºç´¢å¼•</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">quickSort</span>(arr, low, pi - <span class="number">1</span>); <span class="comment">// é€’å½’æ’åºå·¦åŠéƒ¨åˆ†</span></span><br><span class="line">        <span class="built_in">quickSort</span>(arr, pi + <span class="number">1</span>, high); <span class="comment">// é€’å½’æ’åºå³åŠéƒ¨åˆ†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">10</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">quickSort</span>(arr, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Sorted array: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="6-å †æ’åºï¼ˆHeap-Sortï¼‰ï¼š"><a href="#6-å †æ’åºï¼ˆHeap-Sortï¼‰ï¼š" class="headerlink" title="6. å †æ’åºï¼ˆHeap Sortï¼‰ï¼š"></a>6. <strong>å †æ’åºï¼ˆHeap Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šåˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„è¿›è¡Œæ’åºï¼Œå°†æ•°ç»„æ„å»ºæˆæœ€å¤§å †æˆ–æœ€å°å †ï¼Œé€æ­¥å–å‡ºå †é¡¶å…ƒç´ æ’åºã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(n \log n)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šæ—¶é—´å¤æ‚åº¦ç¨³å®šï¼Œä½†ä¸é€‚åˆå°è§„æ¨¡æ•°æ®ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†èŠ‚ç‚¹ i åŠå…¶å­æ ‘è°ƒæ•´ä¸ºæœ€å¤§å †</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapify</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n, <span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> largest = i;         <span class="comment">// å°†å½“å‰èŠ‚ç‚¹ i è®¾ä¸ºæœ€å¤§å€¼</span></span><br><span class="line">    <span class="type">int</span> left = <span class="number">2</span> * i + <span class="number">1</span>;    <span class="comment">// å·¦å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="type">int</span> right = <span class="number">2</span> * i + <span class="number">2</span>;   <span class="comment">// å³å­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå·¦å­èŠ‚ç‚¹å¤§äºå½“å‰æœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (left &lt; n &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class="line">        largest = left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå³å­èŠ‚ç‚¹å¤§äºå½“å‰æœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (right &lt; n &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class="line">        largest = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæœ€å¤§å€¼ä¸æ˜¯å½“å‰èŠ‚ç‚¹ï¼Œåˆ™äº¤æ¢å¹¶é€’å½’è°ƒæ•´</span></span><br><span class="line">    <span class="keyword">if</span> (largest != i) &#123;</span><br><span class="line">        std::<span class="built_in">swap</span>(arr[i], arr[largest]);</span><br><span class="line">        <span class="built_in">heapify</span>(arr, n, largest);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸»å †æ’åºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å»ºç«‹æœ€å¤§å †</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="built_in">heapify</span>(arr, n, i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€ä¸€æå–å…ƒç´ ï¼Œé‡å»ºæœ€å¤§å †</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        std::<span class="built_in">swap</span>(arr[<span class="number">0</span>], arr[i]); <span class="comment">// å°†å †é¡¶å…ƒç´ ç§»åˆ°æ•°ç»„æœ«å°¾</span></span><br><span class="line">        <span class="built_in">heapify</span>(arr, i, <span class="number">0</span>);         <span class="comment">// å¯¹å‰©ä½™çš„å…ƒç´ é‡æ–°è¿›è¡Œå †åŒ–</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">heapSort</span>(arr, n);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Sorted array: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="7-å¸Œå°”æ’åºï¼ˆShell-Sortï¼‰ï¼š"><a href="#7-å¸Œå°”æ’åºï¼ˆShell-Sortï¼‰ï¼š" class="headerlink" title="7. å¸Œå°”æ’åºï¼ˆShell Sortï¼‰ï¼š"></a>7. <strong>å¸Œå°”æ’åºï¼ˆShell Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šæ’å…¥æ’åºçš„æ”¹è¿›ç‰ˆï¼Œé€æ­¥å°†æ•°æ®åˆ†ç»„å¹¶è¿›è¡Œæ’å…¥æ’åºï¼Œæœ€åæ•´ä½“æ’åºã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šä»‹äº $O(n)$ å’Œ $O(n^2)$ ä¹‹é—´ï¼Œå…·ä½“å–å†³äºå¢é‡åºåˆ—ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼šç›¸å¯¹é«˜æ•ˆï¼Œå°¤å…¶åœ¨æ•°æ®é‡è¾ƒå¤§æ—¶ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®š</li></ul><h3 id="8-è®¡æ•°æ’åºï¼ˆCounting-Sortï¼‰ï¼š"><a href="#8-è®¡æ•°æ’åºï¼ˆCounting-Sortï¼‰ï¼š" class="headerlink" title="8. è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰ï¼š"></a>8. <strong>è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šé€‚åˆæ•°æ®èŒƒå›´è¾ƒå°çš„æ•´æ•°åºåˆ—ï¼Œé€šè¿‡ç»Ÿè®¡æ•°æ®å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(n + k)$ï¼Œå…¶ä¸­ $k$ ä¸ºæ•°å€¼èŒƒå›´ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼šéå¸¸é«˜æ•ˆï¼Œä½†ä»…é€‚ç”¨äºç‰¹å®šåœºæ™¯ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®š</li></ul><h3 id="9-åŸºæ•°æ’åºï¼ˆRadix-Sortï¼‰ï¼š"><a href="#9-åŸºæ•°æ’åºï¼ˆRadix-Sortï¼‰ï¼š" class="headerlink" title="9. åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰ï¼š"></a>9. <strong>åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šæŒ‰æ•°ä½æˆ–å­—ç¬¦ä½ç½®é€æ­¥æ’åºï¼Œé€‚åˆæ•´æ•°æˆ–å­—ç¬¦ä¸²ç­‰å®šé•¿æ•°æ®ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$O(d \times (n + k))$ï¼Œå…¶ä¸­ $d$ æ˜¯ä½æ•°ï¼Œ$k$ ä¸ºåŸºæ•°ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼šé€‚ç”¨äºæ•°å€¼æˆ–å­—ç¬¦æ•°æ®ï¼Œæ•ˆç‡é«˜ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ•°ç»„ä¸­æœ€å¤§å…ƒç´ çš„å€¼</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMax</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> max = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &gt; max) &#123;</span><br><span class="line">            max = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡æ•°æ’åºï¼Œç”¨äºæŒ‰ç‰¹å®šä½æ•°å¯¹æ•°ç»„æ’åº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">countSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n, <span class="type">int</span> exp)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span>* output = <span class="keyword">new</span> <span class="type">int</span>[n]; <span class="comment">// è¾“å‡ºæ•°ç»„</span></span><br><span class="line">    <span class="type">int</span> count[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;      <span class="comment">// è®¡æ•°æ•°ç»„ï¼ˆåŸºæ•°èŒƒå›´ä¸º 0 åˆ° 9ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»Ÿè®¡åœ¨å½“å‰ä½æ•°å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        count[(arr[i] / exp) % <span class="number">10</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—ç´¯ç§¯å’Œï¼Œæ›´æ–° count æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        count[i] += count[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„å»ºè¾“å‡ºæ•°ç»„ï¼ŒæŒ‰å½“å‰ä½æ•°æ’åº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="type">int</span> index = (arr[i] / exp) % <span class="number">10</span>;</span><br><span class="line">        output[count[index] - <span class="number">1</span>] = arr[i];</span><br><span class="line">        count[index]--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æ’åºå¥½çš„æ•°æ®æ‹·è´å›åŸæ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        arr[i] = output[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span>[] output;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºæ•°æ’åºçš„ä¸»å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">radixSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> max = <span class="built_in">getMax</span>(arr, n); <span class="comment">// è·å–æœ€å¤§å…ƒç´ ä»¥ç¡®å®šæœ€é«˜ä½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹æ¯ä¸€ä½æ•°è¿›è¡Œè®¡æ•°æ’åº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> exp = <span class="number">1</span>; max / exp &gt; <span class="number">0</span>; exp *= <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="built_in">countSort</span>(arr, n, exp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">170</span>, <span class="number">45</span>, <span class="number">75</span>, <span class="number">90</span>, <span class="number">802</span>, <span class="number">24</span>, <span class="number">2</span>, <span class="number">66</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">radixSort</span>(arr, n);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Sorted array: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        std::cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>ä»£ç è¯´æ˜:</li></ul><ol><li><code>getMax</code> å‡½æ•°ç”¨äºæ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼Œç¡®å®šæ’åºè¿‡ç¨‹ä¸­æœ€é«˜çš„ä½æ•°ã€‚</li><li><code>countSort</code> å‡½æ•°å®ç°äº†é’ˆå¯¹å½“å‰ä½æ•°çš„è®¡æ•°æ’åºã€‚<code>exp</code> è¡¨ç¤ºå½“å‰å¤„ç†çš„ä½æ•°ï¼ˆä¾‹å¦‚ï¼Œä¸ªä½ã€åä½ç­‰ï¼‰ï¼Œé€šè¿‡ <code>arr[i] / exp % 10</code> æå–è¯¥ä½ä¸Šçš„æ•°å­—ã€‚</li><li><code>radixSort</code> å‡½æ•°è°ƒç”¨ <code>countSort</code>ï¼Œä»æœ€ä½ä½å¼€å§‹å¯¹æ•°ç»„è¿›è¡Œå¤šè½®æ’åºï¼Œç›´åˆ°æœ€é«˜ä½ã€‚<br>åŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º $O(d \cdot (n + k))$ï¼Œå…¶ä¸­ $d$ æ˜¯æ•°å­—çš„æœ€å¤§ä½æ•°ï¼Œ$n$ æ˜¯æ•°ç»„é•¿åº¦ï¼Œ$k$ æ˜¯åŸºæ•°ï¼ˆé€šå¸¸ä¸º10ï¼‰ã€‚åœ¨å¤„ç†æ•´æ•°çš„æƒ…å†µä¸‹ï¼Œå®ƒé€šå¸¸è¢«è®¤ä¸ºæ˜¯çº¿æ€§æ—¶é—´æ’åºç®—æ³•ã€‚</li></ol><h3 id="10-æ¡¶æ’åºï¼ˆBucket-Sortï¼‰ï¼š"><a href="#10-æ¡¶æ’åºï¼ˆBucket-Sortï¼‰ï¼š" class="headerlink" title="10. æ¡¶æ’åºï¼ˆBucket Sortï¼‰ï¼š"></a>10. <strong>æ¡¶æ’åºï¼ˆBucket Sortï¼‰</strong>ï¼š</h3><ul><li><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šå°†æ•°æ®åˆ†åˆ°ä¸åŒçš„æ¡¶ä¸­ï¼Œç„¶åå¯¹æ¯ä¸ªæ¡¶è¿›è¡Œæ’åºï¼Œæœ€ååˆå¹¶æ¡¶ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šå¹³å‡ $O(n + k)$</li><li><strong>ç‰¹ç‚¹</strong>ï¼šé€‚åˆæ•°æ®åˆ†å¸ƒå‡åŒ€çš„æƒ…å†µã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®šï¼ˆå–å†³äºæ¡¶å†…æ’åºæ–¹æ³•ï¼‰</li></ul><h2 id="é€‰æ‹©æ’åºç®—æ³•çš„ä¾æ®"><a href="#é€‰æ‹©æ’åºç®—æ³•çš„ä¾æ®" class="headerlink" title="é€‰æ‹©æ’åºç®—æ³•çš„ä¾æ®"></a>é€‰æ‹©æ’åºç®—æ³•çš„ä¾æ®</h2><p>æ ¹æ®æ•°æ®ç‰¹æ€§å’Œéœ€æ±‚ï¼Œé€‰æ‹©æ’åºç®—æ³•æ—¶ä¸€èˆ¬è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š</p><ul><li><strong>æ•°æ®è§„æ¨¡</strong>ï¼šæ•°æ®è§„æ¨¡å°å¯ä»¥é€‰æ‹©ç®€å•ç®—æ³•ï¼ˆå¦‚æ’å…¥ã€é€‰æ‹©ã€å†’æ³¡ï¼‰ï¼Œè§„æ¨¡è¾ƒå¤§å¯ä»¥è€ƒè™‘å¿«é€Ÿæ’åºæˆ–å½’å¹¶æ’åºã€‚</li><li><strong>æ•°æ®ç‰¹æ€§</strong>ï¼šè‹¥æ•°æ®æ¥è¿‘æœ‰åºï¼Œé€‰æ‹©æ’å…¥æ’åºï¼›å¯¹äºæ•´æ•°èŒƒå›´è¾ƒå°çš„æ•°æ®ï¼Œå¯ä»¥é€‰æ‹©è®¡æ•°æ’åºã€‚</li><li><strong>ç¨³å®šæ€§è¦æ±‚</strong>ï¼šéœ€è¦ç¨³å®šçš„æ’åºç®—æ³•å¯ä»¥é€‰æ‹©å½’å¹¶æ’åºã€è®¡æ•°æ’åºã€åŸºæ•°æ’åºç­‰ã€‚</li><li><strong>ç©ºé—´è¦æ±‚</strong>ï¼šå¯¹ç©ºé—´è¦æ±‚è¾ƒé«˜çš„åœºæ™¯å¯ä¼˜å…ˆè€ƒè™‘å †æ’åºæˆ–å¿«é€Ÿæ’åºï¼ˆå¯åŸåœ°æ’åºï¼‰ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾</title>
      <link href="/2024/10/31/%E5%9B%BE/"/>
      <url>/2024/10/31/%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a>å›¾</h1><p><strong>å›¾ï¼ˆGraphï¼‰</strong> æ˜¯ä¸€ç§ç”¨äºè¡¨ç¤ºå…³ç³»çš„éçº¿æ€§æ•°æ®ç»“æ„ï¼Œç”±<strong>é¡¶ç‚¹ï¼ˆèŠ‚ç‚¹ï¼ŒVertices/Nodesï¼‰</strong>å’Œ<strong>è¾¹ï¼ˆEdgesï¼‰</strong>ç»„æˆï¼Œè¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚å›¾çš„æ¦‚å¿µé€‚ç”¨äºå¾ˆå¤šåœºæ™¯ï¼Œæ¯”å¦‚ç¤¾äº¤ç½‘ç»œï¼ˆç”¨æˆ·å’Œå¥½å‹å…³ç³»ï¼‰ã€åœ°å›¾ï¼ˆåŸå¸‚å’Œè·¯çº¿ï¼‰ç­‰ã€‚</p><h2 id="å›¾çš„åŸºæœ¬æ¦‚å¿µ"><a href="#å›¾çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="å›¾çš„åŸºæœ¬æ¦‚å¿µ"></a>å›¾çš„åŸºæœ¬æ¦‚å¿µ</h2><ol><li><strong>é¡¶ç‚¹ï¼ˆVertexï¼‰</strong>ï¼šå›¾ä¸­çš„åŸºæœ¬å•ä½ï¼Œè¡¨ç¤ºå®ä½“æˆ–å¯¹è±¡ã€‚</li><li><strong>è¾¹ï¼ˆEdgeï¼‰</strong>ï¼šè¿æ¥ä¸¤ä¸ªé¡¶ç‚¹çš„çº¿ï¼Œè¡¨ç¤ºå®ƒä»¬ä¹‹é—´çš„å…³ç³»æˆ–è·¯å¾„ã€‚</li><li><strong>æœ‰å‘å›¾ï¼ˆDirected Graphï¼‰</strong>ï¼šè¾¹æœ‰æ–¹å‘çš„å›¾ï¼Œè¾¹è¡¨ç¤ºä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹çš„å•å‘å…³ç³»ã€‚</li><li><strong>æ— å‘å›¾ï¼ˆUndirected Graphï¼‰</strong>ï¼šè¾¹æ²¡æœ‰æ–¹å‘çš„å›¾ï¼Œè¾¹è¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´çš„åŒå‘å…³ç³»ã€‚</li><li><strong>åŠ æƒå›¾ï¼ˆWeighted Graphï¼‰</strong>ï¼šæ¯æ¡è¾¹ä¸Šéƒ½æœ‰ä¸€ä¸ªæƒé‡æˆ–è´¹ç”¨ï¼Œç”¨äºè¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´çš„è·ç¦»æˆ–æˆæœ¬ã€‚</li><li><strong>é‚»æ¥</strong>ï¼šå¦‚æœä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æœ‰ç›´æ¥è¾¹ç›¸è¿ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯é‚»æ¥çš„ã€‚</li><li><strong>è·¯å¾„ï¼ˆPathï¼‰</strong>ï¼šä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹çš„ä¸€æ¡é¡¶ç‚¹åºåˆ—ï¼Œå…¶ä¸­ç›¸é‚»é¡¶ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹ç›¸è¿ã€‚</li><li><strong>ç¯ï¼ˆCycleï¼‰</strong>ï¼šä»ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘ç»è¿‡è‹¥å¹²è¾¹å›åˆ°è¯¥é¡¶ç‚¹çš„è·¯å¾„ã€‚</li><li><strong>è¿é€šå›¾ï¼ˆConnected Graphï¼‰</strong>ï¼šåœ¨æ— å‘å›¾ä¸­ï¼Œä»»ä½•ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å¯ä»¥æ‰¾åˆ°è·¯å¾„çš„å›¾ã€‚</li></ol><h2 id="å›¾çš„å­˜å‚¨"><a href="#å›¾çš„å­˜å‚¨" class="headerlink" title="å›¾çš„å­˜å‚¨"></a>å›¾çš„å­˜å‚¨</h2><ul><li><strong>é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰</strong>ï¼šç”¨äºŒç»´æ•°ç»„è¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´æ˜¯å¦ç›¸è¿ã€‚</li><li><strong>é‚»æ¥è¡¨ï¼ˆAdjacency Listï¼‰</strong>ï¼šç”¨é“¾è¡¨æˆ–æ•°ç»„è¡¨ç¤ºæ¯ä¸ªé¡¶ç‚¹ç›¸é‚»çš„é¡¶ç‚¹ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨é‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨è¡¨ç¤ºå›¾çš„ç®€æ´ C++ ä»£ç ç¤ºä¾‹ã€‚</p><h3 id="é‚»æ¥çŸ©é˜µæ³•"><a href="#é‚»æ¥çŸ©é˜µæ³•" class="headerlink" title="é‚»æ¥çŸ©é˜µæ³•"></a>é‚»æ¥çŸ©é˜µæ³•</h3><p>é‚»æ¥çŸ©é˜µä½¿ç”¨äºŒç»´æ•°ç»„è¡¨ç¤ºå›¾ï¼Œå…¶ä¸­ <code>matrix[i][j] = 1</code> è¡¨ç¤ºé¡¶ç‚¹ <code>i</code> å’Œ <code>j</code> ä¹‹é—´æœ‰è¾¹ï¼Œ<code>0</code> è¡¨ç¤ºæ²¡æœ‰è¾¹ã€‚é€‚åˆç¨ å¯†å›¾ï¼ˆè¾¹è¾ƒå¤šï¼‰çš„æƒ…å†µã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GraphMatrix</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; matrix;</span><br><span class="line">    <span class="type">int</span> numVertices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">GraphMatrix</span>(<span class="type">int</span> vertices) &#123;</span><br><span class="line">        numVertices = vertices;</span><br><span class="line">        matrix.<span class="built_in">resize</span>(vertices, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(vertices, <span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> src, <span class="type">int</span> dest)</span> </span>&#123;</span><br><span class="line">        matrix[src][dest] = <span class="number">1</span>;</span><br><span class="line">        matrix[dest][src] = <span class="number">1</span>;  <span class="comment">// å¦‚æœæ˜¯æ— å‘å›¾</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : matrix) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> val : row)</span><br><span class="line">                cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">GraphMatrix <span class="title">graph</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">    graph.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‚»æ¥è¡¨æ³•"><a href="#é‚»æ¥è¡¨æ³•" class="headerlink" title="é‚»æ¥è¡¨æ³•"></a>é‚»æ¥è¡¨æ³•</h3><p>é‚»æ¥è¡¨ä½¿ç”¨é“¾è¡¨æˆ–å‘é‡æ•°ç»„æ¥å­˜å‚¨å›¾ï¼Œæ¯ä¸ªé¡¶ç‚¹æœ‰ä¸€ä¸ªé“¾è¡¨ï¼ˆæˆ–å‘é‡ï¼‰è¡¨ç¤ºå…¶ç›¸é‚»é¡¶ç‚¹ï¼Œé€‚åˆç¨€ç–å›¾ï¼ˆè¾¹è¾ƒå°‘ï¼‰çš„æƒ…å†µã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GraphList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; adjList;</span><br><span class="line">    <span class="type">int</span> numVertices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">GraphList</span>(<span class="type">int</span> vertices) &#123;</span><br><span class="line">        numVertices = vertices;</span><br><span class="line">        adjList.<span class="built_in">resize</span>(vertices);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> src, <span class="type">int</span> dest)</span> </span>&#123;</span><br><span class="line">        adjList[src].<span class="built_in">push_back</span>(dest);</span><br><span class="line">        adjList[dest].<span class="built_in">push_back</span>(src);  <span class="comment">// å¦‚æœæ˜¯æ— å‘å›¾</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numVertices; ++i) &#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> neighbor : adjList[i])</span><br><span class="line">                cout &lt;&lt; neighbor &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">GraphList <span class="title">graph</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    graph.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">    graph.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ul><li><strong>é‚»æ¥çŸ©é˜µ</strong>ï¼šé€‚åˆç”¨äºè¾¹è¾ƒå¤šçš„å›¾ï¼Œç©ºé—´å¤æ‚åº¦ä¸º (O(V^2))ã€‚</li><li><strong>é‚»æ¥è¡¨</strong>ï¼šé€‚åˆç”¨äºè¾¹è¾ƒå°‘çš„å›¾ï¼Œç©ºé—´å¤æ‚åº¦ä¸º (O(V + E))ï¼Œæ›´èŠ‚çœç©ºé—´ã€‚</li></ul><h2 id="å›¾çš„éå†æ“ä½œ"><a href="#å›¾çš„éå†æ“ä½œ" class="headerlink" title="å›¾çš„éå†æ“ä½œ"></a>å›¾çš„éå†æ“ä½œ</h2><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ ä¸€æ¡è¾¹ï¼ˆæ— å‘å›¾ï¼‰</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; adjList, <span class="type">int</span> src, <span class="type">int</span> dest)</span> </span>&#123;</span><br><span class="line">    adjList[src].<span class="built_in">push_back</span>(dest);</span><br><span class="line">    adjList[dest].<span class="built_in">push_back</span>(src);  <span class="comment">// æ— å‘å›¾</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DFS</span><span class="params">(<span class="type">int</span> start, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; adjList, vector&lt;<span class="type">bool</span>&gt;&amp; visited)</span> </span>&#123;</span><br><span class="line">    visited[start] = <span class="literal">true</span>;</span><br><span class="line">    cout &lt;&lt; start &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> neighbor : adjList[start]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[neighbor]) &#123;</span><br><span class="line">            <span class="built_in">DFS</span>(neighbor, adjList, visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BFS</span><span class="params">(<span class="type">int</span> start, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; adjList, vector&lt;<span class="type">bool</span>&gt;&amp; visited)</span> </span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    visited[start] = <span class="literal">true</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(start);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> v = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        cout &lt;&lt; v &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> neighbor : adjList[v]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited[neighbor]) &#123;</span><br><span class="line">                visited[neighbor] = <span class="literal">true</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(neighbor);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> numVertices = <span class="number">5</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">adjList</span>(numVertices);  <span class="comment">// é‚»æ¥è¡¨è¡¨ç¤ºå›¾</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ è¾¹</span></span><br><span class="line">    <span class="built_in">addEdge</span>(adjList, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">addEdge</span>(adjList, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">addEdge</span>(adjList, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">addEdge</span>(adjList, <span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">addEdge</span>(adjList, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·±åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;DFS starting from vertex 0: &quot;</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">visited</span><span class="params">(numVertices, <span class="literal">false</span>)</span></span>;</span><br><span class="line">    <span class="built_in">DFS</span>(<span class="number">0</span>, adjList, visited);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¹¿åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;BFS starting from vertex 0: &quot;</span>;</span><br><span class="line">    <span class="built_in">fill</span>(visited.<span class="built_in">begin</span>(), visited.<span class="built_in">end</span>(), <span class="literal">false</span>);  <span class="comment">// é‡ç½®è®¿é—®æ ‡è®°</span></span><br><span class="line">    <span class="built_in">BFS</span>(<span class="number">0</span>, adjList, visited);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š</p><ol><li><strong>é‚»æ¥è¡¨çš„åˆ›å»º</strong>ï¼šç”¨äºŒç»´ <code>vector</code> è¡¨ç¤ºé‚»æ¥è¡¨ï¼Œå…¶ä¸­ <code>adjList[i]</code> å­˜å‚¨é¡¶ç‚¹ <code>i</code> çš„æ‰€æœ‰ç›¸é‚»é¡¶ç‚¹ã€‚</li><li><strong><code>addEdge</code></strong>ï¼šåœ¨é‚»æ¥è¡¨ä¸­æ·»åŠ ä¸€æ¡è¾¹ã€‚ç”±äºæ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ åŒå‘è¿æ¥ã€‚</li><li><strong>DFS</strong>ï¼šé€’å½’éå†æ‰€æœ‰ç›¸é‚»çš„æœªè®¿é—®é¡¶ç‚¹ï¼Œæ‰“å°è®¿é—®é¡ºåºã€‚</li><li><strong>BFS</strong>ï¼šä½¿ç”¨é˜Ÿåˆ—é€å±‚éå†ï¼Œæ‰“å°è®¿é—®é¡ºåºã€‚</li><li><strong><code>visited</code></strong>ï¼šåœ¨ DFS å’Œ BFS ä¸­ç”¨äºæ ‡è®°è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚</li></ol><h3 id="è¾“å‡ºç¤ºä¾‹"><a href="#è¾“å‡ºç¤ºä¾‹" class="headerlink" title="è¾“å‡ºç¤ºä¾‹"></a>è¾“å‡ºç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DFS starting from vertex 0: 0 1 2 3 4 </span><br><span class="line">BFS starting from vertex 0: 0 1 2 3 4 </span><br></pre></td></tr></table></figure><ul><li><strong>DFS</strong> å…ˆæ²¿ç€ä¸€æ¡è·¯å¾„æ·±å…¥ï¼Œå†å›æº¯ã€‚</li><li><strong>BFS</strong> é€å±‚éå†ï¼Œé€‚åˆç”¨äºæ— æƒå›¾ä¸­çš„æœ€çŸ­è·¯å¾„æŸ¥æ‰¾ã€‚</li></ul><h2 id="æœ€å°ç”Ÿæˆæ ‘"><a href="#æœ€å°ç”Ÿæˆæ ‘" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘"></a>æœ€å°ç”Ÿæˆæ ‘</h2><p>æœ€å°ç”Ÿæˆæ ‘ï¼ˆMinimum Spanning Treeï¼ŒMSTï¼‰ã€‚å®ƒç”¨äºæ‰¾åˆ°ä¸€ä¸ªæ— å‘åŠ æƒè¿é€šå›¾ä¸­è¿æ¥æ‰€æœ‰é¡¶ç‚¹çš„æœ€å°ä»£ä»·å­å›¾ã€‚ç”Ÿæˆæ ‘çš„è¾¹æ•°ä¸º (V - 1)ï¼ˆå…¶ä¸­ (V) æ˜¯é¡¶ç‚¹æ•°ï¼‰ï¼Œä¸”æ²¡æœ‰ç¯ã€‚ç”Ÿæˆæ ‘çš„æ€»æƒé‡æœ€å°ï¼Œå³æœ€å°ç”Ÿæˆæ ‘ã€‚</p><h3 id="æœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³•"><a href="#æœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³•" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³•"></a>æœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³•</h3><ol><li><p><strong>Kruskal ç®—æ³•</strong>ï¼š</p><ul><li>åŸºäºâ€œè´ªå¿ƒç®—æ³•â€æ€æƒ³ã€‚</li><li>æŒ‰æƒé‡ä»å°åˆ°å¤§æ’åºæ‰€æœ‰è¾¹ï¼Œå¹¶æŒ‰é¡ºåºé€‰æ‹©æœ€å°æƒé‡çš„è¾¹ï¼Œåªè¦å®ƒä¸å½¢æˆç¯ã€‚</li><li>å¸¸ç”¨â€œå¹¶æŸ¥é›†â€æ¥æ£€æµ‹ç¯ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š(O(E \log E))ï¼Œå…¶ä¸­ (E) æ˜¯è¾¹æ•°ã€‚</li></ul></li><li><p><strong>Prim ç®—æ³•</strong>ï¼š</p><ul><li>ä¹Ÿæ˜¯åŸºäºâ€œè´ªå¿ƒç®—æ³•â€ã€‚</li><li>ä»ä»»æ„ä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ï¼Œå°†è¯¥é¡¶ç‚¹åŠ å…¥ MSTï¼Œä¹‹åé‡å¤é€‰æ‹©ä¸å·²åŠ å…¥ MST çš„é¡¶ç‚¹ç›¸é‚»çš„æƒé‡æœ€å°çš„è¾¹ã€‚</li><li>å¸¸ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰æ¥ä¼˜åŒ–è¾¹çš„é€‰æ‹©ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š(O(E \log V))ã€‚</li></ul></li></ol><h3 id="Kruskal-ç®—æ³•çš„å®ç°ï¼ˆC-ä»£ç ç¤ºä¾‹ï¼‰"><a href="#Kruskal-ç®—æ³•çš„å®ç°ï¼ˆC-ä»£ç ç¤ºä¾‹ï¼‰" class="headerlink" title="Kruskal ç®—æ³•çš„å®ç°ï¼ˆC++ ä»£ç ç¤ºä¾‹ï¼‰"></a>Kruskal ç®—æ³•çš„å®ç°ï¼ˆC++ ä»£ç ç¤ºä¾‹ï¼‰</h3><p>Kruskal ç®—æ³•é€‚åˆè¾¹è¾ƒå°‘çš„ç¨€ç–å›¾ï¼Œå› ä¸ºå®ƒçš„æ•ˆç‡ä¸»è¦å–å†³äºè¾¹çš„æ•°é‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> src, dest, weight;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> Edge&amp; other) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> weight &lt; other.weight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; parent, rank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">UnionFind</span>(<span class="type">int</span> n) &#123;</span><br><span class="line">        parent.<span class="built_in">resize</span>(n);</span><br><span class="line">        rank.<span class="built_in">resize</span>(n, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (parent[u] != u)</span><br><span class="line">            parent[u] = <span class="built_in">find</span>(parent[u]);  <span class="comment">// è·¯å¾„å‹ç¼©</span></span><br><span class="line">        <span class="keyword">return</span> parent[u];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">unionSets</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> rootU = <span class="built_in">find</span>(u);</span><br><span class="line">        <span class="type">int</span> rootV = <span class="built_in">find</span>(v);</span><br><span class="line">        <span class="keyword">if</span> (rootU == rootV)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// u å’Œ v å·²ç»è¿æ¥åœ¨ä¸€èµ·</span></span><br><span class="line">        <span class="keyword">if</span> (rank[rootU] &gt; rank[rootV]) &#123;</span><br><span class="line">            parent[rootV] = rootU;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rank[rootU] &lt; rank[rootV]) &#123;</span><br><span class="line">            parent[rootU] = rootV;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            parent[rootV] = rootU;</span><br><span class="line">            ++rank[rootU];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">kruskalMST</span><span class="params">(<span class="type">int</span> V, vector&lt;Edge&gt;&amp; edges)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">sort</span>(edges.<span class="built_in">begin</span>(), edges.<span class="built_in">end</span>());  <span class="comment">// æŒ‰æƒé‡æ’åºè¾¹</span></span><br><span class="line">    <span class="function">UnionFind <span class="title">uf</span><span class="params">(V)</span></span>;</span><br><span class="line">    <span class="type">int</span> mstWeight = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> Edge&amp; edge : edges) &#123;</span><br><span class="line">        <span class="keyword">if</span> (uf.<span class="built_in">unionSets</span>(edge.src, edge.dest)) &#123;  <span class="comment">// æ— ç¯åˆ™åŠ å…¥ MST</span></span><br><span class="line">            mstWeight += edge.weight;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Edge (&quot;</span> &lt;&lt; edge.src &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; edge.dest &lt;&lt; <span class="string">&quot;) with weight &quot;</span> &lt;&lt; edge.weight &lt;&lt; <span class="string">&quot; added to MST\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mstWeight;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">4</span>;  <span class="comment">// é¡¶ç‚¹æ•°</span></span><br><span class="line">    vector&lt;Edge&gt; edges = &#123;</span><br><span class="line">        &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">10</span>&#125;, &#123;<span class="number">0</span>, <span class="number">2</span>, <span class="number">6</span>&#125;, &#123;<span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>&#125;, &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">15</span>&#125;, &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Minimum Spanning Tree Weight: &quot;</span> &lt;&lt; <span class="built_in">kruskalMST</span>(V, edges) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Prim-ç®—æ³•çš„å®ç°ï¼ˆC-ä»£ç ç¤ºä¾‹ï¼‰"><a href="#Prim-ç®—æ³•çš„å®ç°ï¼ˆC-ä»£ç ç¤ºä¾‹ï¼‰" class="headerlink" title="Prim ç®—æ³•çš„å®ç°ï¼ˆC++ ä»£ç ç¤ºä¾‹ï¼‰"></a>Prim ç®—æ³•çš„å®ç°ï¼ˆC++ ä»£ç ç¤ºä¾‹ï¼‰</h3><p>Prim ç®—æ³•é€‚åˆè¾¹è¾ƒå¤šçš„ç¨ å¯†å›¾ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;  <span class="comment">// &#123;æƒé‡, é¡¶ç‚¹&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">primMST</span><span class="params">(<span class="type">int</span> V, vector&lt;vector&lt;pii&gt;&gt;&amp; adjList)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">inMST</span><span class="params">(V, <span class="literal">false</span>)</span></span>;</span><br><span class="line">    priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt;&gt; pq;</span><br><span class="line">    <span class="type">int</span> mstWeight = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»ç¬¬ 0 ä¸ªé¡¶ç‚¹å¼€å§‹</span></span><br><span class="line">    pq.<span class="built_in">push</span>(&#123;<span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!pq.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="keyword">auto</span> [weight, u] = pq.<span class="built_in">top</span>();</span><br><span class="line">        pq.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (inMST[u]) <span class="keyword">continue</span>;</span><br><span class="line">        </span><br><span class="line">        inMST[u] = <span class="literal">true</span>;</span><br><span class="line">        mstWeight += weight;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Vertex &quot;</span> &lt;&lt; u &lt;&lt; <span class="string">&quot; added to MST with edge weight &quot;</span> &lt;&lt; weight &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> [neighborWeight, v] : adjList[u]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!inMST[v]) &#123;</span><br><span class="line">                pq.<span class="built_in">push</span>(&#123;neighborWeight, v&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> mstWeight;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">4</span>;</span><br><span class="line">    vector&lt;vector&lt;pii&gt;&gt; <span class="built_in">adjList</span>(V);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">10</span>, <span class="number">1</span>&#125;);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">6</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">5</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">10</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">15</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">6</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(&#123;<span class="number">5</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(&#123;<span class="number">15</span>, <span class="number">1</span>&#125;);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Minimum Spanning Tree Weight: &quot;</span> &lt;&lt; <span class="built_in">primMST</span>(V, adjList) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ul><li><strong>Kruskal ç®—æ³•</strong>ï¼š<ul><li>ä½¿ç”¨ <code>UnionFind</code> æ•°æ®ç»“æ„æ¥ç®¡ç†è¿æ¥å’Œæ£€æµ‹ç¯ã€‚</li><li>æŒ‰æƒé‡æ’åºè¾¹ï¼Œå¹¶ä¾æ¬¡æ£€æŸ¥ï¼Œè‹¥è¾¹ä¸ä¼šå½¢æˆç¯ï¼Œåˆ™å°†å…¶åŠ å…¥ MSTã€‚</li></ul></li><li><strong>Prim ç®—æ³•</strong>ï¼š<ul><li>ä»ä¸€ä¸ªèµ·å§‹é¡¶ç‚¹å‡ºå‘ï¼Œä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰è®°å½•ä¸å·²åŠ å…¥é¡¶ç‚¹ç›¸é‚»çš„æœ€å°è¾¹ã€‚</li><li>æ¯æ¬¡ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­å–å‡ºæƒé‡æœ€å°çš„è¾¹ï¼Œå°†å…¶å¯¹åº”çš„é¡¶ç‚¹åŠ å…¥ MSTã€‚</li></ul></li></ul><h3 id="è¾“å‡ºç¤ºä¾‹-1"><a href="#è¾“å‡ºç¤ºä¾‹-1" class="headerlink" title="è¾“å‡ºç¤ºä¾‹"></a>è¾“å‡ºç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Edge (2 - 3) with weight 4 added to MST</span><br><span class="line">Edge (0 - 3) with weight 5 added to MST</span><br><span class="line">Edge (0 - 1) with weight 10 added to MST</span><br><span class="line">Minimum Spanning Tree Weight: 19</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>Kruskal ç®—æ³•</strong>ï¼šé€‚åˆè¾¹è¾ƒå°‘çš„å›¾ï¼ŒæŒ‰è¾¹æ’åºåæ·»åŠ åˆ° MSTã€‚</li><li><strong>Prim ç®—æ³•</strong>ï¼šé€‚åˆè¾¹è¾ƒå¤šçš„å›¾ï¼Œä¼˜å…ˆä»å·²è¿æ¥çš„é¡¶ç‚¹é€‰æ‹©æœ€å°çš„è¾¹ã€‚</li></ul><h2 id="æœ€çŸ­è·¯å¾„"><a href="#æœ€çŸ­è·¯å¾„" class="headerlink" title="æœ€çŸ­è·¯å¾„"></a>æœ€çŸ­è·¯å¾„</h2><p>æœ€çŸ­è·¯å¾„ç®—æ³•ç”¨äºåœ¨åŠ æƒå›¾ä¸­æŸ¥æ‰¾ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»ï¼ˆæƒé‡å’Œæœ€å°ï¼‰è·¯å¾„ã€‚</p><h3 id="æœ€çŸ­è·¯å¾„ç®—æ³•çš„ä¸»è¦æ–¹æ³•"><a href="#æœ€çŸ­è·¯å¾„ç®—æ³•çš„ä¸»è¦æ–¹æ³•" class="headerlink" title="æœ€çŸ­è·¯å¾„ç®—æ³•çš„ä¸»è¦æ–¹æ³•"></a>æœ€çŸ­è·¯å¾„ç®—æ³•çš„ä¸»è¦æ–¹æ³•</h3><p><strong>Dijkstra ç®—æ³•</strong>ï¼š</p><ul><li>é€‚ç”¨äºè¾¹æƒéè´Ÿçš„å›¾ã€‚</li><li>ä½¿ç”¨â€œè´ªå¿ƒç®—æ³•â€æ€æƒ³ï¼Œæ¯æ¬¡é€‰æ‹©è·ç¦»èµ·ç‚¹æœ€è¿‘çš„é¡¶ç‚¹å¹¶æ›´æ–°å®ƒçš„é‚»æ¥é¡¶ç‚¹ã€‚</li><li>åˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰å®ç°æ•ˆç‡æ›´é«˜çš„ç‰ˆæœ¬ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š(O(E \log V))ï¼Œå…¶ä¸­ (E) æ˜¯è¾¹æ•°ï¼Œ(V) æ˜¯é¡¶ç‚¹æ•°ã€‚</li></ul><h3 id="Dijkstra-ç®—æ³•çš„å®ç°ï¼ˆC-ä»£ç ç¤ºä¾‹ï¼‰"><a href="#Dijkstra-ç®—æ³•çš„å®ç°ï¼ˆC-ä»£ç ç¤ºä¾‹ï¼‰" class="headerlink" title="Dijkstra ç®—æ³•çš„å®ç°ï¼ˆC++ ä»£ç ç¤ºä¾‹ï¼‰"></a>Dijkstra ç®—æ³•çš„å®ç°ï¼ˆC++ ä»£ç ç¤ºä¾‹ï¼‰</h3><p>Dijkstra ç®—æ³•é€‚ç”¨äºè¾¹æƒä¸ºéè´Ÿçš„å›¾ï¼Œç‰¹åˆ«é€‚åˆç”¨äºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;  <span class="comment">// &#123;è·ç¦», é¡¶ç‚¹&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Dijkstraç®—æ³•æ±‚æœ€çŸ­è·¯å¾„</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dijkstra</span><span class="params">(<span class="type">int</span> V, vector&lt;vector&lt;pii&gt;&gt;&amp; adjList, <span class="type">int</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dist</span><span class="params">(V, numeric_limits&lt;<span class="type">int</span>&gt;::max())</span></span>;  <span class="comment">// è·ç¦»æ•°ç»„åˆå§‹åŒ–ä¸ºæ— ç©·å¤§</span></span><br><span class="line">    priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt;&gt; pq;  <span class="comment">// æœ€å°å †</span></span><br><span class="line"></span><br><span class="line">    dist[start] = <span class="number">0</span>;</span><br><span class="line">    pq.<span class="built_in">push</span>(&#123;<span class="number">0</span>, start&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!pq.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = pq.<span class="built_in">top</span>().second;</span><br><span class="line">        <span class="type">int</span> d = pq.<span class="built_in">top</span>().first;</span><br><span class="line">        pq.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (d &gt; dist[u]) <span class="keyword">continue</span>;  <span class="comment">// è·³è¿‡ä¸éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> [weight, v] : adjList[u]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dist[u] + weight &lt; dist[v]) &#123;  <span class="comment">// å¦‚æœæ‰¾åˆ°æ›´çŸ­è·¯å¾„</span></span><br><span class="line">                dist[v] = dist[u] + weight;</span><br><span class="line">                pq.<span class="built_in">push</span>(&#123;dist[v], v&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dist;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">5</span>;</span><br><span class="line">    vector&lt;vector&lt;pii&gt;&gt; <span class="built_in">adjList</span>(V);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ è¾¹</span></span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">10</span>, <span class="number">1</span>&#125;);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">3</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">1</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">8</span>, <span class="number">1</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">5</span>, <span class="number">4</span>&#125;);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">4</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ·ç‚¹</span></span><br><span class="line">    <span class="type">int</span> start = <span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; distances = <span class="built_in">dijkstra</span>(V, adjList, start);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡ºæœ€çŸ­è·¯å¾„</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Shortest distances from vertex &quot;</span> &lt;&lt; start &lt;&lt; <span class="string">&quot;:\n&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Vertex &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; distances[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç è§£é‡Š-1"><a href="#ä»£ç è§£é‡Š-1" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ul><li>ä½¿ç”¨æœ€å°å †å®ç°è´ªå¿ƒé€‰æ‹©æ¯æ¬¡æœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹ã€‚</li><li>æ¯æ¬¡ä»å †ä¸­æå–è·ç¦»æœ€å°çš„é¡¶ç‚¹ï¼Œæ£€æŸ¥å…¶é‚»æ¥é¡¶ç‚¹å¹¶æ›´æ–°è·ç¦»ã€‚</li><li>æ—¶é—´å¤æ‚åº¦ (O(E \log V)) ä¸»è¦å–å†³äºå †æ“ä½œã€‚</li></ul><h3 id="SPFAï¼ˆShortest-Path-Faster-Algorithmï¼‰ç®—æ³•"><a href="#SPFAï¼ˆShortest-Path-Faster-Algorithmï¼‰ç®—æ³•" class="headerlink" title="SPFAï¼ˆShortest Path Faster Algorithmï¼‰ç®—æ³•"></a><strong>SPFAï¼ˆShortest Path Faster Algorithmï¼‰ç®—æ³•</strong></h3><ul><li><strong>åŸç†</strong>ï¼šSPFA ç®—æ³•æ˜¯ Bellman-Ford çš„æ”¹è¿›ç‰ˆï¼Œåˆ©ç”¨é˜Ÿåˆ—æ¥åŠ é€Ÿæ¾å¼›è¿‡ç¨‹ã€‚SPFA ä»…å¯¹éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œä¸å¿…åœ¨æ¯ä¸€è½®æ¾å¼›æ—¶éå†æ‰€æœ‰è¾¹ã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€šå¸¸åœ¨å¤§éƒ¨åˆ†è¾¹ä¸ºæ­£ã€ä¸”è´Ÿæƒè¾¹è¾ƒå°‘çš„å›¾ä¸­ï¼ŒSPFA è¡¨ç°éå¸¸å¥½ã€‚</li><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šæœ€åæƒ…å†µä¸‹ä¸º (O(V \times E))ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­é€šå¸¸è¿œä¼˜äº Bellman-Fordã€‚å¹³å‡å¤æ‚åº¦æ¥è¿‘ (O(E))ã€‚</li></ul><h2 id="SPFA-ç®—æ³•å®ç°ç¤ºä¾‹ï¼š"><a href="#SPFA-ç®—æ³•å®ç°ç¤ºä¾‹ï¼š" class="headerlink" title="SPFA ç®—æ³•å®ç°ç¤ºä¾‹ï¼š"></a><strong>SPFA ç®—æ³•å®ç°ç¤ºä¾‹ï¼š</strong></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> dest, weight;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">SPFA</span><span class="params">(<span class="type">int</span> V, vector&lt;vector&lt;Edge&gt;&gt;&amp; adjList, <span class="type">int</span> start, vector&lt;<span class="type">int</span>&gt;&amp; dist)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">inQueue</span><span class="params">(V, <span class="literal">false</span>)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">count</span><span class="params">(V, <span class="number">0</span>)</span></span>;</span><br><span class="line">    dist.<span class="built_in">assign</span>(V, numeric_limits&lt;<span class="type">int</span>&gt;::<span class="built_in">max</span>());</span><br><span class="line">    dist[start] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(start);</span><br><span class="line">    inQueue[start] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        inQueue[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; edge : adjList[u]) &#123;</span><br><span class="line">            <span class="type">int</span> v = edge.dest;</span><br><span class="line">            <span class="type">int</span> weight = edge.weight;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (dist[u] != numeric_limits&lt;<span class="type">int</span>&gt;::<span class="built_in">max</span>() &amp;&amp; dist[u] + weight &lt; dist[v]) &#123;</span><br><span class="line">                dist[v] = dist[u] + weight;</span><br><span class="line">                <span class="keyword">if</span> (!inQueue[v]) &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(v);</span><br><span class="line">                    inQueue[v] = <span class="literal">true</span>;</span><br><span class="line">                    count[v]++;</span><br><span class="line">                    <span class="keyword">if</span> (count[v] &gt; V - <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="comment">// æ£€æµ‹åˆ°è´Ÿæƒç¯</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">// æ²¡æœ‰è´Ÿæƒç¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">5</span>;</span><br><span class="line">    vector&lt;vector&lt;Edge&gt;&gt; <span class="built_in">adjList</span>(V);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">1</span>, <span class="number">10</span>&#125;);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">2</span>, <span class="number">1</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">3</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">1</span>, <span class="number">8</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">3</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">5</span>&#125;);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">4</span>&#125;);</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; dist;</span><br><span class="line">    <span class="type">int</span> start = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">SPFA</span>(V, adjList, start, dist)) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Shortest distances from vertex &quot;</span> &lt;&lt; start &lt;&lt; <span class="string">&quot;:\n&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Vertex &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; dist[i] &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Graph contains a negative weight cycle&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h2><p>æ‹“æ‰‘æ’åºï¼ˆTopological Sortingï¼‰ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ä¸­ï¼Œå¯¹å›¾ä¸­çš„èŠ‚ç‚¹è¿›è¡Œçº¿æ€§æ’åºï¼Œä»¥æ»¡è¶³æ¯ä¸ªæœ‰å‘è¾¹ ( u \rightarrow v ) ä¸­èŠ‚ç‚¹ ( u ) å¿…é¡»æ’åœ¨èŠ‚ç‚¹ ( v ) ä¹‹å‰çš„è¦æ±‚ã€‚æ‹“æ‰‘æ’åºå¸¸ç”¨äºè§£å†³ä¾èµ–å…³ç³»é—®é¢˜ï¼Œæ¯”å¦‚ä»»åŠ¡è°ƒåº¦ã€ç¼–è¯‘ä¾èµ–ç­‰ã€‚</p><h3 id="æ‹“æ‰‘æ’åºçš„åŸºæœ¬åŸç†"><a href="#æ‹“æ‰‘æ’åºçš„åŸºæœ¬åŸç†" class="headerlink" title="æ‹“æ‰‘æ’åºçš„åŸºæœ¬åŸç†"></a>æ‹“æ‰‘æ’åºçš„åŸºæœ¬åŸç†</h3><ol><li><p><strong>å‰ææ¡ä»¶</strong>ï¼š</p><ul><li>æ‹“æ‰‘æ’åºåªèƒ½åœ¨ <strong>æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰</strong> ä¸Šå®ç°ï¼Œå› ä¸ºå¦‚æœæœ‰ç¯å­˜åœ¨ï¼Œå°±æ— æ³•å¯¹èŠ‚ç‚¹è¿›è¡Œçº¿æ€§æ’åºã€‚</li></ul></li><li><p><strong>æ‹“æ‰‘æ’åºæ–¹æ³•</strong>ï¼š</p><ul><li>æ‹“æ‰‘æ’åºçš„å®ç°é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•ï¼š<strong>DFS</strong> å’Œ <strong>Kahn ç®—æ³•ï¼ˆBFSï¼‰</strong>ã€‚</li></ul></li><li><p><strong>ä¸»è¦æ­¥éª¤</strong>ï¼š</p><ul><li><strong>DFSæ³•</strong>ï¼šå¯¹æ¯ä¸ªæœªè®¿é—®çš„èŠ‚ç‚¹è¿›è¡Œ DFS éå†ï¼Œå½“éå†åˆ°æ²¡æœ‰åç»­èŠ‚ç‚¹æ—¶ï¼Œå°†è¯¥èŠ‚ç‚¹è®°å½•ä¸‹æ¥ã€‚è¿™æ ·ä¼šå¾—åˆ°ä¸€ä¸ªé€†åºçš„æ’åºç»“æœã€‚</li><li><strong>Kahn ç®—æ³•ï¼ˆBFSï¼‰</strong>ï¼šåˆ©ç”¨å…¥åº¦çš„æ¦‚å¿µï¼Œå°†å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹ä¾æ¬¡åŠ å…¥é˜Ÿåˆ—ï¼Œå¤„ç†è¯¥èŠ‚ç‚¹åå°†å…¶æŒ‡å‘çš„èŠ‚ç‚¹å…¥åº¦å‡ä¸€ï¼Œå¹¶å°†æ–°å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œç›´è‡³é˜Ÿåˆ—ä¸ºç©ºã€‚</li></ul></li></ol><h3 id="æ‹“æ‰‘æ’åºçš„ä¸¤ç§å®ç°"><a href="#æ‹“æ‰‘æ’åºçš„ä¸¤ç§å®ç°" class="headerlink" title="æ‹“æ‰‘æ’åºçš„ä¸¤ç§å®ç°"></a>æ‹“æ‰‘æ’åºçš„ä¸¤ç§å®ç°</h3><h4 id="æ–¹æ³•ä¸€ï¼šDFS-æ³•"><a href="#æ–¹æ³•ä¸€ï¼šDFS-æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šDFS æ³•"></a>æ–¹æ³•ä¸€ï¼šDFS æ³•</h4><p>DFS æ³•é€‚åˆç”¨é€’å½’çš„æ–¹å¼å®ç°ã€‚</p><p><strong>ä»£ç å®ç°</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topologicalSortDFS</span><span class="params">(<span class="type">int</span> v, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; adjList, vector&lt;<span class="type">bool</span>&gt;&amp; visited, stack&lt;<span class="type">int</span>&gt;&amp; topoStack)</span> </span>&#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> neighbor : adjList[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[neighbor]) &#123;</span><br><span class="line">            <span class="built_in">topologicalSortDFS</span>(neighbor, adjList, visited, topoStack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“å‰èŠ‚ç‚¹å¤„ç†å®Œæ¯•ï¼ŒåŠ å…¥æ ˆä¸­</span></span><br><span class="line">    topoStack.<span class="built_in">push</span>(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topologicalSort</span><span class="params">(<span class="type">int</span> V, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; adjList)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">visited</span><span class="params">(V, <span class="literal">false</span>)</span></span>;</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; topoStack;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿›è¡Œ DFS</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">            <span class="built_in">topologicalSortDFS</span>(i, adjList, visited, topoStack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡ºæ‹“æ‰‘æ’åºç»“æœ</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Topological Sort (DFS): &quot;</span>;</span><br><span class="line">    <span class="keyword">while</span> (!topoStack.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        cout &lt;&lt; topoStack.<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        topoStack.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">6</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">adjList</span>(V);</span><br><span class="line">    adjList[<span class="number">5</span>].<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    adjList[<span class="number">5</span>].<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    adjList[<span class="number">4</span>].<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    adjList[<span class="number">4</span>].<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">topologicalSort</span>(V, adjList);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Topological Sort (DFS): 5 4 2 3 1 0</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•äºŒï¼šKahn-ç®—æ³•ï¼ˆBFS-æ³•ï¼‰"><a href="#æ–¹æ³•äºŒï¼šKahn-ç®—æ³•ï¼ˆBFS-æ³•ï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šKahn ç®—æ³•ï¼ˆBFS æ³•ï¼‰"></a>æ–¹æ³•äºŒï¼šKahn ç®—æ³•ï¼ˆBFS æ³•ï¼‰</h4><p>Kahn ç®—æ³•é€šè¿‡å…¥åº¦ï¼ˆin-degreeï¼‰æ¥å®ç°æ‹“æ‰‘æ’åºï¼š</p><ol><li>è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ï¼Œå°†å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ã€‚</li><li>ä¾æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºèŠ‚ç‚¹ï¼Œè¾“å‡ºå…¶ç¼–å·ã€‚</li><li>å°†è¯¥èŠ‚ç‚¹æŒ‡å‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å…¥åº¦å‡ 1ï¼Œå¦‚æœå…¥åº¦å˜ä¸º 0ï¼Œåˆ™å°†è¯¥èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ã€‚</li><li>ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œæœ€ç»ˆçš„è¾“å‡ºé¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœã€‚</li></ol><p><strong>ä»£ç å®ç°</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topologicalSortKahn</span><span class="params">(<span class="type">int</span> V, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; adjList)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">inDegree</span><span class="params">(V, <span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> neighbor : adjList[i]) &#123;</span><br><span class="line">            inDegree[neighbor]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            q.<span class="built_in">push</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Kahn&#x27;s algorithm</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Topological Sort (Kahn&#x27;s Algorithm): &quot;</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        cout &lt;&lt; u &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éå†æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹ï¼Œå°†å…¶å…¥åº¦å‡ 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> neighbor : adjList[u]) &#123;</span><br><span class="line">            inDegree[neighbor]--;</span><br><span class="line">            <span class="keyword">if</span> (inDegree[neighbor] == <span class="number">0</span>) &#123;</span><br><span class="line">                q.<span class="built_in">push</span>(neighbor);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">6</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">adjList</span>(V);</span><br><span class="line">    adjList[<span class="number">5</span>].<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    adjList[<span class="number">5</span>].<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    adjList[<span class="number">4</span>].<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    adjList[<span class="number">4</span>].<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">topologicalSortKahn</span>(V, adjList);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Topological Sort (Kahn&#x27;s Algorithm): 4 5 0 2 3 1</span><br></pre></td></tr></table></figure><h3 id="æ‹“æ‰‘æ’åºæ–¹æ³•æ€»ç»“"><a href="#æ‹“æ‰‘æ’åºæ–¹æ³•æ€»ç»“" class="headerlink" title="æ‹“æ‰‘æ’åºæ–¹æ³•æ€»ç»“"></a>æ‹“æ‰‘æ’åºæ–¹æ³•æ€»ç»“</h3><div class="table-container"><table><thead><tr><th>æ–¹æ³•</th><th>ä¸»è¦æ­¥éª¤</th><th>å¤æ‚åº¦</th><th>ä¼˜ç¼ºç‚¹</th></tr></thead><tbody><tr><td>DFS æ³•</td><td>DFS éå†èŠ‚ç‚¹ï¼Œå°†èŠ‚ç‚¹æŒ‰é€†åºå…¥æ ˆ</td><td>(O(V + E))</td><td>é€‚åˆé€’å½’å®ç°ï¼Œç©ºé—´å¼€é”€è¾ƒå°‘</td></tr><tr><td>Kahn ç®—æ³•ï¼ˆBFS æ³•ï¼‰</td><td>è®¡ç®—å…¥åº¦ï¼Œé˜Ÿåˆ—å¤„ç†å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹</td><td>(O(V + E))</td><td>ä¸é€‚åˆé€’å½’å®ç°ï¼Œä½†é€»è¾‘è¾ƒç›´è§‚</td></tr></tbody></table></div><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li><strong>æœ‰ç¯å›¾æ— æ³•æ‹“æ‰‘æ’åº</strong>ï¼šå¦‚æœåœ¨ Kahn ç®—æ³•ä¸­ï¼Œæ— æ³•è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯ï¼›åœ¨ DFS æ³•ä¸­è‹¥æ£€æµ‹åˆ°å›åˆ°å·²è®¿é—®èŠ‚ç‚¹åˆ™è¯´æ˜æœ‰ç¯ã€‚</li></ul><h2 id="å…³é”®è·¯å¾„"><a href="#å…³é”®è·¯å¾„" class="headerlink" title="å…³é”®è·¯å¾„"></a>å…³é”®è·¯å¾„</h2><p>å…³é”®è·¯å¾„ç®—æ³•ï¼ˆCritical Path Method, CPMï¼‰ä¸»è¦ç”¨äº <strong>æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰</strong> ä¸­çš„ <strong>ä»»åŠ¡è°ƒåº¦é—®é¢˜</strong>ï¼Œå¸®åŠ©ç¡®å®šä»»åŠ¡çš„æœ€é•¿è·¯å¾„ï¼ˆå³å…³é”®è·¯å¾„ï¼‰ä»¥åŠé¡¹ç›®çš„æœ€çŸ­å®Œæˆæ—¶é—´ã€‚å…³é”®è·¯å¾„ä¸­çš„ä»»åŠ¡æ²¡æœ‰æ—¶é—´ä½™åœ°ï¼Œä¸€æ—¦å»¶è¿Ÿä¼šå¯¼è‡´é¡¹ç›®æ•´ä½“å»¶è¯¯ã€‚</p><h3 id="å…³é”®è·¯å¾„çš„åŸºæœ¬åŸç†"><a href="#å…³é”®è·¯å¾„çš„åŸºæœ¬åŸç†" class="headerlink" title="å…³é”®è·¯å¾„çš„åŸºæœ¬åŸç†"></a>å…³é”®è·¯å¾„çš„åŸºæœ¬åŸç†</h3><ol><li><p><strong>äº‹ä»¶çš„æœ€æ—©å¼€å§‹æ—¶é—´ï¼ˆearliest start, ESï¼‰</strong>ï¼š</p><ul><li>ä»èµ·ç‚¹å‘ç»ˆç‚¹è®¡ç®—ï¼Œåœ¨æ»¡è¶³æ‰€æœ‰å‰åºä»»åŠ¡å®Œæˆçš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªä»»åŠ¡å¯ä»¥å¼€å§‹çš„æœ€æ—©æ—¶é—´ã€‚</li></ul></li><li><p><strong>äº‹ä»¶çš„æœ€æ™šå¼€å§‹æ—¶é—´ï¼ˆlatest start, LSï¼‰</strong>ï¼š</p><ul><li>ä»ç»ˆç‚¹å‘èµ·ç‚¹åå‘è®¡ç®—ï¼Œåœ¨ä¸å»¶è¿Ÿé¡¹ç›®æ€»å·¥æœŸçš„å‰æä¸‹ï¼Œæ¯ä¸ªä»»åŠ¡å¯ä»¥æ¨è¿Ÿåˆ°çš„æœ€æ™šå¼€å§‹æ—¶é—´ã€‚</li></ul></li><li><p><strong>è®¡ç®—æ–¹æ³•</strong>ï¼š</p><ul><li>é€šè¿‡ <strong>æ­£å‘éå†</strong> å’Œ <strong>åå‘éå†</strong>ï¼Œåˆ†åˆ«è®¡ç®—æ¯ä¸ªä»»åŠ¡çš„æœ€æ—©å’Œæœ€æ™šå®Œæˆæ—¶é—´ã€‚</li><li><strong>å…³é”®è·¯å¾„</strong>æ˜¯ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€é•¿è·¯å¾„ï¼ˆå³æ—¶é—´æœ€é•¿çš„è·¯å¾„ï¼‰ï¼Œè¿™æ¡è·¯å¾„ä¸Šçš„æ‰€æœ‰ä»»åŠ¡éƒ½ä¸ºå…³é”®ä»»åŠ¡ï¼Œä»»ä½•ä¸€ä¸ªä»»åŠ¡çš„å»¶è¿Ÿéƒ½ä¼šå½±å“æ•´ä¸ªé¡¹ç›®çš„å·¥æœŸã€‚</li></ul></li></ol><h3 id="å…³é”®è·¯å¾„çš„å®ç°ï¼ˆC-ä»£ç ï¼‰"><a href="#å…³é”®è·¯å¾„çš„å®ç°ï¼ˆC-ä»£ç ï¼‰" class="headerlink" title="å…³é”®è·¯å¾„çš„å®ç°ï¼ˆC++ ä»£ç ï¼‰"></a>å…³é”®è·¯å¾„çš„å®ç°ï¼ˆC++ ä»£ç ï¼‰</h3><p>å‡è®¾ä»»åŠ¡çš„å…³ç³»ä»¥æœ‰å‘æ— ç¯å›¾çš„é‚»æ¥è¡¨å½¢å¼ç»™å‡ºï¼Œå›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªä»»åŠ¡ï¼Œè¾¹è¡¨ç¤ºä»»åŠ¡ä¾èµ–ï¼Œè¾¹çš„æƒé‡è¡¨ç¤ºä»»åŠ¡æ‰€éœ€æ—¶é—´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">    <span class="type">int</span> dest, weight;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹“æ‰‘æ’åºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topologicalSort</span><span class="params">(<span class="type">int</span> v, vector&lt;vector&lt;Edge&gt;&gt;&amp; adjList, vector&lt;<span class="type">bool</span>&gt;&amp; visited, stack&lt;<span class="type">int</span>&gt;&amp; topoStack)</span> </span>&#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; edge : adjList[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[edge.dest]) &#123;</span><br><span class="line">            <span class="built_in">topologicalSort</span>(edge.dest, adjList, visited, topoStack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    topoStack.<span class="built_in">push</span>(v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®è·¯å¾„ç®—æ³•</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">criticalPath</span><span class="params">(<span class="type">int</span> V, vector&lt;vector&lt;Edge&gt;&gt;&amp; adjList)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">earliest</span><span class="params">(V, <span class="number">0</span>)</span></span>;  <span class="comment">// å­˜å‚¨æœ€æ—©å¼€å§‹æ—¶é—´</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">latest</span><span class="params">(V, numeric_limits&lt;<span class="type">int</span>&gt;::max())</span></span>;  <span class="comment">// å­˜å‚¨æœ€æ™šå¼€å§‹æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. æ‹“æ‰‘æ’åº</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">visited</span><span class="params">(V, <span class="literal">false</span>)</span></span>;</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; topoStack;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">            <span class="built_in">topologicalSort</span>(i, adjList, visited, topoStack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. æ­£å‘è®¡ç®—æœ€æ—©å¼€å§‹æ—¶é—´ï¼ˆearliest start timeï¼‰</span></span><br><span class="line">    <span class="keyword">while</span> (!topoStack.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = topoStack.<span class="built_in">top</span>();</span><br><span class="line">        topoStack.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; edge : adjList[u]) &#123;</span><br><span class="line">            <span class="type">int</span> v = edge.dest;</span><br><span class="line">            earliest[v] = <span class="built_in">max</span>(earliest[v], earliest[u] + edge.weight);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. åå‘è®¡ç®—æœ€æ™šå¼€å§‹æ—¶é—´ï¼ˆlatest start timeï¼‰</span></span><br><span class="line">    <span class="type">int</span> projectDuration = *<span class="built_in">max_element</span>(earliest.<span class="built_in">begin</span>(), earliest.<span class="built_in">end</span>());  <span class="comment">// é¡¹ç›®æ€»å·¥æœŸ</span></span><br><span class="line">    <span class="built_in">fill</span>(latest.<span class="built_in">begin</span>(), latest.<span class="built_in">end</span>(), projectDuration);  <span class="comment">// åˆå§‹åŒ–æœ€æ™šæ—¶é—´ä¸ºé¡¹ç›®æ€»å·¥æœŸ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> u = V - <span class="number">1</span>; u &gt;= <span class="number">0</span>; u--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; edge : adjList[u]) &#123;</span><br><span class="line">            <span class="type">int</span> v = edge.dest;</span><br><span class="line">            latest[u] = <span class="built_in">min</span>(latest[u], latest[v] - edge.weight);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. æ‰¾åˆ°å…³é”®è·¯å¾„</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Critical Path: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; edge : adjList[i]) &#123;</span><br><span class="line">            <span class="type">int</span> j = edge.dest;</span><br><span class="line">            <span class="keyword">if</span> (earliest[i] == latest[i] &amp;&amp; earliest[i] + edge.weight == earliest[j]) &#123;</span><br><span class="line">                cout &lt;&lt; i &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;End&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> projectDuration;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> V = <span class="number">6</span>;</span><br><span class="line">    vector&lt;vector&lt;Edge&gt;&gt; <span class="built_in">adjList</span>(V);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">1</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">0</span>].<span class="built_in">push_back</span>(&#123;<span class="number">2</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">3</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">1</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">4</span>&#125;);</span><br><span class="line">    adjList[<span class="number">2</span>].<span class="built_in">push_back</span>(&#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    adjList[<span class="number">3</span>].<span class="built_in">push_back</span>(&#123;<span class="number">5</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    adjList[<span class="number">4</span>].<span class="built_in">push_back</span>(&#123;<span class="number">5</span>, <span class="number">2</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> projectDuration = <span class="built_in">criticalPath</span>(V, adjList);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Project Duration: &quot;</span> &lt;&lt; projectDuration &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç è§£é‡Š-2"><a href="#ä»£ç è§£é‡Š-2" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><p><strong>æ‹“æ‰‘æ’åº</strong>ï¼š</p><ul><li>ç”±äºå…³é”®è·¯å¾„ç®—æ³•åº”ç”¨äºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œé¦–å…ˆå¯¹å›¾è¿›è¡Œæ‹“æ‰‘æ’åºï¼Œä¾¿äºæŒ‰ä¾èµ–é¡ºåºå¤„ç†ä»»åŠ¡ã€‚</li><li><code>topologicalSort</code> å‡½æ•°ä½¿ç”¨é€’å½’ DFS å®ç°æ‹“æ‰‘æ’åºã€‚</li></ul></li><li><p><strong>æ­£å‘éå†è®¡ç®—æœ€æ—©å¼€å§‹æ—¶é—´</strong>ï¼š</p><ul><li>ä»æ‹“æ‰‘æ’åºåçš„èµ·ç‚¹å¼€å§‹ï¼Œæ ¹æ®å‰åºä»»åŠ¡çš„æœ€æ—©å®Œæˆæ—¶é—´è®¡ç®—æ¯ä¸ªä»»åŠ¡çš„æœ€æ—©å¼€å§‹æ—¶é—´ã€‚</li></ul></li><li><p><strong>åå‘éå†è®¡ç®—æœ€æ™šå¼€å§‹æ—¶é—´</strong>ï¼š</p><ul><li>ä»ç»ˆç‚¹å€’ç€è®¡ç®—ï¼Œå°½é‡æ¨è¿Ÿä»»åŠ¡æ—¶é—´ï¼ˆä¿è¯ä¸å½±å“æ€»å·¥æœŸï¼‰ï¼Œè®¡ç®—æ¯ä¸ªä»»åŠ¡çš„æœ€æ™šå¼€å§‹æ—¶é—´ã€‚</li><li>ä½¿ç”¨ <code>fill</code> å°† <code>latest</code> æ•°ç»„åˆå§‹åŒ–ä¸ºæ€»å·¥æœŸï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°æ›´æ–°æœ€æ™šå¼€å§‹æ—¶é—´ã€‚</li></ul></li><li><p><strong>å…³é”®è·¯å¾„</strong>ï¼š</p><ul><li>å…³é”®è·¯å¾„ä¸Šçš„ä»»åŠ¡æ»¡è¶³ <code>earliest[i] == latest[i]</code>ï¼Œå³ä»»åŠ¡çš„æœ€æ—©å¼€å§‹æ—¶é—´ç­‰äºæœ€æ™šå¼€å§‹æ—¶é—´ã€‚é€šè¿‡æ£€æŸ¥æ¯æ¡è¾¹çš„æƒé‡å’Œå…³é”®ä»»åŠ¡æ¡ä»¶ï¼Œç¡®å®šå…³é”®è·¯å¾„å¹¶è¾“å‡ºã€‚</li></ul></li></ol><h3 id="è¾“å‡ºç¤ºä¾‹-2"><a href="#è¾“å‡ºç¤ºä¾‹-2" class="headerlink" title="è¾“å‡ºç¤ºä¾‹"></a>è¾“å‡ºç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Critical Path: 0 -&gt; 1 -&gt; 3 -&gt; 5 -&gt; End</span><br><span class="line">Project Duration: 8</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>å…³é”®è·¯å¾„</strong> æ˜¯æ•´ä¸ªé¡¹ç›®çš„æœ€é•¿è·¯å¾„ã€‚æ²¿å…³é”®è·¯å¾„çš„æ‰€æœ‰ä»»åŠ¡å¿…é¡»æŒ‰æ—¶å®Œæˆï¼Œä»¥å…å»¶è¯¯é¡¹ç›®ã€‚</li><li>å…³é”®è·¯å¾„ç®—æ³•åˆ©ç”¨ <strong>æ‹“æ‰‘æ’åº</strong> æ¥ç¡®ä¿æŒ‰ä¾èµ–å…³ç³»éå†ä»»åŠ¡ã€‚</li></ul><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¶æŸ¥é›†</title>
      <link href="/2024/10/30/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
      <url>/2024/10/30/%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h1 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h1><p><strong>å¹¶æŸ¥é›†</strong>ï¼ˆDisjoint Set Union, DSUï¼‰æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå¤„ç†<strong>ä¸ç›¸äº¤é›†åˆ</strong>ï¼ˆdisjoint setsï¼‰çš„åˆå¹¶ï¼ˆunionï¼‰å’ŒæŸ¥è¯¢ï¼ˆfindï¼‰æ“ä½œã€‚å¹¶æŸ¥é›†ç‰¹åˆ«é€‚ç”¨äºåŠ¨æ€è¿é€šæ€§é—®é¢˜ï¼Œä¾‹å¦‚åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­æˆ–åˆå¹¶ä¸¤ä¸ªé›†åˆã€‚å¹¿æ³›åº”ç”¨åœ¨å›¾è®ºç®—æ³•ä¸­ï¼Œæ¯”å¦‚ Kruskal æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ã€‚</p><h3 id="å¹¶æŸ¥é›†çš„æ¦‚å¿µ"><a href="#å¹¶æŸ¥é›†çš„æ¦‚å¿µ" class="headerlink" title="å¹¶æŸ¥é›†çš„æ¦‚å¿µ"></a>å¹¶æŸ¥é›†çš„æ¦‚å¿µ</h3><p>å¹¶æŸ¥é›†ä¸»è¦æ”¯æŒä¸¤ä¸ªæ“ä½œï¼š</p><ol><li><strong>æŸ¥æ‰¾ï¼ˆFindï¼‰</strong>ï¼šç¡®å®šå…ƒç´ æ‰€å±çš„é›†åˆã€‚é€šå¸¸è¿”å›é›†åˆçš„â€œä»£è¡¨å…ƒç´ â€ã€‚</li><li><strong>åˆå¹¶ï¼ˆUnionï¼‰</strong>ï¼šå°†ä¸¤ä¸ªé›†åˆåˆå¹¶æˆä¸€ä¸ªé›†åˆã€‚</li></ol><p>å¹¶æŸ¥é›†ä½¿ç”¨<strong>æ ‘ç»“æ„</strong>æ¥è¡¨ç¤ºé›†åˆï¼Œæ¯ä¸ªé›†åˆä¸­çš„å…ƒç´ éƒ½æŒ‡å‘ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹ä»£è¡¨è¯¥é›†åˆã€‚ä¸ºä¼˜åŒ–æ•ˆç‡ï¼Œé€šå¸¸ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æŠ€æœ¯ï¼š</p><ul><li><strong>è·¯å¾„å‹ç¼©ï¼ˆPath Compressionï¼‰</strong>ï¼šåœ¨æŸ¥æ‰¾æ“ä½œä¸­ï¼Œå°†æ ‘çš„é«˜åº¦é™ä½ï¼Œä½¿å¾—æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ¥è¿‘å¸¸æ•°ã€‚</li><li><strong>æŒ‰ç§©åˆå¹¶ï¼ˆUnion by Rankï¼‰</strong>ï¼šåœ¨åˆå¹¶æ“ä½œä¸­ï¼Œå°†è¾ƒå°çš„æ ‘åˆå¹¶åˆ°è¾ƒå¤§çš„æ ‘ä¸Šï¼Œé¿å…æ ‘å˜å¾—è¿‡äºæ·±ã€‚</li></ul><h3 id="å¹¶æŸ¥é›†çš„æ€§è´¨"><a href="#å¹¶æŸ¥é›†çš„æ€§è´¨" class="headerlink" title="å¹¶æŸ¥é›†çš„æ€§è´¨"></a>å¹¶æŸ¥é›†çš„æ€§è´¨</h3><ol><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šä½¿ç”¨è·¯å¾„å‹ç¼©å’ŒæŒ‰ç§©åˆå¹¶çš„å¹¶æŸ¥é›†å¯ä»¥å°†å•æ¬¡æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ°å‡ ä¹ä¸ºå¸¸æ•°ï¼Œæ¥è¿‘ $O(\alpha(n))$ ï¼Œå…¶ä¸­ $(\alpha)$ æ˜¯é˜¿å…‹æ›¼å‡½æ•°çš„é€†ï¼Œéå¸¸æ¥è¿‘å¸¸æ•°ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šå¹¶æŸ¥é›†ä½¿ç”¨ (O(n)) çš„ç©ºé—´ï¼Œå…¶ä¸­ (n) ä¸ºå…ƒç´ ä¸ªæ•°ã€‚</li></ol><h3 id="å¹¶æŸ¥é›†çš„-C-å®ç°"><a href="#å¹¶æŸ¥é›†çš„-C-å®ç°" class="headerlink" title="å¹¶æŸ¥é›†çš„ C++ å®ç°"></a>å¹¶æŸ¥é›†çš„ C++ å®ç°</h3><p>ä»¥ä¸‹æ˜¯å¹¶æŸ¥é›†çš„æ ‡å‡†å®ç°ä»£ç ï¼ŒåŒ…å«è·¯å¾„å‹ç¼©å’ŒæŒ‰ç§©åˆå¹¶ä¼˜åŒ–ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DisjointSet</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; parent;  <span class="comment">// å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; rank;    <span class="comment">// å­˜å‚¨æ ‘çš„é«˜åº¦ï¼ˆç§©ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line">    <span class="built_in">DisjointSet</span>(<span class="type">int</span> n) &#123;</span><br><span class="line">        parent.<span class="built_in">resize</span>(n);</span><br><span class="line">        rank.<span class="built_in">resize</span>(n, <span class="number">0</span>);  <span class="comment">// åˆå§‹ç§©ä¸º 0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            parent[i] = i;  <span class="comment">// æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºè‡ªå·±</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æ“ä½œï¼Œå¸¦è·¯å¾„å‹ç¼©</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (parent[x] != x) &#123;</span><br><span class="line">            parent[x] = <span class="built_in">find</span>(parent[x]);  <span class="comment">// é€’å½’æŸ¥æ‰¾å¹¶è·¯å¾„å‹ç¼©</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> parent[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶æ“ä½œï¼ŒæŒ‰ç§©åˆå¹¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">unionSets</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> rootX = <span class="built_in">find</span>(x);</span><br><span class="line">        <span class="type">int</span> rootY = <span class="built_in">find</span>(y);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rootX != rootY) &#123;</span><br><span class="line">            <span class="comment">// å°†ç§©ä½çš„æ ‘åˆå¹¶åˆ°ç§©é«˜çš„æ ‘ä¸Š</span></span><br><span class="line">            <span class="keyword">if</span> (rank[rootX] &gt; rank[rootY]) &#123;</span><br><span class="line">                parent[rootY] = rootX;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rank[rootX] &lt; rank[rootY]) &#123;</span><br><span class="line">                parent[rootX] = rootY;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                parent[rootY] = rootX;</span><br><span class="line">                rank[rootX]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isConnected</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(x) == <span class="built_in">find</span>(y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">DisjointSet <span class="title">ds</span><span class="params">(<span class="number">10</span>)</span></span>;  <span class="comment">// åˆ›å»ºåŒ…å«10ä¸ªå…ƒç´ çš„å¹¶æŸ¥é›†</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶ä¸€äº›é›†åˆ</span></span><br><span class="line">    ds.<span class="built_in">unionSets</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    ds.<span class="built_in">unionSets</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    ds.<span class="built_in">unionSets</span>(<span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">    ds.<span class="built_in">unionSets</span>(<span class="number">6</span>, <span class="number">7</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢é›†åˆè¿æ¥æƒ…å†µ</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Is 1 connected to 3? &quot;</span> &lt;&lt; (ds.<span class="built_in">isConnected</span>(<span class="number">1</span>, <span class="number">3</span>) ? <span class="string">&quot;Yes&quot;</span> : <span class="string">&quot;No&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Is 1 connected to 4? &quot;</span> &lt;&lt; (ds.<span class="built_in">isConnected</span>(<span class="number">1</span>, <span class="number">4</span>) ? <span class="string">&quot;Yes&quot;</span> : <span class="string">&quot;No&quot;</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶æ›´å¤šé›†åˆ</span></span><br><span class="line">    ds.<span class="built_in">unionSets</span>(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Is 1 connected to 5 after union? &quot;</span> &lt;&lt; (ds.<span class="built_in">isConnected</span>(<span class="number">1</span>, <span class="number">5</span>) ? <span class="string">&quot;Yes&quot;</span> : <span class="string">&quot;No&quot;</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><p><strong>åˆå§‹åŒ–</strong>ï¼š</p><ul><li><code>parent</code> æ•°ç»„å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œåˆå§‹æ—¶æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯è‡ªå·±ï¼Œè¡¨ç¤ºæ¯ä¸ªå…ƒç´ ç‹¬ç«‹çš„é›†åˆã€‚</li><li><code>rank</code> æ•°ç»„å­˜å‚¨æ¯ä¸ªé›†åˆçš„ç§©ï¼Œåˆå§‹ä¸º <code>0</code>ã€‚</li></ul></li><li><p><strong>æŸ¥æ‰¾æ“ä½œ <code>find</code></strong>ï¼š</p><ul><li>é€šè¿‡é€’å½’æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å…ƒç´ æ‰€å±é›†åˆçš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œå°†è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ç›´æ¥è¿æ¥åˆ°æ ¹èŠ‚ç‚¹ã€‚</li><li>è·¯å¾„å‹ç¼©å¯ä»¥å‡å°‘åç»­æŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ã€‚</li></ul></li><li><p><strong>åˆå¹¶æ“ä½œ <code>unionSets</code></strong>ï¼š</p><ul><li>å…ˆæ‰¾åˆ°ä¸¤ä¸ªå…ƒç´ æ‰€å±é›†åˆçš„æ ¹èŠ‚ç‚¹ï¼Œé€šè¿‡ç§©å¤§å°å†³å®šåˆå¹¶æ–¹å‘ã€‚</li><li>å°†ä½ç§©çš„é›†åˆåˆå¹¶åˆ°é«˜ç§©é›†åˆä¸Šï¼Œä»¥ä¿æŒæ ‘çš„é«˜åº¦è¾ƒä½ï¼›å¦‚æœç§©ç›¸åŒï¼Œå°†ä»»æ„ä¸€ä¸ªæ ¹è¿æ¥åˆ°å¦ä¸€ä¸ªæ ¹ï¼ŒåŒæ—¶å¢åŠ è¿æ¥æ ¹çš„ç§©ã€‚</li></ul></li><li><p><strong>è¿æ¥æ£€æŸ¥ <code>isConnected</code></strong>ï¼š</p><ul><li>æ£€æŸ¥ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€é›†åˆï¼Œå¦‚æœæ ¹èŠ‚ç‚¹ç›¸åŒåˆ™å±äºåŒä¸€é›†åˆã€‚</li></ul></li></ol><h3 id="è¾“å‡ºç¤ºä¾‹"><a href="#è¾“å‡ºç¤ºä¾‹" class="headerlink" title="è¾“å‡ºç¤ºä¾‹"></a>è¾“å‡ºç¤ºä¾‹</h3><p>å‡è®¾è¾“å…¥æ˜¯å¦‚ä¸Šä»£ç ä¸­çš„æ“ä½œï¼Œè¾“å‡ºå°†å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Is 1 connected to 3? Yes</span><br><span class="line">Is 1 connected to 4? No</span><br><span class="line">Is 1 connected to 5 after union? Yes</span><br></pre></td></tr></table></figure><p>é€šè¿‡è·¯å¾„å‹ç¼©å’ŒæŒ‰ç§©åˆå¹¶ä¼˜åŒ–åçš„å¹¶æŸ¥é›†ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°æ”¯æŒåˆå¹¶å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹¶æŸ¥é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘</title>
      <link href="/2024/10/30/%E6%A0%91/"/>
      <url>/2024/10/30/%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<h1 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h1><p>åœ¨æ•°æ®ç»“æ„ä¸­ï¼Œ<strong>æ ‘</strong>ï¼ˆTreeï¼‰æ˜¯ä¸€ç§åˆ†å±‚çš„éçº¿æ€§æ•°æ®ç»“æ„ï¼Œå®ƒç”±èŠ‚ç‚¹ï¼ˆnodeï¼‰å’Œè¾¹ï¼ˆedgeï¼‰ç»„æˆï¼Œå¹¶ä¸”å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p><h2 id="æ ‘çš„æ¦‚å¿µ"><a href="#æ ‘çš„æ¦‚å¿µ" class="headerlink" title="æ ‘çš„æ¦‚å¿µ"></a>æ ‘çš„æ¦‚å¿µ</h2><ol><li><strong>èŠ‚ç‚¹å’Œè¾¹</strong>ï¼šæ ‘åŒ…å«ä¸€ç»„èŠ‚ç‚¹ï¼Œé€šè¿‡è¾¹è¿æ¥ï¼ŒèŠ‚ç‚¹ä¹‹é—´å‘ˆç°å‡ºå±‚çº§å…³ç³»ã€‚</li><li><strong>æ ¹èŠ‚ç‚¹</strong>ï¼šæ ‘çš„èµ·å§‹èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹ï¼ˆrootï¼‰ï¼Œé€šå¸¸ä½äºæ ‘çš„é¡¶ç«¯ã€‚</li><li><strong>çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥è¿æ¥å…¶ä»–èŠ‚ç‚¹ï¼Œç§°ä¸ºå­èŠ‚ç‚¹ï¼ˆchildrenï¼‰ï¼›è¿æ¥å®ƒä»¬çš„èŠ‚ç‚¹ç§°ä¸ºçˆ¶èŠ‚ç‚¹ï¼ˆparentï¼‰ã€‚</li><li><strong>å¶å­èŠ‚ç‚¹</strong>ï¼šæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºå¶å­èŠ‚ç‚¹ï¼ˆleafï¼‰ã€‚</li><li><strong>å±‚çº§</strong>ï¼šæ ‘çš„æ¯ä¸€å±‚ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰å±‚çº§å…³ç³»æ’åˆ—ã€‚</li><li><strong>è·¯å¾„</strong>ï¼šèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„ç”±èŠ‚ç‚¹å’Œè¾¹ç»„æˆï¼Œä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸ªç‰¹å®šèŠ‚ç‚¹çš„è·¯å¾„æ˜¯èŠ‚ç‚¹ä¹‹é—´çš„å”¯ä¸€è·¯å¾„ã€‚</li></ol><h2 id="æ ‘çš„æ€§è´¨"><a href="#æ ‘çš„æ€§è´¨" class="headerlink" title="æ ‘çš„æ€§è´¨"></a>æ ‘çš„æ€§è´¨</h2><ol><li><strong>å”¯ä¸€æ ¹èŠ‚ç‚¹</strong>ï¼šæ ‘ä¸­åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚</li><li><strong>èŠ‚ç‚¹æ•°é‡å…³ç³»</strong>ï¼šæœ‰ ( n ) ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œè¾¹çš„æ•°é‡ä¸º ( n - 1 )ã€‚</li><li><strong>å±‚æ¬¡æ€§</strong>ï¼šæ ‘å…·æœ‰å±‚æ¬¡ç»“æ„ï¼Œè‡ªä¸Šè€Œä¸‹é€çº§åˆ†å±‚ã€‚</li><li><strong>æ— å›è·¯æ€§</strong>ï¼šæ ‘ä¸­ä¸å­˜åœ¨å›è·¯ï¼Œä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´åªæœ‰å”¯ä¸€ä¸€æ¡è·¯å¾„ã€‚</li><li><strong>è¿é€šæ€§</strong>ï¼šæ ‘æ˜¯ä¸€ä¸ªè¿é€šçš„æ— å‘å›¾ï¼Œä»æ ¹èŠ‚ç‚¹å¯ä»¥åˆ°è¾¾æ‰€æœ‰èŠ‚ç‚¹ã€‚</li></ol><h2 id="ç‰¹æ®Šç±»å‹çš„æ ‘"><a href="#ç‰¹æ®Šç±»å‹çš„æ ‘" class="headerlink" title="ç‰¹æ®Šç±»å‹çš„æ ‘"></a>ç‰¹æ®Šç±»å‹çš„æ ‘</h2><ul><li><strong>äºŒå‰æ ‘</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‘ã€‚</li><li><strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼šé™¤æœ€åä¸€å±‚å¤–ï¼Œæ‰€æœ‰å±‚çš„èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œä¸”æœ€åä¸€å±‚èŠ‚ç‚¹ä»å·¦åˆ°å³è¿ç»­æ’åˆ—ã€‚</li><li><strong>å¹³è¡¡äºŒå‰æ ‘</strong>ï¼šä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡ä¸€å®šå€¼ï¼ˆå¦‚ AVL æ ‘ï¼‰ã€‚</li><li><strong>äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰</strong>ï¼šå·¦å­èŠ‚ç‚¹çš„å€¼å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­èŠ‚ç‚¹çš„å€¼å¤§äºæ ¹èŠ‚ç‚¹ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾ã€‚</li></ul><p>å¥½çš„ï¼Œè¿™é‡Œæ˜¯è€ƒè¯•å¤§çº²æ‰€æ¶‰åŠçš„äºŒå‰æ ‘å’Œæ ‘çš„åŸºæœ¬æ¦‚å¿µã€æ€§è´¨å’ŒC++çš„å®ç°ç¤ºä¾‹ï¼š</p><h2 id="äºŒå‰æ ‘çš„æ¦‚å¿µã€æ€§è´¨å’Œå®ç°"><a href="#äºŒå‰æ ‘çš„æ¦‚å¿µã€æ€§è´¨å’Œå®ç°" class="headerlink" title="äºŒå‰æ ‘çš„æ¦‚å¿µã€æ€§è´¨å’Œå®ç°"></a>äºŒå‰æ ‘çš„æ¦‚å¿µã€æ€§è´¨å’Œå®ç°</h2><p><strong>äºŒå‰æ ‘</strong>æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‘ç»“æ„ã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹é€šå¸¸è¢«ç§°ä¸ºå·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ã€‚</p><p><strong>æ€§è´¨</strong>ï¼š</p><ol><li>äºŒå‰æ ‘çš„ç¬¬ (i) å±‚æœ€å¤šæœ‰ (2^{i-1}) ä¸ªèŠ‚ç‚¹ã€‚</li><li>é«˜åº¦ä¸º (h) çš„äºŒå‰æ ‘æœ€å¤šæœ‰ (2^h - 1) ä¸ªèŠ‚ç‚¹ã€‚</li><li>å®Œå…¨äºŒå‰æ ‘å’Œæ»¡äºŒå‰æ ‘æ˜¯ç‰¹æ®Šçš„äºŒå‰æ ‘ã€‚</li></ol><p><strong>å®ç°</strong>ï¼ˆé“¾å¼å­˜å‚¨ï¼‰ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode* left;</span><br><span class="line">    TreeNode* right;</span><br><span class="line">    <span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(<span class="literal">NULL</span>), <span class="built_in">right</span>(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’å…¥èŠ‚ç‚¹ç¤ºä¾‹</span></span><br><span class="line"><span class="function">TreeNode* <span class="title">insert</span><span class="params">(TreeNode* root, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">TreeNode</span>(val);</span><br><span class="line">    <span class="keyword">if</span> (val &lt; root-&gt;val) root-&gt;left = <span class="built_in">insert</span>(root-&gt;left, val);</span><br><span class="line">    <span class="keyword">else</span> root-&gt;right = <span class="built_in">insert</span>(root-&gt;right, val);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ç»“æ„å’Œé“¾å¼å­˜å‚¨ç»“æ„"><a href="#äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ç»“æ„å’Œé“¾å¼å­˜å‚¨ç»“æ„" class="headerlink" title="äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ç»“æ„å’Œé“¾å¼å­˜å‚¨ç»“æ„"></a>äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ç»“æ„å’Œé“¾å¼å­˜å‚¨ç»“æ„</h2><p><strong>é¡ºåºå­˜å‚¨ç»“æ„</strong>ï¼šé¡ºåºå­˜å‚¨é€šå¸¸ä½¿ç”¨æ•°ç»„å­˜å‚¨å®Œå…¨äºŒå‰æ ‘ã€‚ç¬¬ (i) ä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹åœ¨ (2i+1)ï¼Œå³å­èŠ‚ç‚¹åœ¨ (2i+2)ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> binaryTree[<span class="number">100</span>];  <span class="comment">// é¡ºåºå­˜å‚¨äºŒå‰æ ‘çš„æ•°ç»„è¡¨ç¤º</span></span><br></pre></td></tr></table></figure></p><p><strong>é“¾å¼å­˜å‚¨ç»“æ„</strong>ï¼šé“¾å¼å­˜å‚¨ç”¨æŒ‡é’ˆå®ç°æ›´çµæ´»ï¼Œé€‚ç”¨äºéå®Œå…¨äºŒå‰æ ‘ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode* left;</span><br><span class="line">    TreeNode* right;</span><br><span class="line">    <span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(<span class="literal">NULL</span>), <span class="built_in">right</span>(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="éå†äºŒå‰æ ‘"><a href="#éå†äºŒå‰æ ‘" class="headerlink" title="éå†äºŒå‰æ ‘"></a>éå†äºŒå‰æ ‘</h2><p><strong>å‰åºéå†</strong>ã€<strong>ä¸­åºéå†</strong>ã€<strong>ååºéå†</strong>å’Œ<strong>å±‚åºéå†</strong>æ˜¯å¸¸è§çš„äºŒå‰æ ‘éå†æ–¹å¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰åºéå† (æ ¹ -&gt; å·¦ -&gt; å³)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">preorder</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root) &#123;</span><br><span class="line">        cout &lt;&lt; root-&gt;val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="built_in">preorder</span>(root-&gt;left);</span><br><span class="line">        <span class="built_in">preorder</span>(root-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­åºéå† (å·¦ -&gt; æ ¹ -&gt; å³)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inorder</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root) &#123;</span><br><span class="line">        <span class="built_in">inorder</span>(root-&gt;left);</span><br><span class="line">        cout &lt;&lt; root-&gt;val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="built_in">inorder</span>(root-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ååºéå† (å·¦ -&gt; å³ -&gt; æ ¹)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">postorder</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root) &#123;</span><br><span class="line">        <span class="built_in">postorder</span>(root-&gt;left);</span><br><span class="line">        <span class="built_in">postorder</span>(root-&gt;right);</span><br><span class="line">        cout &lt;&lt; root-&gt;val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ ‘å’Œæ£®æ—çš„å­˜å‚¨ç»“æ„ã€éå†"><a href="#æ ‘å’Œæ£®æ—çš„å­˜å‚¨ç»“æ„ã€éå†" class="headerlink" title="æ ‘å’Œæ£®æ—çš„å­˜å‚¨ç»“æ„ã€éå†"></a>æ ‘å’Œæ£®æ—çš„å­˜å‚¨ç»“æ„ã€éå†</h2><p><strong>æ ‘çš„å­˜å‚¨</strong>ï¼šä¸€èˆ¬ç”¨é“¾å¼ç»“æ„å­˜å‚¨æ ‘ï¼ˆå¤šå‰æ ‘ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹æŒ‡å‘å¤šä¸ªå­èŠ‚ç‚¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    vector&lt;TreeNode*&gt; children;  <span class="comment">// æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>æ£®æ—çš„æ¦‚å¿µ</strong>ï¼šæ£®æ—æ˜¯ä¸€ç»„äº’ä¸ç›¸äº¤çš„æ ‘çš„é›†åˆã€‚å¸¸ç”¨é€’å½’å°†æ£®æ—è¡¨ç¤ºä¸ºä¸€æ£µæ ‘ï¼Œæ¯æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ä½œä¸ºé“¾å¼å­˜å‚¨çš„ä¸‹ä¸€èŠ‚ç‚¹ã€‚</p><p><strong>éå†æ£®æ—</strong>ï¼šå¯ä»¥é€šè¿‡å…ˆåºã€ååºç­‰éå†æ–¹å¼å®ç°ï¼Œæ¯ä¸ªå­æ ‘é€’å½’éå†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">traverseForest</span><span class="params">(<span class="type">const</span> vector&lt;TreeNode*&gt;&amp; forest)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (TreeNode* tree : forest) &#123;</span><br><span class="line">        <span class="built_in">preorder</span>(tree);  <span class="comment">// éå†æ¯æ£µæ ‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å †ä¸ä¼˜å…ˆé˜Ÿåˆ—"><a href="#å †ä¸ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="å †ä¸ä¼˜å…ˆé˜Ÿåˆ—"></a>å †ä¸ä¼˜å…ˆé˜Ÿåˆ—</h2><p><strong>å †</strong>æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ˜¯å®Œå…¨äºŒå‰æ ‘çš„ä¸€ç§ã€‚å †æœ‰ä¸¤ç§å¸¸è§çš„ç±»å‹ï¼š<strong>æœ€å¤§å †</strong>å’Œ<strong>æœ€å°å †</strong>ã€‚</p><ul><li><strong>æœ€å¤§å †</strong>ï¼šæ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œæ ¹èŠ‚ç‚¹æ˜¯å †ä¸­æœ€å¤§çš„å…ƒç´ ã€‚</li><li><strong>æœ€å°å †</strong>ï¼šæ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œæ ¹èŠ‚ç‚¹æ˜¯å †ä¸­æœ€å°çš„å…ƒç´ ã€‚</li></ul><h3 id="å †çš„æ€§è´¨"><a href="#å †çš„æ€§è´¨" class="headerlink" title="å †çš„æ€§è´¨"></a>å †çš„æ€§è´¨</h3><ol><li><strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼šå †ä½¿ç”¨å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå› æ­¤é€‚åˆç”¨æ•°ç»„è¡¨ç¤ºã€‚</li><li><strong>èŠ‚ç‚¹å…³ç³»</strong>ï¼šåœ¨å †çš„æ•°ç»„è¡¨ç¤ºä¸­ï¼Œå¯¹äºç¬¬ <code>i</code> ä¸ªèŠ‚ç‚¹ï¼š<ul><li>çˆ¶èŠ‚ç‚¹ä½ç½®ä¸º <code>(i-1)/2</code>ã€‚</li><li>å·¦å­èŠ‚ç‚¹ä½ç½®ä¸º <code>2i+1</code>ã€‚</li><li>å³å­èŠ‚ç‚¹ä½ç½®ä¸º <code>2i+2</code>ã€‚</li></ul></li></ol><h3 id="ä¼˜å…ˆé˜Ÿåˆ—"><a href="#ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—"></a>ä¼˜å…ˆé˜Ÿåˆ—</h3><p><strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>æ˜¯ä¸€ç§åŸºäºå †çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥å¿«é€Ÿè®¿é—®å’Œåˆ é™¤ä¼˜å…ˆçº§æœ€é«˜ï¼ˆæˆ–æœ€ä½ï¼‰çš„å…ƒç´ ã€‚åœ¨ C++ ä¸­ï¼Œæ ‡å‡†åº“æä¾›äº† <code>priority_queue</code>ï¼Œå…¶é»˜è®¤å®ç°ä¸ºæœ€å¤§å †ã€‚</p><h4 id="æœ€å¤§å †"><a href="#æœ€å¤§å †" class="headerlink" title="æœ€å¤§å †"></a>æœ€å¤§å †</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ€å¤§å †çš„ç®€å•å®ç°ï¼ŒåŒ…æ‹¬æ’å…¥å’Œåˆ é™¤æœ€å¤§å€¼çš„æ“ä½œï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MaxHeap</span> &#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; heap;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">heapifyUp</span><span class="params">(<span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> parent = (index - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (heap[index] &gt; heap[parent]) &#123;</span><br><span class="line">                <span class="built_in">swap</span>(heap[index], heap[parent]);</span><br><span class="line">                index = parent;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">heapifyDown</span><span class="params">(<span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> size = heap.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span> * index + <span class="number">1</span> &lt; size) &#123;</span><br><span class="line">            <span class="type">int</span> leftChild = <span class="number">2</span> * index + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> rightChild = <span class="number">2</span> * index + <span class="number">2</span>;</span><br><span class="line">            <span class="type">int</span> largerChild = leftChild;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rightChild &lt; size &amp;&amp; heap[rightChild] &gt; heap[leftChild]) &#123;</span><br><span class="line">                largerChild = rightChild;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (heap[index] &lt; heap[largerChild]) &#123;</span><br><span class="line">                <span class="built_in">swap</span>(heap[index], heap[largerChild]);</span><br><span class="line">                index = largerChild;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        heap.<span class="built_in">push_back</span>(val);</span><br><span class="line">        <span class="built_in">heapifyUp</span>(heap.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">extractMax</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (heap.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> maxVal = heap[<span class="number">0</span>];</span><br><span class="line">        heap[<span class="number">0</span>] = heap.<span class="built_in">back</span>();</span><br><span class="line">        heap.<span class="built_in">pop_back</span>();</span><br><span class="line">        <span class="built_in">heapifyDown</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> maxVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> heap.<span class="built_in">empty</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MaxHeap heap;</span><br><span class="line">    heap.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    heap.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">    heap.<span class="built_in">insert</span>(<span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Extracted Max: &quot;</span> &lt;&lt; heap.<span class="built_in">extractMax</span>() &lt;&lt; endl;  <span class="comment">// è¾“å‡º 20</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Extracted Max: &quot;</span> &lt;&lt; heap.<span class="built_in">extractMax</span>() &lt;&lt; endl;  <span class="comment">// è¾“å‡º 15</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Extracted Max: &quot;</span> &lt;&lt; heap.<span class="built_in">extractMax</span>() &lt;&lt; endl;  <span class="comment">// è¾“å‡º 10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°ï¼ˆC-æ ‡å‡†åº“ï¼‰"><a href="#ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°ï¼ˆC-æ ‡å‡†åº“ï¼‰" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°ï¼ˆC++ æ ‡å‡†åº“ï¼‰"></a>ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°ï¼ˆC++ æ ‡å‡†åº“ï¼‰</h4><p>C++ STL æä¾›äº† <code>priority_queue</code>ï¼Œé»˜è®¤æ˜¯æœ€å¤§å †ï¼Œä½†å¯ä»¥é€šè¿‡ä¼ é€’è‡ªå®šä¹‰æ¯”è¾ƒå™¨æ¥å®ç°æœ€å°å †ã€‚</p><p>å¥½çš„ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç›´æ¥å®ç°çš„<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ï¼Œä¸ä¾èµ– C++ æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<strong>æœ€å¤§å †</strong>çš„æ–¹å¼æ¥å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¯ä»¥å¿«é€Ÿåœ°è·å–æœ€å¤§å€¼å¹¶è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚æœ€å°å †çš„å®ç°æ–¹å¼ç±»ä¼¼ï¼Œåªéœ€è°ƒæ•´æ¯”è¾ƒé€»è¾‘ã€‚</p><h4 id="åŸºäºæœ€å¤§å †çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°"><a href="#åŸºäºæœ€å¤§å †çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°" class="headerlink" title="åŸºäºæœ€å¤§å †çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°"></a>åŸºäºæœ€å¤§å †çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PriorityQueue</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; heap; <span class="comment">// ä½¿ç”¨æ•°ç»„æ¥è¡¨ç¤ºå †</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸Šæµ®æ“ä½œï¼Œç”¨äºæ’å…¥å…ƒç´ åè°ƒæ•´å †</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">heapifyUp</span><span class="params">(<span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> parent = (index - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (heap[index] &gt; heap[parent]) &#123; <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œäº¤æ¢ä½ç½®</span></span><br><span class="line">                <span class="built_in">swap</span>(heap[index], heap[parent]);</span><br><span class="line">                index = parent; <span class="comment">// æ›´æ–°å½“å‰èŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹æ²‰æ“ä½œï¼Œç”¨äºåˆ é™¤å…ƒç´ åè°ƒæ•´å †</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">heapifyDown</span><span class="params">(<span class="type">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> size = heap.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span> * index + <span class="number">1</span> &lt; size) &#123; <span class="comment">// åªéœ€æ£€æŸ¥å·¦å­èŠ‚ç‚¹å­˜åœ¨çš„æƒ…å†µ</span></span><br><span class="line">            <span class="type">int</span> leftChild = <span class="number">2</span> * index + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> rightChild = <span class="number">2</span> * index + <span class="number">2</span>;</span><br><span class="line">            <span class="type">int</span> largerChild = leftChild;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰¾åˆ°è¾ƒå¤§çš„å­èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (rightChild &lt; size &amp;&amp; heap[rightChild] &gt; heap[leftChild]) &#123;</span><br><span class="line">                largerChild = rightChild;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹å°äºè¾ƒå¤§çš„å­èŠ‚ç‚¹ï¼Œäº¤æ¢</span></span><br><span class="line">            <span class="keyword">if</span> (heap[index] &lt; heap[largerChild]) &#123;</span><br><span class="line">                <span class="built_in">swap</span>(heap[index], heap[largerChild]);</span><br><span class="line">                index = largerChild; <span class="comment">// æ›´æ–°å½“å‰èŠ‚ç‚¹ä¸ºäº¤æ¢åçš„å­èŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ’å…¥å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        heap.<span class="built_in">push_back</span>(val);  <span class="comment">// æ·»åŠ åˆ°å †çš„æœ«å°¾</span></span><br><span class="line">        <span class="built_in">heapifyUp</span>(heap.<span class="built_in">size</span>() - <span class="number">1</span>); <span class="comment">// è°ƒæ•´å †</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æœ€å¤§å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">top</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (heap.<span class="built_in">empty</span>()) <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;PriorityQueue is empty&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> heap[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤æœ€å¤§å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (heap.<span class="built_in">empty</span>()) <span class="keyword">throw</span> <span class="built_in">runtime_error</span>(<span class="string">&quot;PriorityQueue is empty&quot;</span>);</span><br><span class="line">        heap[<span class="number">0</span>] = heap.<span class="built_in">back</span>();  <span class="comment">// å°†æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°å †é¡¶</span></span><br><span class="line">        heap.<span class="built_in">pop_back</span>();  <span class="comment">// åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        <span class="built_in">heapifyDown</span>(<span class="number">0</span>); <span class="comment">// è°ƒæ•´å †</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> heap.<span class="built_in">empty</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    PriorityQueue pq;</span><br><span class="line"></span><br><span class="line">    pq.<span class="built_in">push</span>(<span class="number">10</span>);</span><br><span class="line">    pq.<span class="built_in">push</span>(<span class="number">20</span>);</span><br><span class="line">    pq.<span class="built_in">push</span>(<span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Top Element: &quot;</span> &lt;&lt; pq.<span class="built_in">top</span>() &lt;&lt; endl;  <span class="comment">// è¾“å‡º 20</span></span><br><span class="line">    pq.<span class="built_in">pop</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Top Element after pop: &quot;</span> &lt;&lt; pq.<span class="built_in">top</span>() &lt;&lt; endl;  <span class="comment">// è¾“å‡º 15</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç è§£é‡Š</p><ol><li><p><strong><code>push</code> æ–¹æ³•</strong>ï¼šå°†æ–°å…ƒç´ æ’å…¥å †çš„æœ«å°¾ï¼Œä¹‹åè°ƒç”¨ <code>heapifyUp</code> è¿›è¡Œä¸Šæµ®è°ƒæ•´ï¼Œä¿è¯å †çš„æœ€å¤§æ€§è´¨ã€‚</p></li><li><p><strong><code>top</code> æ–¹æ³•</strong>ï¼šè¿”å›å †é¡¶å…ƒç´ ï¼Œå³ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ï¼ˆæœ€å¤§å€¼ï¼‰ã€‚</p></li><li><p><strong><code>pop</code> æ–¹æ³•</strong>ï¼šåˆ é™¤å †é¡¶å…ƒç´ ï¼Œå°†å †çš„æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°å †é¡¶ï¼Œå¹¶è°ƒç”¨ <code>heapifyDown</code> è¿›è¡Œä¸‹æ²‰è°ƒæ•´ï¼Œä¿è¯å †çš„æœ€å¤§æ€§è´¨ã€‚</p></li><li><p><strong><code>heapifyUp</code> å’Œ <code>heapifyDown</code> æ–¹æ³•</strong>ï¼šç»´æŠ¤å †çš„æ€§è´¨ï¼Œåˆ†åˆ«ç”¨äºå…ƒç´ æ’å…¥å’Œåˆ é™¤åçš„è°ƒæ•´æ“ä½œã€‚</p></li></ol><h2 id="äºŒå‰æ’åºæ ‘"><a href="#äºŒå‰æ’åºæ ‘" class="headerlink" title="äºŒå‰æ’åºæ ‘"></a>äºŒå‰æ’åºæ ‘</h2><p><strong>äºŒå‰æ’åºæ ‘</strong>ï¼ˆBinary Search Tree, BSTï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œç”¨äºå¿«é€ŸæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚BST åœ¨å¾ˆå¤šåº”ç”¨ä¸­ç”¨äºæ„å»ºé›†åˆå’Œå­—å…¸ã€‚</p><h3 id="äºŒå‰æ’åºæ ‘çš„æ¦‚å¿µ"><a href="#äºŒå‰æ’åºæ ‘çš„æ¦‚å¿µ" class="headerlink" title="äºŒå‰æ’åºæ ‘çš„æ¦‚å¿µ"></a>äºŒå‰æ’åºæ ‘çš„æ¦‚å¿µ</h3><ul><li><strong>äºŒå‰æ’åºæ ‘</strong>æ˜¯ä¸€ç§æœ‰åºçš„äºŒå‰æ ‘ã€‚å¯¹äº BST ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ <code>N</code>ï¼Œæ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š<ol><li><strong>å·¦å­æ ‘</strong>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å°äº <code>N</code> èŠ‚ç‚¹çš„å€¼ã€‚</li><li><strong>å³å­æ ‘</strong>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å¤§äº <code>N</code> èŠ‚ç‚¹çš„å€¼ã€‚</li><li>å·¦å³å­æ ‘ä¹Ÿæ˜¯äºŒå‰æ’åºæ ‘ã€‚</li></ol></li></ul><h3 id="äºŒå‰æ’åºæ ‘çš„æ€§è´¨"><a href="#äºŒå‰æ’åºæ ‘çš„æ€§è´¨" class="headerlink" title="äºŒå‰æ’åºæ ‘çš„æ€§è´¨"></a>äºŒå‰æ’åºæ ‘çš„æ€§è´¨</h3><ol><li><strong>æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œ</strong>çš„æ—¶é—´å¤æ‚åº¦å¹³å‡ä¸º <code>O(log n)</code>ï¼Œæœ€åæƒ…å†µä¸‹ä¸º <code>O(n)</code>ï¼Œå½“ BST é€€åŒ–ä¸ºé“¾è¡¨ï¼ˆå³æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼‰æ—¶ä¼šè¾¾åˆ°æœ€åæƒ…å†µã€‚</li><li><strong>ä¸­åºéå†</strong>å¯ä»¥å¾—åˆ°ä¸€ä¸ªå‡åºçš„åºåˆ—ã€‚</li><li>äºŒå‰æ’åºæ ‘ä¸å…è®¸æœ‰é‡å¤çš„èŠ‚ç‚¹ã€‚</li></ol><h3 id="äºŒå‰æ’åºæ ‘çš„ç®€æ´-C-å®ç°"><a href="#äºŒå‰æ’åºæ ‘çš„ç®€æ´-C-å®ç°" class="headerlink" title="äºŒå‰æ’åºæ ‘çš„ç®€æ´ C++ å®ç°"></a>äºŒå‰æ’åºæ ‘çš„ç®€æ´ C++ å®ç°</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ C++ å®ç°ï¼ŒåŒ…æ‹¬æ’å…¥ã€æŸ¥æ‰¾å’Œåˆ é™¤æ“ä½œï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode* left;</span><br><span class="line">    TreeNode* right;</span><br><span class="line">    <span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BinarySearchTree</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">insert</span><span class="params">(TreeNode* root, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">TreeNode</span>(val);  <span class="comment">// ç©ºèŠ‚ç‚¹ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (val &lt; root-&gt;val)</span><br><span class="line">            root-&gt;left = <span class="built_in">insert</span>(root-&gt;left, val);  <span class="comment">// æ’å…¥å·¦å­æ ‘</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; root-&gt;val)</span><br><span class="line">            root-&gt;right = <span class="built_in">insert</span>(root-&gt;right, val); <span class="comment">// æ’å…¥å³å­æ ‘</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(TreeNode* root, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// ç©ºèŠ‚ç‚¹è¡¨ç¤ºæœªæ‰¾åˆ°</span></span><br><span class="line">        <span class="keyword">if</span> (val == root-&gt;val) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (val &lt; root-&gt;val)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">search</span>(root-&gt;left, val);  <span class="comment">// åœ¨å·¦å­æ ‘ä¸­æŸ¥æ‰¾</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">search</span>(root-&gt;right, val); <span class="comment">// åœ¨å³å­æ ‘ä¸­æŸ¥æ‰¾</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">remove</span><span class="params">(TreeNode* root, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">if</span> (val &lt; root-&gt;val)</span><br><span class="line">            root-&gt;left = <span class="built_in">remove</span>(root-&gt;left, val);  <span class="comment">// åˆ é™¤å·¦å­æ ‘èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; root-&gt;val)</span><br><span class="line">            root-&gt;right = <span class="built_in">remove</span>(root-&gt;right, val); <span class="comment">// åˆ é™¤å³å­æ ‘èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (!root-&gt;left) &#123;</span><br><span class="line">                TreeNode* rightChild = root-&gt;right;</span><br><span class="line">                <span class="keyword">delete</span> root;</span><br><span class="line">                <span class="keyword">return</span> rightChild;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!root-&gt;right) &#123;</span><br><span class="line">                TreeNode* leftChild = root-&gt;left;</span><br><span class="line">                <span class="keyword">delete</span> root;</span><br><span class="line">                <span class="keyword">return</span> leftChild;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</span></span><br><span class="line">                TreeNode* minNode = <span class="built_in">getMin</span>(root-&gt;right);</span><br><span class="line">                root-&gt;val = minNode-&gt;val;  <span class="comment">// ç”¨å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹æ›¿æ¢å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">                root-&gt;right = <span class="built_in">remove</span>(root-&gt;right, minNode-&gt;val); <span class="comment">// åˆ é™¤å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æœ€å°èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">getMin</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (root-&gt;left) root = root-&gt;left;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸­åºéå†ï¼ˆè¾“å‡ºæ ‘ä¸­èŠ‚ç‚¹çš„å€¼ï¼‰</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">inorder</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root) &#123;</span><br><span class="line">            <span class="built_in">inorder</span>(root-&gt;left);</span><br><span class="line">            cout &lt;&lt; root-&gt;val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="built_in">inorder</span>(root-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BinarySearchTree bst;</span><br><span class="line">    TreeNode* root = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line">    root = bst.<span class="built_in">insert</span>(root, <span class="number">50</span>);</span><br><span class="line">    bst.<span class="built_in">insert</span>(root, <span class="number">30</span>);</span><br><span class="line">    bst.<span class="built_in">insert</span>(root, <span class="number">20</span>);</span><br><span class="line">    bst.<span class="built_in">insert</span>(root, <span class="number">40</span>);</span><br><span class="line">    bst.<span class="built_in">insert</span>(root, <span class="number">70</span>);</span><br><span class="line">    bst.<span class="built_in">insert</span>(root, <span class="number">60</span>);</span><br><span class="line">    bst.<span class="built_in">insert</span>(root, <span class="number">80</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸­åºéå†ï¼ˆè¾“å‡ºæœ‰åºåºåˆ—ï¼‰</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Inorder traversal: &quot;</span>;</span><br><span class="line">    bst.<span class="built_in">inorder</span>(root);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾èŠ‚ç‚¹</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Search for 40: &quot;</span> &lt;&lt; (bst.<span class="built_in">search</span>(root, <span class="number">40</span>) ? <span class="string">&quot;Found&quot;</span> : <span class="string">&quot;Not found&quot;</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">    root = bst.<span class="built_in">remove</span>(root, <span class="number">20</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Inorder traversal after deleting 20: &quot;</span>;</span><br><span class="line">    bst.<span class="built_in">inorder</span>(root);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç è§£é‡Š</p><ol><li><strong>æ’å…¥èŠ‚ç‚¹</strong>ï¼šé€’å½’åœ°æ‰¾åˆ°æ­£ç¡®çš„æ’å…¥ä½ç½®ï¼Œå°†èŠ‚ç‚¹æ·»åŠ åˆ°å·¦å­æ ‘æˆ–å³å­æ ‘ã€‚</li><li><strong>æŸ¥æ‰¾èŠ‚ç‚¹</strong>ï¼šæ ¹æ®å€¼åœ¨å·¦å­æ ‘æˆ–å³å­æ ‘ä¸­é€’å½’æŸ¥æ‰¾ã€‚</li><li><strong>åˆ é™¤èŠ‚ç‚¹</strong>ï¼š<ul><li>å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œç›´æ¥åˆ é™¤ã€‚</li><li>å¦‚æœåªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œç”¨å­èŠ‚ç‚¹æ›¿æ¢å½“å‰èŠ‚ç‚¹ã€‚</li><li>å¦‚æœæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œç”¨å³å­æ ‘ä¸­æœ€å°çš„èŠ‚ç‚¹æ›¿æ¢å½“å‰èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤æ›¿æ¢èŠ‚ç‚¹ã€‚</li></ul></li><li><strong>ä¸­åºéå†</strong>ï¼šæŒ‰ç…§å·¦å­æ ‘ -&gt; æ ¹èŠ‚ç‚¹ -&gt; å³å­æ ‘çš„é¡ºåºéå†èŠ‚ç‚¹ï¼Œè¾“å‡ºæ’åºåçš„å€¼ã€‚</li></ol><h2 id="å¹³è¡¡äºŒå‰æ ‘"><a href="#å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘"></a>å¹³è¡¡äºŒå‰æ ‘</h2><p><strong>å¹³è¡¡äºŒå‰æ ‘</strong>ï¼ˆBalanced Binary Treeï¼‰æ˜¯ä¸€ç§æ”¹è¿›çš„äºŒå‰æœç´¢æ ‘ï¼Œå®ƒä¿è¯æ ‘çš„é«˜åº¦ä¿æŒå¹³è¡¡ï¼Œä»è€Œé¿å…æœ€åæƒ…å†µä¸‹é€€åŒ–ä¸ºé“¾è¡¨ã€‚å¸¸è§çš„å¹³è¡¡äºŒå‰æ ‘åŒ…æ‹¬ <strong>AVLæ ‘</strong> å’Œ <strong>çº¢é»‘æ ‘</strong>ã€‚è¿™é‡Œä»¥ <strong>AVLæ ‘</strong> ä¸ºä¾‹ï¼Œæ¥ä»‹ç»å¹³è¡¡äºŒå‰æ ‘çš„æ¦‚å¿µã€æ€§è´¨ä»¥åŠå®ç°ã€‚</p><h3 id="å¹³è¡¡äºŒå‰æ ‘çš„æ¦‚å¿µå’Œæ€§è´¨"><a href="#å¹³è¡¡äºŒå‰æ ‘çš„æ¦‚å¿µå’Œæ€§è´¨" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘çš„æ¦‚å¿µå’Œæ€§è´¨"></a>å¹³è¡¡äºŒå‰æ ‘çš„æ¦‚å¿µå’Œæ€§è´¨</h3><ol><li><p><strong>å¹³è¡¡å› å­</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡1ï¼Œç§°ä¸ºå¹³è¡¡äºŒå‰æ ‘ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äº AVL æ ‘ï¼Œä»»ä¸€èŠ‚ç‚¹çš„å¹³è¡¡å› å­ï¼ˆå·¦å­æ ‘é«˜åº¦å‡å»å³å­æ ‘é«˜åº¦çš„å·®ï¼‰åªèƒ½æ˜¯ -1ã€0 æˆ– 1ã€‚</p></li><li><p><strong>è‡ªå¹³è¡¡</strong>ï¼šåœ¨æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹åï¼ŒAVL æ ‘ä¼šé€šè¿‡æ—‹è½¬æ“ä½œï¼ˆå¦‚å•æ—‹è½¬ã€åŒæ—‹è½¬ï¼‰æ¥æ¢å¤å¹³è¡¡ã€‚</p></li><li><p><strong>æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦</strong>ä¸º (O(\log n))ï¼Œè¿™æ˜¯å› ä¸º AVL æ ‘æ€»æ˜¯ä¿æŒå¹³è¡¡ï¼Œæ ‘çš„é«˜åº¦å§‹ç»ˆä¸º (O(\log n))ã€‚</p></li></ol><h3 id="AVL-æ ‘çš„æ—‹è½¬æ“ä½œ"><a href="#AVL-æ ‘çš„æ—‹è½¬æ“ä½œ" class="headerlink" title="AVL æ ‘çš„æ—‹è½¬æ“ä½œ"></a>AVL æ ‘çš„æ—‹è½¬æ“ä½œ</h3><ul><li><strong>å·¦æ—‹</strong>ï¼šå³å­æ ‘é«˜åº¦å¤§äºå·¦å­æ ‘æ—¶ï¼Œå°†å³å­èŠ‚ç‚¹æ—‹è½¬ä¸ºæ ¹èŠ‚ç‚¹ã€‚</li><li><strong>å³æ—‹</strong>ï¼šå·¦å­æ ‘é«˜åº¦å¤§äºå³å­æ ‘æ—¶ï¼Œå°†å·¦å­èŠ‚ç‚¹æ—‹è½¬ä¸ºæ ¹èŠ‚ç‚¹ã€‚</li><li><strong>åŒæ—‹è½¬</strong>ï¼šå½“æ’å…¥èŠ‚ç‚¹ç ´åå¹³è¡¡å› å­åï¼Œå…ˆè¿›è¡Œä¸€æ¬¡å·¦æ—‹æˆ–å³æ—‹ï¼Œå†è¿›è¡Œä¸€æ¬¡å³æ—‹æˆ–å·¦æ—‹ã€‚</li></ul><h3 id="AVL-æ ‘çš„ç®€æ´-C-å®ç°"><a href="#AVL-æ ‘çš„ç®€æ´-C-å®ç°" class="headerlink" title="AVL æ ‘çš„ç®€æ´ C++ å®ç°"></a>AVL æ ‘çš„ç®€æ´ C++ å®ç°</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŒ…å«æ’å…¥æ“ä½œçš„ç®€å• AVL æ ‘å®ç°ä»£ç ã€‚æ’å…¥æ“ä½œåä¼šè¿›è¡Œå¹³è¡¡è°ƒæ•´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode* left;</span><br><span class="line">    TreeNode* right;</span><br><span class="line">    <span class="type">int</span> height;</span><br><span class="line">    <span class="built_in">TreeNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>), <span class="built_in">height</span>(<span class="number">1</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AVLTree</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// è·å–èŠ‚ç‚¹é«˜åº¦</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getHeight</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> node ? node-&gt;height : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°èŠ‚ç‚¹é«˜åº¦</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getBalance</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> node ? <span class="built_in">getHeight</span>(node-&gt;left) - <span class="built_in">getHeight</span>(node-&gt;right) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å³æ—‹</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">rightRotate</span><span class="params">(TreeNode* y)</span> </span>&#123;</span><br><span class="line">        TreeNode* x = y-&gt;left;</span><br><span class="line">        TreeNode* T2 = x-&gt;right;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ—‹è½¬</span></span><br><span class="line">        x-&gt;right = y;</span><br><span class="line">        y-&gt;left = T2;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°é«˜åº¦</span></span><br><span class="line">        y-&gt;height = <span class="built_in">max</span>(<span class="built_in">getHeight</span>(y-&gt;left), <span class="built_in">getHeight</span>(y-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">        x-&gt;height = <span class="built_in">max</span>(<span class="built_in">getHeight</span>(x-&gt;left), <span class="built_in">getHeight</span>(x-&gt;right)) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·¦æ—‹</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">leftRotate</span><span class="params">(TreeNode* x)</span> </span>&#123;</span><br><span class="line">        TreeNode* y = x-&gt;right;</span><br><span class="line">        TreeNode* T2 = y-&gt;left;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ—‹è½¬</span></span><br><span class="line">        y-&gt;left = x;</span><br><span class="line">        x-&gt;right = T2;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°é«˜åº¦</span></span><br><span class="line">        x-&gt;height = <span class="built_in">max</span>(<span class="built_in">getHeight</span>(x-&gt;left), <span class="built_in">getHeight</span>(x-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">        y-&gt;height = <span class="built_in">max</span>(<span class="built_in">getHeight</span>(y-&gt;left), <span class="built_in">getHeight</span>(y-&gt;right)) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥èŠ‚ç‚¹å¹¶ä¿æŒå¹³è¡¡</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">insert</span><span class="params">(TreeNode* node, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!node) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">TreeNode</span>(val);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ’å…¥åˆ°å·¦å­æ ‘æˆ–å³å­æ ‘</span></span><br><span class="line">        <span class="keyword">if</span> (val &lt; node-&gt;val) node-&gt;left = <span class="built_in">insert</span>(node-&gt;left, val);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; node-&gt;val) node-&gt;right = <span class="built_in">insert</span>(node-&gt;right, val);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> node; <span class="comment">// ä¸å…è®¸æ’å…¥é‡å¤å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°å½“å‰èŠ‚ç‚¹é«˜åº¦</span></span><br><span class="line">        node-&gt;height = <span class="number">1</span> + <span class="built_in">max</span>(<span class="built_in">getHeight</span>(node-&gt;left), <span class="built_in">getHeight</span>(node-&gt;right));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¹³è¡¡å› å­å¹¶æ—‹è½¬</span></span><br><span class="line">        <span class="type">int</span> balance = <span class="built_in">getBalance</span>(node);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦å·¦æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (balance &gt; <span class="number">1</span> &amp;&amp; val &lt; node-&gt;left-&gt;val)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">rightRotate</span>(node);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å³å³æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (balance &lt; <span class="number">-1</span> &amp;&amp; val &gt; node-&gt;right-&gt;val)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">leftRotate</span>(node);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦å³æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (balance &gt; <span class="number">1</span> &amp;&amp; val &gt; node-&gt;left-&gt;val) &#123;</span><br><span class="line">            node-&gt;left = <span class="built_in">leftRotate</span>(node-&gt;left);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">rightRotate</span>(node);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å³å·¦æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (balance &lt; <span class="number">-1</span> &amp;&amp; val &lt; node-&gt;right-&gt;val) &#123;</span><br><span class="line">            node-&gt;right = <span class="built_in">rightRotate</span>(node-&gt;right);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">leftRotate</span>(node);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸­åºéå†è¾“å‡º</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">inorder</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root) &#123;</span><br><span class="line">            <span class="built_in">inorder</span>(root-&gt;left);</span><br><span class="line">            cout &lt;&lt; root-&gt;val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="built_in">inorder</span>(root-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    AVLTree avl;</span><br><span class="line">    TreeNode* root = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line">    root = avl.<span class="built_in">insert</span>(root, <span class="number">10</span>);</span><br><span class="line">    root = avl.<span class="built_in">insert</span>(root, <span class="number">20</span>);</span><br><span class="line">    root = avl.<span class="built_in">insert</span>(root, <span class="number">30</span>);</span><br><span class="line">    root = avl.<span class="built_in">insert</span>(root, <span class="number">40</span>);</span><br><span class="line">    root = avl.<span class="built_in">insert</span>(root, <span class="number">50</span>);</span><br><span class="line">    root = avl.<span class="built_in">insert</span>(root, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡ºä¸­åºéå†</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Inorder traversal of AVL tree: &quot;</span>;</span><br><span class="line">    avl.<span class="built_in">inorder</span>(root);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç è§£é‡Š</p><ol><li><strong>getHeight å’Œ getBalance</strong>ï¼šç”¨äºè®¡ç®—èŠ‚ç‚¹çš„é«˜åº¦å’Œå¹³è¡¡å› å­ã€‚</li><li><strong>å³æ—‹å’Œå·¦æ—‹æ“ä½œ</strong>ï¼šç”¨äºåœ¨å¤±è¡¡æ—¶æ¢å¤å¹³è¡¡ã€‚</li><li><strong>insert æ“ä½œ</strong>ï¼šæŒ‰äºŒå‰æœç´¢æ ‘çš„è§„åˆ™æ’å…¥æ–°èŠ‚ç‚¹ï¼Œå¹¶åœ¨æ¯æ¬¡æ’å…¥åæ£€æŸ¥å¹³è¡¡æ€§å¹¶è¿›è¡Œå¿…è¦çš„æ—‹è½¬æ“ä½œã€‚</li><li><strong>inorder éå†</strong>ï¼šç”¨äºè¾“å‡º AVL æ ‘ä¸­èŠ‚ç‚¹çš„å€¼ï¼ŒéªŒè¯æ ‘ç»“æ„çš„æ­£ç¡®æ€§ã€‚</li></ol><h2 id="å“ˆå¤«æ›¼-Huffman-æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç "><a href="#å“ˆå¤«æ›¼-Huffman-æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç " class="headerlink" title="å“ˆå¤«æ›¼(Huffman)æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç "></a>å“ˆå¤«æ›¼(Huffman)æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç </h2><p><strong>å“ˆå¤«æ›¼æ ‘</strong>ï¼ˆHuffman Treeï¼‰å’Œ<strong>å“ˆå¤«æ›¼ç¼–ç </strong>ï¼ˆHuffman Codingï¼‰æ˜¯æ•°æ®å‹ç¼©é¢†åŸŸçš„é‡è¦æ¦‚å¿µã€‚å®ƒä»¬é€šè¿‡ä½¿ç”¨å˜é•¿ç¼–ç è¡¨å¯¹é¢‘ç‡è¾ƒé«˜çš„æ•°æ®åˆ†é…è¾ƒçŸ­çš„ç¼–ç ï¼Œä»è€Œæœ‰æ•ˆåœ°å‡å°‘æ•°æ®çš„å­˜å‚¨ç©ºé—´ã€‚</p><h3 id="å“ˆå¤«æ›¼æ ‘çš„æ¦‚å¿µ"><a href="#å“ˆå¤«æ›¼æ ‘çš„æ¦‚å¿µ" class="headerlink" title="å“ˆå¤«æ›¼æ ‘çš„æ¦‚å¿µ"></a>å“ˆå¤«æ›¼æ ‘çš„æ¦‚å¿µ</h3><ul><li><strong>å“ˆå¤«æ›¼æ ‘</strong>æ˜¯ä¸€ç§å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„äºŒå‰æ ‘ï¼Œç”¨äºå®ç°æœ€ä¼˜å‰ç¼€ç¼–ç ã€‚é€šå¸¸ç”¨äºæ— æŸæ•°æ®å‹ç¼©ã€‚</li><li>åœ¨å“ˆå¤«æ›¼æ ‘ä¸­ï¼Œé¢‘ç‡è¾ƒé«˜çš„å­—ç¬¦ä¼šè¢«åˆ†é…è¾ƒçŸ­çš„ç¼–ç ï¼Œè€Œé¢‘ç‡è¾ƒä½çš„å­—ç¬¦ä¼šè¢«åˆ†é…è¾ƒé•¿çš„ç¼–ç ï¼Œä»è€Œä½¿æ•´ä½“ç¼–ç é•¿åº¦æœ€å°åŒ–ã€‚</li></ul><h3 id="å“ˆå¤«æ›¼ç¼–ç çš„æ¦‚å¿µ"><a href="#å“ˆå¤«æ›¼ç¼–ç çš„æ¦‚å¿µ" class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç çš„æ¦‚å¿µ"></a>å“ˆå¤«æ›¼ç¼–ç çš„æ¦‚å¿µ</h3><ul><li><strong>å“ˆå¤«æ›¼ç¼–ç </strong>æ˜¯ä¸€ç§åŸºäºå“ˆå¤«æ›¼æ ‘çš„å‰ç¼€ç¼–ç ã€‚æ¯ä¸ªå­—ç¬¦ç”¨ä¸€ä¸²äºŒè¿›åˆ¶æ•°å­—è¡¨ç¤ºï¼Œä¸”ä¸åŒå­—ç¬¦çš„ç¼–ç æ— å…¬å…±å‰ç¼€ï¼ˆå‰ç¼€ç¼–ç ï¼‰ï¼Œé¿å…äº†ç¼–ç æ­§ä¹‰ã€‚</li><li>åœ¨æ„å»ºå“ˆå¤«æ›¼æ ‘åï¼Œä»æ ¹åˆ°æ¯ä¸ªå¶èŠ‚ç‚¹çš„è·¯å¾„å½¢æˆè¯¥èŠ‚ç‚¹çš„ç¼–ç ï¼Œå·¦å­æ ‘ä¸º <code>0</code>ï¼Œå³å­æ ‘ä¸º <code>1</code>ã€‚</li></ul><h3 id="å“ˆå¤«æ›¼æ ‘çš„æ€§è´¨"><a href="#å“ˆå¤«æ›¼æ ‘çš„æ€§è´¨" class="headerlink" title="å“ˆå¤«æ›¼æ ‘çš„æ€§è´¨"></a>å“ˆå¤«æ›¼æ ‘çš„æ€§è´¨</h3><ol><li><strong>æœ€ä¼˜ç¼–ç </strong>ï¼šå“ˆå¤«æ›¼ç¼–ç æ˜¯æ— æŸå‹ç¼©çš„æœ€ä¼˜ç¼–ç æ–¹å¼ä¹‹ä¸€ï¼Œå¯æœ‰æ•ˆå‡å°‘å­˜å‚¨ç©ºé—´ã€‚</li><li><strong>å‰ç¼€ç¼–ç </strong>ï¼šæ— å…¬å…±å‰ç¼€ï¼Œé¿å…ç¼–ç æ­§ä¹‰ã€‚</li><li><strong>æ„é€ å¤æ‚åº¦</strong>ï¼šå“ˆå¤«æ›¼æ ‘æ„å»ºè¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸º (O(n \log n))ï¼Œå…¶ä¸­ (n) æ˜¯å­—ç¬¦çš„ç§ç±»æ•°ã€‚</li></ol><p><strong>æ— å…¬å…±å‰ç¼€</strong>çš„æ„æ€æ˜¯ï¼Œåœ¨ä¸€ä¸ªç¼–ç ç³»ç»Ÿä¸­ï¼Œä»»ä½•ä¸€ä¸ªå­—ç¬¦çš„ç¼–ç éƒ½ä¸æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ç¼–ç çš„å¼€å¤´éƒ¨åˆ†ï¼ˆå‰ç¼€ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè§£ç æ—¶ä¸ä¼šæœ‰æ­§ä¹‰ï¼Œå› ä¸ºæ¯ä¸ªç¼–ç æ˜¯å”¯ä¸€ä¸”ç‹¬ç«‹çš„ã€‚</p><p>åœ¨å“ˆå¤«æ›¼ç¼–ç ä¸­ï¼Œè¿™ç§â€œæ— å…¬å…±å‰ç¼€â€æ€§è´¨è¢«ç§°ä¸º<strong>å‰ç¼€ç </strong>ï¼ˆPrefix Codeï¼‰ã€‚å…·ä½“æ¥è¯´ï¼š</p><ul><li>ä¾‹å¦‚ï¼Œå¦‚æœå­—ç¬¦ A çš„ç¼–ç æ˜¯ <code>0</code>ï¼Œå­—ç¬¦ B çš„ç¼–ç æ˜¯ <code>10</code>ï¼Œå­—ç¬¦ C çš„ç¼–ç æ˜¯ <code>110</code>ï¼Œå­—ç¬¦ D çš„ç¼–ç æ˜¯ <code>111</code>ï¼Œé‚£ä¹ˆè¿™äº›ç¼–ç æ²¡æœ‰å…¬å…±å‰ç¼€ï¼Œå› ä¸ºï¼š<ul><li><code>0</code> ä¸ä¼šæ˜¯å…¶ä»–ç¼–ç ï¼ˆ<code>10</code>, <code>110</code>, <code>111</code>ï¼‰çš„å‰ç¼€ã€‚</li><li><code>10</code> ä¹Ÿä¸ä¼šæ˜¯ <code>110</code> æˆ– <code>111</code> çš„å‰ç¼€ã€‚</li></ul></li></ul><p>è¿™æ ·å¯ä»¥ç¡®ä¿<strong>å”¯ä¸€è§£ç </strong>ï¼Œå³æ¯å½“æˆ‘ä»¬è§£ç æ—¶ï¼Œé‡åˆ°ç¼–ç  <code>0</code> æ—¶ç«‹å³çŸ¥é“æ˜¯ Aï¼Œé‡åˆ° <code>10</code> æ—¶å°±æ˜¯ Bï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><h3 id="å“ˆå¤«æ›¼æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç çš„C-å®ç°"><a href="#å“ˆå¤«æ›¼æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç çš„C-å®ç°" class="headerlink" title="å“ˆå¤«æ›¼æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç çš„C++å®ç°"></a>å“ˆå¤«æ›¼æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç çš„C++å®ç°</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€æ´çš„C++å®ç°ï¼Œä½¿ç”¨æœ€å°å †æ¥æ„å»ºå“ˆå¤«æ›¼æ ‘ï¼Œå¹¶ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å“ˆå¤«æ›¼æ ‘çš„èŠ‚ç‚¹ç»“æ„</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HuffmanNode</span> &#123;</span><br><span class="line">    <span class="type">char</span> ch;              <span class="comment">// å­—ç¬¦</span></span><br><span class="line">    <span class="type">int</span> freq;             <span class="comment">// å­—ç¬¦é¢‘ç‡</span></span><br><span class="line">    HuffmanNode* left;    <span class="comment">// å·¦å­èŠ‚ç‚¹</span></span><br><span class="line">    HuffmanNode* right;   <span class="comment">// å³å­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">HuffmanNode</span>(<span class="type">char</span> c, <span class="type">int</span> f) : <span class="built_in">ch</span>(c), <span class="built_in">freq</span>(f), <span class="built_in">left</span>(<span class="literal">nullptr</span>), <span class="built_in">right</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Compare</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(HuffmanNode* a, HuffmanNode* b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a-&gt;freq &gt; b-&gt;freq;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">generateCodes</span><span class="params">(HuffmanNode* root, string code, unordered_map&lt;<span class="type">char</span>, string&gt;&amp; huffmanCode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ°è¾¾å¶èŠ‚ç‚¹ï¼Œä¿å­˜å­—ç¬¦åŠå…¶å¯¹åº”ç¼–ç </span></span><br><span class="line">    <span class="keyword">if</span> (!root-&gt;left &amp;&amp; !root-&gt;right) &#123;</span><br><span class="line">        huffmanCode[root-&gt;ch] = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">generateCodes</span>(root-&gt;left, code + <span class="string">&quot;0&quot;</span>, huffmanCode);</span><br><span class="line">    <span class="built_in">generateCodes</span>(root-&gt;right, code + <span class="string">&quot;1&quot;</span>, huffmanCode);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡Šæ”¾å“ˆå¤«æ›¼æ ‘å†…å­˜</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">freeTree</span><span class="params">(HuffmanNode* root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">freeTree</span>(root-&gt;left);</span><br><span class="line">    <span class="built_in">freeTree</span>(root-&gt;right);</span><br><span class="line">    <span class="keyword">delete</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„å»ºå“ˆå¤«æ›¼æ ‘å¹¶ç”Ÿæˆç¼–ç </span></span><br><span class="line"><span class="function">unordered_map&lt;<span class="type">char</span>, string&gt; <span class="title">buildHuffmanTree</span><span class="params">(<span class="type">const</span> unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&amp; freq)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æœ€å°å †æ¥æ„å»ºå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">    priority_queue&lt;HuffmanNode*, vector&lt;HuffmanNode*&gt;, Compare&gt; minHeap;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–æ¯ä¸ªå­—ç¬¦çš„èŠ‚ç‚¹å¹¶åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; pair : freq) &#123;</span><br><span class="line">        minHeap.<span class="built_in">push</span>(<span class="keyword">new</span> <span class="built_in">HuffmanNode</span>(pair.first, pair.second));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶èŠ‚ç‚¹ï¼Œæ„å»ºå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">    <span class="keyword">while</span> (minHeap.<span class="built_in">size</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        HuffmanNode* left = minHeap.<span class="built_in">top</span>(); minHeap.<span class="built_in">pop</span>();</span><br><span class="line">        HuffmanNode* right = minHeap.<span class="built_in">top</span>(); minHeap.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–°çš„å†…éƒ¨èŠ‚ç‚¹ï¼Œé¢‘ç‡ä¸ºå·¦å³å­èŠ‚ç‚¹é¢‘ç‡ä¹‹å’Œ</span></span><br><span class="line">        HuffmanNode* sum = <span class="keyword">new</span> <span class="built_in">HuffmanNode</span>(<span class="string">&#x27;\0&#x27;</span>, left-&gt;freq + right-&gt;freq);</span><br><span class="line">        sum-&gt;left = left;</span><br><span class="line">        sum-&gt;right = right;</span><br><span class="line">        minHeap.<span class="built_in">push</span>(sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç </span></span><br><span class="line">    HuffmanNode* root = minHeap.<span class="built_in">top</span>();</span><br><span class="line">    unordered_map&lt;<span class="type">char</span>, string&gt; huffmanCode;</span><br><span class="line">    <span class="built_in">generateCodes</span>(root, <span class="string">&quot;&quot;</span>, huffmanCode);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">freeTree</span>(root);  <span class="comment">// é‡Šæ”¾å†…å­˜</span></span><br><span class="line">    <span class="keyword">return</span> huffmanCode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰å­—ç¬¦é¢‘ç‡</span></span><br><span class="line">    unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; freq = &#123;</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>, <span class="number">5</span>&#125;, &#123;<span class="string">&#x27;b&#x27;</span>, <span class="number">9</span>&#125;, &#123;<span class="string">&#x27;c&#x27;</span>, <span class="number">12</span>&#125;, &#123;<span class="string">&#x27;d&#x27;</span>, <span class="number">13</span>&#125;, &#123;<span class="string">&#x27;e&#x27;</span>, <span class="number">16</span>&#125;, &#123;<span class="string">&#x27;f&#x27;</span>, <span class="number">45</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„å»ºå“ˆå¤«æ›¼æ ‘å¹¶ç”Ÿæˆç¼–ç </span></span><br><span class="line">    unordered_map&lt;<span class="type">char</span>, string&gt; huffmanCode = <span class="built_in">buildHuffmanTree</span>(freq);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡ºç¼–ç </span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Huffman Codes:\n&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; pair : huffmanCode) &#123;</span><br><span class="line">        cout &lt;&lt; pair.first &lt;&lt; <span class="string">&quot; : &quot;</span> &lt;&lt; pair.second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>HuffmanNode</strong>ï¼šå®šä¹‰å“ˆå¤«æ›¼æ ‘çš„èŠ‚ç‚¹ç»“æ„ä½“ï¼ŒåŒ…å«å­—ç¬¦ã€é¢‘ç‡åŠå·¦å³å­èŠ‚ç‚¹ã€‚</li><li><strong>Compare å‡½æ•°å¯¹è±¡</strong>ï¼šç”¨äºæœ€å°å †æ¯”è¾ƒï¼Œä»¥é¢‘ç‡ä¸ºåŸºç¡€æ„å»ºæœ€å°å †ã€‚</li><li><strong>buildHuffmanTree</strong>ï¼šæ„å»ºå“ˆå¤«æ›¼æ ‘ï¼Œé€šè¿‡åˆå¹¶æœ€å°é¢‘ç‡çš„èŠ‚ç‚¹ï¼Œæœ€ç»ˆå½¢æˆä¸€æ£µæ ‘ã€‚</li><li><strong>generateCodes</strong>ï¼šé€’å½’ç”Ÿæˆç¼–ç ï¼Œé€šè¿‡æ ‘çš„è·¯å¾„ç”Ÿæˆæ¯ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶ç¼–ç ã€‚</li><li><strong>main å‡½æ•°</strong>ï¼šå®šä¹‰å­—ç¬¦é¢‘ç‡ï¼Œè°ƒç”¨ <code>buildHuffmanTree</code> æ„å»ºå“ˆå¤«æ›¼æ ‘å¹¶ç”Ÿæˆç¼–ç ï¼Œæœ€åè¾“å‡ºç¼–ç ç»“æœã€‚</li></ol><h3 id="è¾“å‡ºç¤ºä¾‹"><a href="#è¾“å‡ºç¤ºä¾‹" class="headerlink" title="è¾“å‡ºç¤ºä¾‹"></a>è¾“å‡ºç¤ºä¾‹</h3><p>å‡è®¾é¢‘ç‡è¡¨ä¸º <code>&#123;&#39;a&#39;: 5, &#39;b&#39;: 9, &#39;c&#39;: 12, &#39;d&#39;: 13, &#39;e&#39;: 16, &#39;f&#39;: 45&#125;</code>ï¼Œè¾“å‡ºç»“æœå¯èƒ½å¦‚ä¸‹ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Huffman Codes:</span><br><span class="line">a : 1100</span><br><span class="line">b : 1101</span><br><span class="line">c : 100</span><br><span class="line">d : 101</span><br><span class="line">e : 111</span><br><span class="line">f : 0</span><br></pre></td></tr></table></figure></p><p>ä»£ç è¯´æ˜</p><p>é€šè¿‡å“ˆå¤«æ›¼ç¼–ç ï¼Œå­—ç¬¦ â€˜fâ€™ é¢‘ç‡æœ€é«˜ï¼Œç¼–ç æœ€çŸ­ï¼Œè€Œé¢‘ç‡è¾ƒä½çš„å­—ç¬¦ â€˜aâ€™ å’Œ â€˜bâ€™ ç¼–ç æ›´é•¿ï¼Œä»è€Œè¾¾åˆ°å‹ç¼©æ•ˆæœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å“ˆå¸Œè¡¨</title>
      <link href="/2024/10/30/%E5%93%88%E5%B8%8C%E8%A1%A8/"/>
      <url>/2024/10/30/%E5%93%88%E5%B8%8C%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥é€šè¿‡å“ˆå¸Œå‡½æ•°å¿«é€Ÿåœ°æ ¹æ®é”®æ‰¾åˆ°å¯¹åº”çš„å€¼ã€‚å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œåœ¨å¹³å‡æƒ…å†µä¸‹å…·æœ‰ <code>O(1)</code> çš„æ—¶é—´å¤æ‚åº¦ï¼Œéå¸¸é«˜æ•ˆã€‚</p><h2 id="1-å“ˆå¸Œè¡¨çš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-å“ˆå¸Œè¡¨çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. å“ˆå¸Œè¡¨çš„åŸºæœ¬æ¦‚å¿µ"></a>1. å“ˆå¸Œè¡¨çš„åŸºæœ¬æ¦‚å¿µ</h2><p>å“ˆå¸Œè¡¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†é”®é€šè¿‡ä¸€ä¸ª<strong>å“ˆå¸Œå‡½æ•°</strong>ï¼ˆHash Functionï¼‰æ˜ å°„åˆ°ä¸€ä¸ªå“ˆå¸Œè¡¨çš„ç´¢å¼•ä½ç½®ä¸Šã€‚è‹¥ä¸¤ä¸ªé”®æ˜ å°„åˆ°åŒä¸€ä½ç½®ï¼ˆå³å‡ºç°<strong>å“ˆå¸Œå†²çª</strong>ï¼‰ï¼Œåˆ™éœ€è¦è§£å†³å†²çªä»¥ä¿è¯æ•°æ®å­˜å‚¨çš„æ­£ç¡®æ€§ã€‚</p><h3 id="å“ˆå¸Œè¡¨çš„æœ¯è¯­"><a href="#å“ˆå¸Œè¡¨çš„æœ¯è¯­" class="headerlink" title="å“ˆå¸Œè¡¨çš„æœ¯è¯­"></a>å“ˆå¸Œè¡¨çš„æœ¯è¯­</h3><ul><li><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šå°†é”®æ˜ å°„åˆ°è¡¨ä¸­æŸä¸ªä½ç½®çš„å‡½æ•°ã€‚</li><li><strong>å“ˆå¸Œå†²çª</strong>ï¼šä¸¤ä¸ªä¸åŒçš„é”®è¢«æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½®ã€‚</li><li><strong>è£…è½½å› å­</strong>ï¼šè¡¨ä¸­å·²å¡«å……å…ƒç´ çš„æ•°é‡ä¸å“ˆå¸Œè¡¨å¤§å°çš„æ¯”å€¼ã€‚è¾ƒé«˜çš„è£…è½½å› å­ä¼šå¢åŠ å†²çªå‘ç”Ÿçš„å¯èƒ½æ€§ã€‚</li></ul><h2 id="2-å“ˆå¸Œè¡¨çš„å®ç°æ–¹å¼"><a href="#2-å“ˆå¸Œè¡¨çš„å®ç°æ–¹å¼" class="headerlink" title="2. å“ˆå¸Œè¡¨çš„å®ç°æ–¹å¼"></a>2. å“ˆå¸Œè¡¨çš„å®ç°æ–¹å¼</h2><p>å“ˆå¸Œè¡¨çš„å¸¸ç”¨å®ç°æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š</p><ol><li><strong>å¼€æ”¾å¯»å€æ³•</strong>ï¼šåœ¨å‘ç”Ÿå†²çªæ—¶ï¼Œé€šè¿‡å¯»æ‰¾å…¶ä»–ç©ºé—²ä½ç½®æ¥å­˜å‚¨å…ƒç´ ã€‚å¸¸è§çš„å¼€æ”¾å¯»å€æ–¹æ³•åŒ…æ‹¬çº¿æ€§æ¢æµ‹ã€äºŒæ¬¡æ¢æµ‹å’ŒåŒé‡å“ˆå¸Œã€‚</li><li><strong>é“¾åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰</strong>ï¼šåœ¨æ¯ä¸ªå“ˆå¸Œè¡¨ä½ç½®å­˜å‚¨ä¸€ä¸ªé“¾è¡¨ï¼Œåœ¨å‘ç”Ÿå†²çªæ—¶å°†æ–°å…ƒç´ æ’å…¥åˆ°é“¾è¡¨ä¸­ã€‚</li></ol><h2 id="3-å“ˆå¸Œè¡¨çš„-C-å®ç°"><a href="#3-å“ˆå¸Œè¡¨çš„-C-å®ç°" class="headerlink" title="3. å“ˆå¸Œè¡¨çš„ C++ å®ç°"></a>3. å“ˆå¸Œè¡¨çš„ C++ å®ç°</h2><h3 id="ä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰çš„-C-å®ç°"><a href="#ä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰çš„-C-å®ç°" class="headerlink" title="ä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰çš„ C++ å®ç°"></a>ä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰çš„ C++ å®ç°</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„åŠ é“¾è¡¨çš„ç»“æ„æ¥å®ç°å“ˆå¸Œè¡¨ã€‚æ¯ä¸ªæ•°ç»„å…ƒç´ æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œç”¨äºè§£å†³å“ˆå¸Œå†²çªã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HashTable</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;list&lt;<span class="type">int</span>&gt;&gt; table;  <span class="comment">// å“ˆå¸Œè¡¨çš„æ•°ç»„ï¼Œæ¯ä¸ªä½ç½®æ˜¯ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line">    <span class="type">int</span> size;                 <span class="comment">// å“ˆå¸Œè¡¨çš„å¤§å°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“ˆå¸Œå‡½æ•°ï¼šç®€å•å–æ¨¡æ³•</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hashFunction</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key % size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">HashTable</span>(<span class="type">int</span> s) : <span class="built_in">size</span>(s) &#123;</span><br><span class="line">        table.<span class="built_in">resize</span>(size);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">hashFunction</span>(key);</span><br><span class="line">        table[index].<span class="built_in">push_back</span>(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">hashFunction</span>(key);</span><br><span class="line">        table[index].<span class="built_in">remove</span>(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">hashFunction</span>(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; element : table[index]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (element == key) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºå“ˆå¸Œè¡¨</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Index &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;: &quot;</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; element : table[i]) &#123;</span><br><span class="line">                cout &lt;&lt; element &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NULL&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">HashTable <span class="title">hashTable</span><span class="params">(<span class="number">7</span>)</span></span>; <span class="comment">// åˆ›å»ºå¤§å°ä¸º 7 çš„å“ˆå¸Œè¡¨</span></span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">15</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">7</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">14</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hash Table:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    hashTable.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Searching for 15: &quot;</span> &lt;&lt; (hashTable.<span class="built_in">search</span>(<span class="number">15</span>) ? <span class="string">&quot;Found&quot;</span> : <span class="string">&quot;Not Found&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    hashTable.<span class="built_in">remove</span>(<span class="number">15</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;After removing 15:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    hashTable.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h4><ul><li><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šè¿™é‡Œæˆ‘ä»¬ç”¨ç®€å•çš„å–æ¨¡æ–¹æ³•ï¼Œå°†é”®å€¼å¯¹æ˜ å°„åˆ°è¡¨ä¸­çš„æŸä¸ªä½ç½®ã€‚<code>hashFunction(int key)</code> é€šè¿‡ <code>key % size</code> è®¡ç®—ç´¢å¼•ã€‚</li><li><strong>æ’å…¥æ“ä½œ</strong>ï¼šå°†å…ƒç´ æ’å…¥åˆ°å“ˆå¸Œè¡¨ä¸­æŒ‡å®šç´¢å¼•çš„é“¾è¡¨ä¸­ã€‚</li><li><strong>åˆ é™¤æ“ä½œ</strong>ï¼šä»å“ˆå¸Œè¡¨ä¸­æŒ‡å®šç´¢å¼•çš„é“¾è¡¨ä¸­åˆ é™¤ç›®æ ‡å…ƒç´ ã€‚</li><li><strong>æŸ¥æ‰¾æ“ä½œ</strong>ï¼šæ£€æŸ¥ç›®æ ‡å…ƒç´ æ˜¯å¦åœ¨å“ˆå¸Œè¡¨çš„æŸä¸ªä½ç½®çš„é“¾è¡¨ä¸­ã€‚</li></ul><h3 id="å¼€æ”¾å¯»å€æ³•çš„å‡ ç§æ¢æµ‹æ–¹æ³•"><a href="#å¼€æ”¾å¯»å€æ³•çš„å‡ ç§æ¢æµ‹æ–¹æ³•" class="headerlink" title="å¼€æ”¾å¯»å€æ³•çš„å‡ ç§æ¢æµ‹æ–¹æ³•"></a>å¼€æ”¾å¯»å€æ³•çš„å‡ ç§æ¢æµ‹æ–¹æ³•</h3><ol><li><strong>çº¿æ€§æ¢æµ‹</strong>ï¼ˆLinear Probingï¼‰ï¼šå†²çªæ—¶æŒ‰å›ºå®šæ­¥é•¿ï¼ˆé€šå¸¸ä¸º 1ï¼‰æŸ¥æ‰¾ä¸‹ä¸€ä¸ªç©ºä½ã€‚</li><li><strong>äºŒæ¬¡æ¢æµ‹</strong>ï¼ˆQuadratic Probingï¼‰ï¼šå†²çªæ—¶æŒ‰äºŒæ¬¡æ–¹æ­¥é•¿æŸ¥æ‰¾ä¸‹ä¸€ä¸ªç©ºä½ï¼Œæ­¥é•¿é€æ¸å¢åŠ ä»¥é¿å…ç°‡ç°è±¡ã€‚</li><li><strong>åŒé‡å“ˆå¸Œ</strong>ï¼ˆDouble Hashingï¼‰ï¼šä½¿ç”¨ä¸¤ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå½“å†²çªå‘ç”Ÿæ—¶ï¼Œé€šè¿‡ç¬¬äºŒä¸ªå“ˆå¸Œå‡½æ•°è®¡ç®—æ­¥é•¿ã€‚</li></ol><p>ä¸‹é¢æˆ‘ä»¬ä»¥<strong>çº¿æ€§æ¢æµ‹æ³•</strong>ä¸ºä¾‹ï¼Œå±•ç¤ºå¼€æ”¾å¯»å€æ³•çš„å®ç°ã€‚</p><h3 id="ä½¿ç”¨å¼€æ”¾å¯»å€æ³•çš„å“ˆå¸Œè¡¨-C-å®ç°"><a href="#ä½¿ç”¨å¼€æ”¾å¯»å€æ³•çš„å“ˆå¸Œè¡¨-C-å®ç°" class="headerlink" title="ä½¿ç”¨å¼€æ”¾å¯»å€æ³•çš„å“ˆå¸Œè¡¨ C++ å®ç°"></a>ä½¿ç”¨å¼€æ”¾å¯»å€æ³•çš„å“ˆå¸Œè¡¨ C++ å®ç°</h3><h4 id="åŸºæœ¬æ€æƒ³"><a href="#åŸºæœ¬æ€æƒ³" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h4><ul><li>ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜å…ƒç´ ï¼Œåˆå§‹å€¼ä¸º -1 æˆ– <code>nullptr</code> è¡¨ç¤ºè¯¥ä½ç½®ç©ºé—²ã€‚</li><li>æ’å…¥å…ƒç´ æ—¶ï¼Œå¦‚æœè®¡ç®—å‡ºçš„ç´¢å¼•ä½ç½®è¢«å ç”¨ï¼Œåˆ™æŒ‰æ¢æµ‹ç­–ç•¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªä½ç½®ã€‚</li><li>åˆ é™¤å…ƒç´ æ—¶ï¼Œé‡‡ç”¨æ ‡è®°ï¼ˆä¾‹å¦‚ <code>-2</code>ï¼‰è¡¨ç¤ºâ€œåˆ é™¤çŠ¶æ€â€ï¼Œè¿™æ ·åœ¨æŸ¥æ‰¾æ—¶ä¸ä¼šæ‰“æ–­æ¢æµ‹é“¾ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OpenAddressHashTable</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; table; <span class="comment">// å“ˆå¸Œè¡¨æ•°ç»„</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“ˆå¸Œå‡½æ•°ï¼šç®€å•å–æ¨¡</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hashFunction</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key % size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">OpenAddressHashTable</span>(<span class="type">int</span> s) : <span class="built_in">size</span>(s) &#123;</span><br><span class="line">        table.<span class="built_in">resize</span>(size, <span class="number">-1</span>); <span class="comment">// -1 è¡¨ç¤ºç©ºé—²ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">hashFunction</span>(key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çº¿æ€§æ¢æµ‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> probeIndex = (index + i) % size;  <span class="comment">// çº¿æ€§æ¢æµ‹</span></span><br><span class="line">            <span class="keyword">if</span> (table[probeIndex] == <span class="number">-1</span> || table[probeIndex] == <span class="number">-2</span>) &#123; <span class="comment">// æ‰¾åˆ°ç©ºé—²æˆ–å·²åˆ é™¤ä½ç½®</span></span><br><span class="line">                table[probeIndex] = key;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å“ˆå¸Œè¡¨å·²æ»¡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">hashFunction</span>(key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çº¿æ€§æ¢æµ‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> probeIndex = (index + i) % size;</span><br><span class="line">            <span class="keyword">if</span> (table[probeIndex] == key) &#123;  <span class="comment">// æ‰¾åˆ°ç›®æ ‡å…ƒç´ </span></span><br><span class="line">                table[probeIndex] = <span class="number">-2</span>; <span class="comment">// -2 æ ‡è®°åˆ é™¤çŠ¶æ€</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (table[probeIndex] == <span class="number">-1</span>) &#123;  <span class="comment">// æ²¡æ‰¾åˆ°ä¸”é‡åˆ°ç©ºé—²ä½ç½®ï¼Œåœæ­¢æŸ¥æ‰¾</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">search</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">hashFunction</span>(key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çº¿æ€§æ¢æµ‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> probeIndex = (index + i) % size;</span><br><span class="line">            <span class="keyword">if</span> (table[probeIndex] == key) <span class="keyword">return</span> <span class="literal">true</span>;   <span class="comment">// æ‰¾åˆ°ç›®æ ‡å…ƒç´ </span></span><br><span class="line">            <span class="keyword">if</span> (table[probeIndex] == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;   <span class="comment">// æ‰¾åˆ°ç©ºé—²ä½ç½®ï¼Œåœæ­¢æŸ¥æ‰¾</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºå“ˆå¸Œè¡¨</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (table[i] &gt;= <span class="number">0</span>)</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;Index &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; table[i] &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (table[i] == <span class="number">-2</span>)</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;Index &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;: [Deleted]&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;Index &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;: [Empty]&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">OpenAddressHashTable <span class="title">hashTable</span><span class="params">(<span class="number">7</span>)</span></span>; <span class="comment">// åˆ›å»ºå¤§å°ä¸º 7 çš„å“ˆå¸Œè¡¨</span></span><br><span class="line"></span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">15</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">7</span>);</span><br><span class="line">    hashTable.<span class="built_in">insert</span>(<span class="number">14</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hash Table:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    hashTable.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Searching for 15: &quot;</span> &lt;&lt; (hashTable.<span class="built_in">search</span>(<span class="number">15</span>) ? <span class="string">&quot;Found&quot;</span> : <span class="string">&quot;Not Found&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    hashTable.<span class="built_in">remove</span>(<span class="number">15</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;After removing 15:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    hashTable.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è§£é‡Š-1"><a href="#è§£é‡Š-1" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h4><ul><li><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šä½¿ç”¨ <code>key % size</code> è®¡ç®—å…ƒç´ çš„åˆå§‹ç´¢å¼•ä½ç½®ã€‚</li><li><strong>çº¿æ€§æ¢æµ‹</strong>ï¼šåœ¨å‘ç”Ÿå†²çªæ—¶ï¼Œé€šè¿‡é€æ¬¡é€’å¢ç´¢å¼•æ¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªç©ºé—²ä½ç½®ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºä½æˆ–è¿”å›å¤±è´¥ã€‚</li><li><strong>åˆ é™¤æ ‡è®°</strong>ï¼šåˆ é™¤å…ƒç´ æ—¶ï¼Œå°†è¯¥ä½ç½®æ ‡è®°ä¸º <code>-2</code>ï¼ˆè¡¨ç¤ºå·²åˆ é™¤ï¼‰ï¼Œé˜²æ­¢æ¢æµ‹é“¾çš„ä¸­æ–­ã€‚<code>-1</code> è¡¨ç¤ºç©ºé—²ä½ç½®ã€‚</li><li><strong>æŸ¥æ‰¾ä¸åˆ é™¤</strong>ï¼šæŸ¥æ‰¾å…ƒç´ æ—¶é‡åˆ° <code>-1</code> å³å¯åœæ­¢æŸ¥æ‰¾ï¼Œé‡åˆ° <code>-2</code> åˆ™ç»§ç»­æ¢æµ‹é“¾ã€‚</li></ul><h3 id="å…¶ä»–æ¢æµ‹æ–¹æ³•ç®€è¿°"><a href="#å…¶ä»–æ¢æµ‹æ–¹æ³•ç®€è¿°" class="headerlink" title="å…¶ä»–æ¢æµ‹æ–¹æ³•ç®€è¿°"></a>å…¶ä»–æ¢æµ‹æ–¹æ³•ç®€è¿°</h3><ol><li><strong>äºŒæ¬¡æ¢æµ‹</strong>ï¼šå†²çªæ—¶æ¢æµ‹é—´éš”ä¸º $( i^2 )$ ï¼ˆå¦‚ <code>index + i^2</code>ï¼‰ã€‚è¿™æ ·å¯ä»¥é¿å…çº¿æ€§æ¢æµ‹ä¸­çš„â€œä¸»ç°‡â€é—®é¢˜ï¼Œä½†å¯èƒ½å¼•å…¥æ–°çš„æ¢æµ‹åŒºåŸŸã€‚</li><li><strong>åŒé‡å“ˆå¸Œ</strong>ï¼šå†²çªæ—¶é€šè¿‡ç¬¬äºŒä¸ªå“ˆå¸Œå‡½æ•°è®¡ç®—æ­¥é•¿ï¼Œè·³è·ƒæ€§åœ°å¯»æ‰¾ä½ç½®ï¼Œå‡å°‘äº†æ¢æµ‹é“¾çš„èšé›†ç°è±¡ã€‚</li></ol><p>å¼€æ”¾å¯»å€æ³•é€šå¸¸æ¯”é“¾åœ°å€æ³•æ›´èŠ‚çœç©ºé—´ï¼Œä½†å½“è£…è½½å› å­è¿‡é«˜æ—¶ï¼Œå¼€æ”¾å¯»å€æ³•çš„æ€§èƒ½ä¸‹é™æ›´æ˜æ˜¾ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œè¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ˆä¸é˜Ÿåˆ—</title>
      <link href="/2024/10/30/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/"/>
      <url>/2024/10/30/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h2 id="1-æ ˆçš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ"><a href="#1-æ ˆçš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ" class="headerlink" title="1. æ ˆçš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ"></a>1. æ ˆçš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ</h2><p>æ ˆï¼ˆStackï¼‰æ˜¯ä¸€ç§<strong>åè¿›å…ˆå‡º</strong>ï¼ˆLIFO, Last In First Outï¼‰çš„æ•°æ®ç»“æ„ï¼Œæœ€åæ’å…¥çš„å…ƒç´ æœ€å…ˆè¢«åˆ é™¤ã€‚</p><h3 id="æ ˆçš„åŸºæœ¬æ“ä½œ"><a href="#æ ˆçš„åŸºæœ¬æ“ä½œ" class="headerlink" title="æ ˆçš„åŸºæœ¬æ“ä½œ"></a>æ ˆçš„åŸºæœ¬æ“ä½œ</h3><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šåˆ›å»ºä¸€ä¸ªç©ºæ ˆã€‚</li><li><strong>å…¥æ ˆï¼ˆPushï¼‰</strong>ï¼šå°†ä¸€ä¸ªå…ƒç´ å‹å…¥æ ˆé¡¶ã€‚</li><li><strong>å‡ºæ ˆï¼ˆPopï¼‰</strong>ï¼šä»æ ˆé¡¶åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚</li><li><strong>å–æ ˆé¡¶å…ƒç´ ï¼ˆTopï¼‰</strong>ï¼šè·å–æ ˆé¡¶å…ƒç´ çš„å€¼ï¼Œä½†ä¸åˆ é™¤å®ƒã€‚</li><li><strong>åˆ¤æ–­æ˜¯å¦ä¸ºç©º</strong>ï¼šæ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©ºã€‚</li></ol><h2 id="2-é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ"><a href="#2-é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ" class="headerlink" title="2. é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ"></a>2. é˜Ÿåˆ—çš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ</h2><p>é˜Ÿåˆ—ï¼ˆQueueï¼‰æ˜¯ä¸€ç§<strong>å…ˆè¿›å…ˆå‡º</strong>ï¼ˆFIFO, First In First Outï¼‰çš„æ•°æ®ç»“æ„ï¼Œæœ€å…ˆæ’å…¥çš„å…ƒç´ æœ€å…ˆè¢«åˆ é™¤ã€‚</p><h3 id="é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ"><a href="#é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ"></a>é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ</h3><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šåˆ›å»ºä¸€ä¸ªç©ºé˜Ÿåˆ—ã€‚</li><li><strong>å…¥é˜Ÿï¼ˆEnqueueï¼‰</strong>ï¼šå°†ä¸€ä¸ªå…ƒç´ åŠ å…¥åˆ°é˜Ÿå°¾ã€‚</li><li><strong>å‡ºé˜Ÿï¼ˆDequeueï¼‰</strong>ï¼šä»é˜Ÿå¤´åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚</li><li><strong>å–é˜Ÿå¤´å…ƒç´ ï¼ˆFrontï¼‰</strong>ï¼šè·å–é˜Ÿå¤´å…ƒç´ çš„å€¼ï¼Œä½†ä¸åˆ é™¤å®ƒã€‚</li><li><strong>åˆ¤æ–­æ˜¯å¦ä¸ºç©º</strong>ï¼šæ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚</li></ol><h2 id="3-æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„"><a href="#3-æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„" class="headerlink" title="3. æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„"></a>3. æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„</h2><p>æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„é€šå¸¸ä½¿ç”¨æ•°ç»„å®ç°ï¼Œæ ˆé¡¶æŒ‡é’ˆ <code>top</code> ç”¨äºæŒ‡å‘æ ˆé¡¶å…ƒç´ ã€‚</p><h3 id="æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„çš„-C-å®ç°"><a href="#æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„çš„-C-å®ç°" class="headerlink" title="æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„çš„ C++ å®ç°"></a>æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„çš„ C++ å®ç°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data[MAX_SIZE];</span><br><span class="line">    <span class="type">int</span> top;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Stack</span>() : <span class="built_in">top</span>(<span class="number">-1</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">push</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top &gt;= MAX_SIZE - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// æ ˆæ»¡</span></span><br><span class="line">        data[++top] = value;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// æ ˆç©º</span></span><br><span class="line">        top--;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getTop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// æ ˆç©º</span></span><br><span class="line">        <span class="keyword">return</span> data[top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top == <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= top; ++i) std::cout &lt;&lt; data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="4-é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„"><a href="#4-é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„" class="headerlink" title="4. é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„"></a>4. é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„</h2><p>é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„å¯ä»¥ç”¨å¾ªç¯æ•°ç»„å®ç°ï¼Œä½¿ç”¨ <code>front</code> å’Œ <code>rear</code> ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘é˜Ÿå¤´å’Œé˜Ÿå°¾ã€‚</p><h3 id="é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„çš„-C-å®ç°"><a href="#é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„çš„-C-å®ç°" class="headerlink" title="é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„çš„ C++ å®ç°"></a>é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„çš„ C++ å®ç°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data[MAX_SIZE];</span><br><span class="line">    <span class="type">int</span> front, rear;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Queue</span>() : <span class="built_in">front</span>(<span class="number">0</span>), <span class="built_in">rear</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">enqueue</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((rear + <span class="number">1</span>) % MAX_SIZE == front) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// é˜Ÿåˆ—æ»¡</span></span><br><span class="line">        data[rear] = value;</span><br><span class="line">        rear = (rear + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">dequeue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (front == rear) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// é˜Ÿåˆ—ç©º</span></span><br><span class="line">        front = (front + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (front == rear) <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// é˜Ÿåˆ—ç©º</span></span><br><span class="line">        <span class="keyword">return</span> data[front];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> front == rear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = front;</span><br><span class="line">        <span class="keyword">while</span> (i != rear) &#123;</span><br><span class="line">            std::cout &lt;&lt; data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            i = (i + <span class="number">1</span>) % MAX_SIZE;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5-æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„"><a href="#5-æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„" class="headerlink" title="5. æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„"></a>5. æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„</h2><p>æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„ä½¿ç”¨é“¾è¡¨å®ç°ï¼Œæ¯æ¬¡å…¥æ ˆå’Œå‡ºæ ˆéƒ½åœ¨é“¾è¡¨çš„å¤´éƒ¨æ“ä½œã€‚</p><h3 id="æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„çš„-C-å®ç°"><a href="#æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„çš„-C-å®ç°" class="headerlink" title="æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„çš„ C++ å®ç°"></a>æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„çš„ C++ å®ç°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node* next;</span><br><span class="line">    <span class="built_in">Node</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkedStack</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node* top;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LinkedStack</span>() : <span class="built_in">top</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node* newNode = <span class="keyword">new</span> <span class="built_in">Node</span>(value);</span><br><span class="line">        newNode-&gt;next = top;</span><br><span class="line">        top = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!top) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// æ ˆç©º</span></span><br><span class="line">        Node* temp = top;</span><br><span class="line">        top = top-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> temp;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getTop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top ? top-&gt;data : <span class="number">-1</span>;  <span class="comment">// æ ˆç©ºè¿”å› -1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !top;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node* curr = top;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="6-é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„"><a href="#6-é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„" class="headerlink" title="6. é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„"></a>6. é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„</h2><p>é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„ä½¿ç”¨é“¾è¡¨å®ç°ï¼Œé“¾è¡¨çš„å¤´éƒ¨ä½œä¸ºé˜Ÿå¤´ï¼Œå°¾éƒ¨ä½œä¸ºé˜Ÿå°¾ã€‚</p><h3 id="é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„çš„-C-å®ç°"><a href="#é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„çš„-C-å®ç°" class="headerlink" title="é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„çš„ C++ å®ç°"></a>é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„çš„ C++ å®ç°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">QNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    QNode* next;</span><br><span class="line">    <span class="built_in">QNode</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkedQueue</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QNode *front, *rear;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LinkedQueue</span>() : <span class="built_in">front</span>(<span class="literal">nullptr</span>), <span class="built_in">rear</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">enqueue</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        QNode* newNode = <span class="keyword">new</span> <span class="built_in">QNode</span>(value);</span><br><span class="line">        <span class="keyword">if</span> (!rear) &#123;</span><br><span class="line">            front = rear = newNode;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            rear-&gt;next = newNode;</span><br><span class="line">            rear = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">dequeue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!front) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// é˜Ÿåˆ—ç©º</span></span><br><span class="line">        QNode* temp = front;</span><br><span class="line">        front = front-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (!front) rear = <span class="literal">nullptr</span>;  <span class="comment">// é˜Ÿåˆ—å˜ç©º</span></span><br><span class="line">        <span class="keyword">delete</span> temp;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> front ? front-&gt;data : <span class="number">-1</span>;  <span class="comment">// é˜Ÿåˆ—ç©ºè¿”å› -1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !front;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QNode* curr = front;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li><strong>æ ˆ</strong>ï¼šéµå¾ª LIFO åŸåˆ™ï¼Œå…¸å‹æ“ä½œåŒ…æ‹¬å…¥æ ˆå’Œå‡ºæ ˆã€‚</li><li><strong>é˜Ÿåˆ—</strong>ï¼šéµå¾ª FIFO åŸåˆ™ï¼Œå…¸å‹æ“ä½œåŒ…æ‹¬å…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚</li><li><strong>é¡ºåºå­˜å‚¨</strong>ï¼šä½¿ç”¨æ•°ç»„å®ç°ï¼Œé€‚åˆå®¹é‡å›ºå®šçš„æƒ…å†µï¼Œæ“ä½œç®€å•ã€‚</li><li><strong>é“¾å¼å­˜å‚¨</strong>ï¼šä½¿ç”¨é“¾è¡¨å®ç°ï¼Œé€‚åˆåŠ¨æ€é•¿åº¦çš„æƒ…å†µï¼ŒèŠ‚çœç©ºé—´ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ˆä¸é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿æ€§è¡¨</title>
      <link href="/2024/10/30/%E7%BA%BF%E6%80%A7%E8%A1%A8/"/>
      <url>/2024/10/30/%E7%BA%BF%E6%80%A7%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="çº¿æ€§è¡¨"><a href="#çº¿æ€§è¡¨" class="headerlink" title="çº¿æ€§è¡¨"></a>çº¿æ€§è¡¨</h1><p>çº¿æ€§è¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œè¡¨ç¤ºç”±<strong>åŒä¸€ç±»å‹çš„å…ƒç´ æŒ‰é¡ºåºæ’åˆ—</strong>çš„æœ‰é™é›†åˆã€‚çº¿æ€§è¡¨ä¸­çš„å…ƒç´ æœ‰é¡ºåºå…³ç³»ï¼Œå¯ä»¥é€šè¿‡é¡ºåºå·è®¿é—®ã€‚å®ƒæ˜¯æœ€å¸¸ç”¨çš„ç»“æ„ä¹‹ä¸€ï¼Œå¸¸ç”¨äºå®ç°æ•°æ®çš„é¡ºåºå­˜å‚¨å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p><h2 id="çº¿æ€§è¡¨çš„å®šä¹‰"><a href="#çº¿æ€§è¡¨çš„å®šä¹‰" class="headerlink" title="çº¿æ€§è¡¨çš„å®šä¹‰"></a>çº¿æ€§è¡¨çš„å®šä¹‰</h2><p>ä¸€ä¸ªçº¿æ€§è¡¨ $( L )$ å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªå…·æœ‰ç›¸åŒç±»å‹çš„å…ƒç´ é›†åˆï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º $( a_1 )$ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸º $( a_2 )$ï¼Œä¾æ¬¡æ’åˆ—ï¼Œç›´åˆ°ç¬¬ $( n )$ ä¸ªå…ƒç´  $( a_n )$ã€‚çº¿æ€§è¡¨çš„é•¿åº¦æ˜¯å…ƒç´ çš„ä¸ªæ•°ï¼Œå½“é•¿åº¦ä¸º 0 æ—¶ï¼Œç§°å…¶ä¸ºç©ºè¡¨ã€‚</p><p>åœ¨æ•°å­¦ä¸Šå¯ä»¥è¡¨ç¤ºä¸ºï¼š<br>$[ L = { a_1, a_2, \dots, a_n } ]$</p><h2 id="çº¿æ€§è¡¨çš„åŸºæœ¬æ“ä½œ"><a href="#çº¿æ€§è¡¨çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="çº¿æ€§è¡¨çš„åŸºæœ¬æ“ä½œ"></a>çº¿æ€§è¡¨çš„åŸºæœ¬æ“ä½œ</h2><p>çº¿æ€§è¡¨çš„åŸºæœ¬æ“ä½œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªï¼š</p><ol><li><p><strong>åˆå§‹åŒ–</strong>ï¼ˆInitializationï¼‰</p><ul><li>åˆ›å»ºä¸€ä¸ªç©ºçš„çº¿æ€§è¡¨ã€‚</li></ul></li><li><p><strong>æ’å…¥</strong>ï¼ˆInsertï¼‰</p><ul><li>å°†ä¸€ä¸ªæ–°å…ƒç´ æ’å…¥åˆ°çº¿æ€§è¡¨çš„æŒ‡å®šä½ç½®ã€‚æ’å…¥æ—¶ï¼Œéœ€è¦å°†æ’å…¥ä½ç½®åçš„æ‰€æœ‰å…ƒç´ å‘åç§»åŠ¨ã€‚</li></ul></li><li><p><strong>åˆ é™¤</strong>ï¼ˆDeleteï¼‰</p><ul><li>åˆ é™¤çº¿æ€§è¡¨ä¸­çš„æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚åˆ é™¤æ—¶ï¼Œéœ€è¦å°†åˆ é™¤ä½ç½®åçš„æ‰€æœ‰å…ƒç´ å‘å‰ç§»åŠ¨ã€‚</li></ul></li><li><p><strong>æŸ¥æ‰¾</strong>ï¼ˆFind/Searchï¼‰</p><ul><li>æ ¹æ®å…ƒç´ çš„å€¼æŸ¥æ‰¾å…¶åœ¨è¡¨ä¸­çš„ä½ç½®ï¼Œæˆ–æ ¹æ®ä½ç½®æŸ¥æ‰¾å¯¹åº”çš„å…ƒç´ å€¼ã€‚</li></ul></li><li><p><strong>æ›´æ–°</strong>ï¼ˆUpdateï¼‰</p><ul><li>ä¿®æ”¹çº¿æ€§è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ å€¼ã€‚</li></ul></li><li><p><strong>éå†</strong>ï¼ˆTraverseï¼‰</p><ul><li>é¡ºåºè®¿é—®çº¿æ€§è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œé€šå¸¸ç”¨äºæ‰“å°æˆ–å¤„ç†æ¯ä¸ªå…ƒç´ ã€‚</li></ul></li><li><p><strong>è·å–é•¿åº¦</strong>ï¼ˆLengthï¼‰</p><ul><li>è·å–çº¿æ€§è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</li></ul></li></ol><h2 id="çº¿æ€§è¡¨çš„å®ç°æ–¹å¼"><a href="#çº¿æ€§è¡¨çš„å®ç°æ–¹å¼" class="headerlink" title="çº¿æ€§è¡¨çš„å®ç°æ–¹å¼"></a>çº¿æ€§è¡¨çš„å®ç°æ–¹å¼</h2><p>çº¿æ€§è¡¨çš„å®ç°é€šå¸¸æœ‰ä¸¤ç§å­˜å‚¨ç»“æ„ï¼š</p><ul><li><strong>é¡ºåºå­˜å‚¨ç»“æ„</strong>ï¼šä½¿ç”¨æ•°ç»„å­˜å‚¨å…ƒç´ ï¼Œé€‚åˆé¡ºåºè®¿é—®ï¼Œä½†æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ•ˆç‡è¾ƒä½ã€‚</li><li><strong>é“¾å¼å­˜å‚¨ç»“æ„</strong>ï¼šä½¿ç”¨é“¾è¡¨å­˜å‚¨å…ƒç´ ï¼Œé€‚åˆé¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œå¸¸è§çš„é“¾è¡¨ç±»å‹åŒ…æ‹¬å•é“¾è¡¨ã€å¾ªç¯é“¾è¡¨å’ŒåŒå‘é“¾è¡¨ã€‚</li></ul><h3 id="1-é¡ºåºè¡¨çš„å®ç°"><a href="#1-é¡ºåºè¡¨çš„å®ç°" class="headerlink" title="1. é¡ºåºè¡¨çš„å®ç°"></a>1. é¡ºåºè¡¨çš„å®ç°</h3><p>é¡ºåºè¡¨ä½¿ç”¨æ•°ç»„å®ç°ï¼Œå…¶ç‰¹ç‚¹æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ï¼Œæ•ˆç‡é«˜ï¼Œä½†æ’å…¥å’Œåˆ é™¤éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SeqList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data[MAX_SIZE];</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SeqList</span>() : <span class="built_in">length</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt; length || length &gt;= MAX_SIZE) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = length; i &gt; pos; --i) data[i] = data[i - <span class="number">1</span>];</span><br><span class="line">        data[pos] = value;</span><br><span class="line">        length++;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pos &lt; <span class="number">0</span> || pos &gt;= length) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = pos; i &lt; length - <span class="number">1</span>; ++i) data[i] = data[i + <span class="number">1</span>];</span><br><span class="line">        length--;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; ++i)</span><br><span class="line">            <span class="keyword">if</span> (data[i] == value) <span class="keyword">return</span> i;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; ++i) std::cout &lt;&lt; data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2-å•é“¾è¡¨çš„å®ç°"><a href="#2-å•é“¾è¡¨çš„å®ç°" class="headerlink" title="2. å•é“¾è¡¨çš„å®ç°"></a>2. å•é“¾è¡¨çš„å®ç°</h3><p>å•é“¾è¡¨ç”±èŠ‚ç‚¹æ„æˆï¼Œé€‚åˆé¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node* next;</span><br><span class="line">    <span class="built_in">Node</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SinglyLinkedList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node* head;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SinglyLinkedList</span>() : <span class="built_in">head</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node* newNode = <span class="keyword">new</span> <span class="built_in">Node</span>(value);</span><br><span class="line">        newNode-&gt;next = head;</span><br><span class="line">        head = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node *prev = <span class="literal">nullptr</span>, *curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr &amp;&amp; curr-&gt;data != value) &#123;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!curr) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (prev) prev-&gt;next = curr-&gt;next;</span><br><span class="line">        <span class="keyword">else</span> head = curr-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> curr;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">Node* <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) <span class="keyword">return</span> curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="3-å¾ªç¯é“¾è¡¨çš„å®ç°"><a href="#3-å¾ªç¯é“¾è¡¨çš„å®ç°" class="headerlink" title="3. å¾ªç¯é“¾è¡¨çš„å®ç°"></a>3. å¾ªç¯é“¾è¡¨çš„å®ç°</h3><p>å¾ªç¯é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªå¾ªç¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    CNode* next;</span><br><span class="line">    <span class="built_in">CNode</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CircularLinkedList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    CNode* tail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CircularLinkedList</span>() : <span class="built_in">tail</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        CNode* newNode = <span class="keyword">new</span> <span class="built_in">CNode</span>(value);</span><br><span class="line">        <span class="keyword">if</span> (!tail) &#123;</span><br><span class="line">            tail = newNode;</span><br><span class="line">            tail-&gt;next = tail;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            newNode-&gt;next = tail-&gt;next;</span><br><span class="line">            tail-&gt;next = newNode;</span><br><span class="line">            tail = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!tail) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        CNode *curr = tail-&gt;next, *prev = tail;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) &#123;</span><br><span class="line">                <span class="keyword">if</span> (curr == tail) tail = (tail-&gt;next == tail) ? <span class="literal">nullptr</span> : prev;</span><br><span class="line">                prev-&gt;next = curr-&gt;next;</span><br><span class="line">                <span class="keyword">delete</span> curr;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (curr != tail-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">CNode* <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!tail) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        CNode* curr = tail-&gt;next;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) <span class="keyword">return</span> curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (curr != tail-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!tail) <span class="keyword">return</span>;</span><br><span class="line">        CNode* curr = tail-&gt;next;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (curr != tail-&gt;next);</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="4-åŒå‘é“¾è¡¨çš„å®ç°"><a href="#4-åŒå‘é“¾è¡¨çš„å®ç°" class="headerlink" title="4. åŒå‘é“¾è¡¨çš„å®ç°"></a>4. åŒå‘é“¾è¡¨çš„å®ç°</h3><p>åŒå‘é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹æœ‰å‰é©±å’Œåç»§æŒ‡é’ˆï¼Œæ–¹ä¾¿åŒå‘éå†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">DNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    DNode* prev;</span><br><span class="line">    DNode* next;</span><br><span class="line">    <span class="built_in">DNode</span>(<span class="type">int</span> val) : <span class="built_in">data</span>(val), <span class="built_in">prev</span>(<span class="literal">nullptr</span>), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DoublyLinkedList</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    DNode* head;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">DoublyLinkedList</span>() : <span class="built_in">head</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        DNode* newNode = <span class="keyword">new</span> <span class="built_in">DNode</span>(value);</span><br><span class="line">        newNode-&gt;next = head;</span><br><span class="line">        <span class="keyword">if</span> (head) head-&gt;prev = newNode;</span><br><span class="line">        head = newNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        DNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr &amp;&amp; curr-&gt;data != value) curr = curr-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (!curr) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (curr-&gt;prev) curr-&gt;prev-&gt;next = curr-&gt;next;</span><br><span class="line">        <span class="keyword">else</span> head = curr-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (curr-&gt;next) curr-&gt;next-&gt;prev = curr-&gt;prev;</span><br><span class="line">        <span class="keyword">delete</span> curr;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">DNode* <span class="title">find</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">        DNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;data == value) <span class="keyword">return</span> curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            std::cout &lt;&lt; curr-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™äº›ä»£ç åˆ†åˆ«å®ç°äº†é¡ºåºè¡¨ã€å•é“¾è¡¨ã€å¾ªç¯é“¾è¡¨å’ŒåŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„åŠå…¶åŸºæœ¬æ“ä½œï¼Œé€‚åˆè€ƒè¯•å’Œé¡¹ç›®ä¸­çš„çº¿æ€§è¡¨åº”ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿æ€§è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCSP2024 èµ›åå›å¿†</title>
      <link href="/2024/10/23/CCSP2024-%E8%B5%9B%E5%90%8E%E5%9B%9E%E5%BF%86/"/>
      <url>/2024/10/23/CCSP2024-%E8%B5%9B%E5%90%8E%E5%9B%9E%E5%BF%86/</url>
      
        <content type="html"><![CDATA[<h1 id="CCSP2024-èµ›åå›å¿†"><a href="#CCSP2024-èµ›åå›å¿†" class="headerlink" title="CCSP2024 èµ›åå›å¿†"></a>CCSP2024 èµ›åå›å¿†</h1><p>è¿™æ¬¡æ˜¯åœ¨æµ™æ±Ÿé‡‘åçš„æµ™æ±Ÿå¸ˆèŒƒå¤§å­¦ï¼Œè™½ç„¶è¯´è¿™é‡Œå¯èƒ½æœ‰ä¸€ç‚¹ç‚¹ååƒ»ï¼Œä½†æ˜¯åº—é“ºä»€ä¹ˆçš„åŸºæœ¬éƒ½æœ‰ï¼Œå¥¶èŒ¶åº—ï¼Œè‚¯å¾·åŸºä»€ä¹ˆçš„ç”šè‡³å¼€åœ¨äº†æ ¡å†…ã€‚</p><p>è¿™åº”è¯¥æ˜¯æˆ‘å¤§å­¦æœ€åä¸€æ¬¡å‚åŠ å›½å®¶çº§çš„èµ›äº‹äº†å§ã€‚</p><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><h3 id="I-O-ä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—"><a href="#I-O-ä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—" class="headerlink" title="I/O ä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—"></a>I/O ä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—</h3><p>æŒ‰æ¥çš„æ—¶é—´æ’ä¸ªåºï¼Œå¥‡æ•°æ”¾ç¬¬ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¶æ•°æ”¾ç¬¬äºŒä¸ªé˜Ÿåˆ—ï¼Œä¿è¯æ¯ä¸ªä»»åŠ¡ç­‰å¾…çš„æ—¶é—´æœ€å°å°±å¯ä»¥äº†ï¼Œç­¾åˆ°é¢˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e3</span>+<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> t[mxlen];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;t[i];</span><br><span class="line">        &#125;        </span><br><span class="line">        <span class="built_in">sort</span>(t+<span class="number">1</span>,t+n+<span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> ans1=<span class="number">0</span>,ans2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(t[i]&gt;=ans1)&#123;</span><br><span class="line">                    ans1 = t[i]+<span class="number">10</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    ans1 += <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(t[i]&gt;=ans2)&#123;</span><br><span class="line">                    ans2 = t[i]+<span class="number">10</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> ans2 +=<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans1&gt;ans2) <span class="built_in">swap</span>(ans1,ans2);</span><br><span class="line">        cout&lt;&lt;ans1&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ans2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°æ ‘"><a href="#æ•°æ ‘" class="headerlink" title="æ•°æ ‘"></a>æ•°æ ‘</h3><p>æ¨¡æ‹Ÿé¢˜ï¼Ÿç›´æ¥æŒ‰ç…§ä»–è¯´çš„æŠŠåŠŸèƒ½éƒ½å†™äº†å°±è¡Œäº†ï¼Œè®°å½•ä¸€ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯ä»€ä¹ˆã€‚ä¸€å¼€å§‹åªç”¨äº†ä¸€ä½æ•°ç»„æ¥è®°å½•ç‚¹å’Œçˆ¶èŠ‚ç‚¹æ–­å¼€ï¼Œæ”¹æ¥æ”¹å»åªæœ‰45åˆ†ã€‚åæ¥çªç„¶æƒ³åˆ°ä»–å¯èƒ½å’Œå¥½å¤šèŠ‚ç‚¹éƒ½æ–­å¼€ï¼Œç›´æ¥ç”¨vectorå­˜ä¸€ä¸‹å°±è¿‡äº†ã€‚</p><p>ç¬¬äºŒå¤©å¬é¢å¥–å…¸ç¤¼ä¸Šè®²é¢˜è§£è¯´çš„æ˜¯åˆ†å¿«æ ‘ï¼ŒLCTåšã€‚ã€‚ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">4e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> pre_ans;</span><br><span class="line"><span class="type">int</span> w[mxlen];</span><br><span class="line"><span class="type">int</span> father[mxlen];</span><br><span class="line"><span class="type">int</span> now_root = <span class="number">1</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; broken[mxlen];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[mxlen];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> weight;</span><br><span class="line">    <span class="type">int</span> index;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check_relation</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;broken[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(broken[u][i]==v) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find_father</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    father[u] = fa;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">find_father</span>(g[u][i],u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">change</span><span class="params">(<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!pre_ans) <span class="keyword">return</span> v;</span><br><span class="line">    <span class="keyword">return</span> v^pre_ans;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs_weight</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        ans+=<span class="built_in">dfs_weight</span>(g[u][i],u,x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(w[u]&gt;x) ans++;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_heaviest</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = w[u];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        ans = <span class="built_in">max</span>(ans,<span class="built_in">find_heaviest</span>(g[u][i],u));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">node <span class="title">find_minw_minindex</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    node tmp = &#123;w[u],u&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;g[u].<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(g[u][i]==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">check_relation</span>(u,g[u][i])) <span class="keyword">continue</span>;</span><br><span class="line">        node son = <span class="built_in">find_minw_minindex</span>(g[u][i],u);</span><br><span class="line">        <span class="keyword">if</span>(son.weight&lt;tmp.weight)&#123;</span><br><span class="line">            tmp.weight = son.weight;</span><br><span class="line">            tmp.index = son.index;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(son.weight==tmp.weight)&#123;</span><br><span class="line">            <span class="keyword">if</span>(son.index&lt;tmp.index)&#123;</span><br><span class="line">                tmp.weight = son.weight;</span><br><span class="line">                tmp.index = son.index;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> op)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> u,x;</span><br><span class="line">    <span class="comment">// ask how many points&#x27; weight more than v in u subtree</span></span><br><span class="line">    <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;x;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        x = <span class="built_in">change</span>(x);</span><br><span class="line">        pre_ans = <span class="built_in">dfs_weight</span>(u,father[u],x);</span><br><span class="line">        cout&lt;&lt;pre_ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;x;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        x = <span class="built_in">change</span>(x);</span><br><span class="line">        w[u] = x;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">3</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;x;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        x = <span class="built_in">change</span>(x);</span><br><span class="line">        n++;</span><br><span class="line">        g[n].<span class="built_in">push_back</span>(u);</span><br><span class="line">        g[u].<span class="built_in">push_back</span>(n);</span><br><span class="line">        father[n] = u;</span><br><span class="line">        w[n] = x;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">4</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        broken[u].<span class="built_in">push_back</span>(father[u]);</span><br><span class="line">        broken[father[u]].<span class="built_in">push_back</span>(u);</span><br><span class="line">        <span class="built_in">find_father</span>(u,<span class="number">-1</span>);</span><br><span class="line">        pre_ans = <span class="built_in">find_heaviest</span>(u,father[u]);</span><br><span class="line">        cout&lt;&lt;pre_ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">5</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        node temp = <span class="built_in">find_minw_minindex</span>(u,father[u]);</span><br><span class="line">        pre_ans = temp.index;</span><br><span class="line">        cout&lt;&lt;pre_ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">6</span>)&#123;</span><br><span class="line">        cin&gt;&gt;u;</span><br><span class="line">        u = <span class="built_in">change</span>(u);</span><br><span class="line">        <span class="built_in">find_father</span>(u,<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">            g[x].<span class="built_in">push_back</span>(y);</span><br><span class="line">            g[y].<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;     </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;w[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">find_father</span>(now_root,<span class="number">-1</span>);</span><br><span class="line">        cin&gt;&gt;m;</span><br><span class="line">        <span class="type">int</span> op;</span><br><span class="line">        pre_ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            cin&gt;&gt;op;</span><br><span class="line">            <span class="built_in">solve</span>(op);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è´å£³ç»Ÿè®¡ï¼ˆshellï¼‰"><a href="#è´å£³ç»Ÿè®¡ï¼ˆshellï¼‰" class="headerlink" title="è´å£³ç»Ÿè®¡ï¼ˆshellï¼‰"></a>è´å£³ç»Ÿè®¡ï¼ˆshellï¼‰</h3><p>è¿™é¢˜ã€‚ã€‚ã€‚ã€‚80åˆ†å¸¦ä¿®è«é˜Ÿæ¿å­é¢˜ã€‚åé¢æ’å…¥å…ƒç´ çš„æ”¹äº†åŠå¤©éƒ½ä¼šè¶…æ—¶ï¼Œä¸æ‡‚æ€ä¹ˆæ”¹ã€‚åªæ‹¿äº†80åˆ†ã€‚</p><p>ä¸€å¼€å§‹ç›´æ¥æš´åŠ›åšèƒ½æ‹¿40åˆ†ã€‚æˆ‘çœ‹è¿™1e5çš„æ•°æ®ï¼Œä¸¤ç»´æ•°ç»„éƒ½å¼€ä¸äº†ï¼Œä¹Ÿæ²¡åŠæ³•è®°å¿†åŒ–ï¼Œå°±æƒ³èµ·æ¥äº†ä¹‹å‰çœ‹è¿‡çš„å¿«æ…¢æŒ‡é’ˆï¼Œæˆ‘æ‹¿ä¸¤ä¸ªæŒ‡é’ˆæ¥å›è®°å½•æ—¶é—´åº”è¯¥ä¼šå°ä¸€ç‚¹ï¼Œå¾ˆé—æ†¾è¿˜æ˜¯40åˆ†ã€‚æˆ‘çœ‹ç€æˆ‘å†™çš„<code>pre_l--</code>å’Œ<code>pre_r++</code>è¶Šçœ‹è¶Šç†Ÿæ‚‰ï¼Œï¼Œï¼Œè¿™ä¸å°±æ˜¯è«é˜Ÿå—ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼è¿˜å¥½è¿™æ¯”èµ›è®©å¸¦Uç›˜ï¼Œç„¶åæˆ‘ç‚¹å¼€é‡Œé¢çš„æ¨¡ç‰ˆï¼ˆèµ›å‰éƒ½æ²¡çœ‹è¿‡ï¼Œä¸çŸ¥é“ä»å“ªé‡Œä¸‹çš„äº†éƒ½ï¼‰ï¼Œç›´æ¥ç›®å½•ç›´è¾¾å¸¦ä¿®è«é˜Ÿï¼Œubuntué‡Œå¤åˆ¶pdfé‡Œä»£ç åˆ°vscodeé‡Œç¼©è¿›éƒ½æ²¡äº†ï¼Œæˆ‘ä¹Ÿæ²¡ç®¡ï¼Œç²˜è¿‡æ¥æ”¹æ”¹å˜é‡åç§°ç›´æ¥å°±æ‹¿äº†80åˆ†ã€‚</p><p>ç¬¬äºŒå¤©é¢˜è§£è®²çš„æ˜¯çº¿æ®µæ ‘ä»€ä¹ˆçš„ç»´æŠ¤å¢åŠ ä½ç½®çš„ä¸ªæ•°ï¼ŒæŠŠæ·»åŠ çš„æ•°æ”¹ä¸ºè´Ÿæ•°ï¼Œè¿˜æ²¡æ’å…¥çš„ä¸ºè´Ÿæ•°ä¸ç”¨ç®¡ï¼Œå¥½åƒæœ‰ç‚¹é“ç†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">1e4</span>+<span class="number">15</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> vis[mxlen*<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> block = <span class="number">2589</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Query</span>&#123;</span><br><span class="line">    <span class="type">int</span> id,l,r,t;</span><br><span class="line">&#125;q[mxlen];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Modify</span>&#123;</span><br><span class="line">    <span class="type">int</span> pos,col,lst;</span><br><span class="line">&#125;c[mxlen];</span><br><span class="line"><span class="type">int</span> cnt[mxlen];</span><br><span class="line"><span class="type">int</span> bi[mxlen];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> Query &amp;a, <span class="type">const</span> Query &amp;b)</span></span>&#123;</span><br><span class="line"><span class="type">int</span> al = bi[a.l], ar = bi[a.r];</span><br><span class="line"><span class="type">int</span> bl = bi[b.l], br = bi[b.r];</span><br><span class="line"><span class="keyword">if</span>(al != bl)<span class="keyword">return</span> a.l &lt; b.l;</span><br><span class="line"><span class="keyword">if</span>(ar != br)<span class="keyword">return</span> a.r &lt; b.r;</span><br><span class="line"><span class="keyword">return</span> a.t &lt; b.t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span>&amp; res)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(cnt[x] == <span class="number">0</span>)res ++ ;</span><br><span class="line">cnt[x] ++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span>&amp; res)</span></span>&#123;</span><br><span class="line">cnt[x] -- ;</span><br><span class="line"><span class="keyword">if</span>(cnt[x] == <span class="number">0</span>)res -- ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> mq = <span class="number">0</span>,mc = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> ans[mxlen];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">write</span><span class="params">(<span class="type">int</span> res)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(res&lt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">res=-res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(res&gt;<span class="number">9</span>)</span><br><span class="line"><span class="built_in">write</span>(res/<span class="number">10</span>);</span><br><span class="line"><span class="built_in">putchar</span>(res%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modui</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++ i)&#123;</span><br><span class="line">    bi[i] = (i - <span class="number">1</span>) / block;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(q + <span class="number">1</span>, q + <span class="number">1</span> + mq, cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">register</span> <span class="type">int</span> k = <span class="number">1</span>, i = <span class="number">0</span>, j = <span class="number">1</span>, t = <span class="number">0</span>, res = <span class="number">0</span>; k &lt;= mq; ++ k)&#123;</span><br><span class="line">        <span class="type">int</span> id = q[k].id, l = q[k].l, r = q[k].r, tim = q[k].t;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; r)res += ++ cnt[a[ ++ i]] == <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt; r)res -= -- cnt[a[i -- ]] == <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &lt; l)res -= -- cnt[a[j ++ ]] == <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &gt; l)res += ++ cnt[a[ -- j]] == <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//å†å¤„ç†yè½´</span></span><br><span class="line">    <span class="keyword">while</span>(t &lt; tim)&#123;</span><br><span class="line">    t ++ ;</span><br><span class="line">    <span class="keyword">if</span>(c[t].pos &gt;= j &amp;&amp; c[t].pos &lt;= i)&#123;</span><br><span class="line">    <span class="built_in">del</span>(a[c[t].pos], res);</span><br><span class="line">    <span class="built_in">add</span>(c[t].col, res);</span><br><span class="line">    <span class="comment">//res -= !--cnt[w[c[t].pos]] - !cnt[c[t].col]++;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(a[c[t].pos], c[t].col);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(t &gt; tim)&#123;</span><br><span class="line">    <span class="keyword">if</span>(c[t].pos &gt;= j &amp;&amp; c[t].pos &lt;= i)&#123;</span><br><span class="line">    <span class="built_in">del</span>(a[c[t].pos], res);</span><br><span class="line">    <span class="built_in">add</span>(c[t].col, res);</span><br><span class="line">    <span class="comment">//res -= !--cnt[w[c[t].pos]] - !cnt[c[t].col]++;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(a[c[t].pos], c[t].col);</span><br><span class="line">    t -- ;</span><br><span class="line">    &#125;</span><br><span class="line">    ans[id] = res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=mq;i++)&#123;</span><br><span class="line">        <span class="built_in">write</span>(ans[i]), <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve_large</span><span class="params">(<span class="type">int</span> op)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="type">int</span> L,R;</span><br><span class="line">        cin&gt;&gt;L&gt;&gt;R;</span><br><span class="line">        q[++mq] = (Query)&#123;mq,L,R,mc&#125;;        </span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">        c[++mc] = (Modify)&#123;P,V&#125;;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">modui</span>();</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="built_in">sizeof</span>(cnt));</span><br><span class="line">        mq = <span class="number">0</span>;</span><br><span class="line">        mc = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">        n++;</span><br><span class="line">       a.<span class="built_in">insert</span>(a.<span class="built_in">begin</span>()+P,V);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> op)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;<span class="number">1e4</span>)&#123;</span><br><span class="line">        <span class="built_in">solve_large</span>(op);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="type">int</span> L,R;</span><br><span class="line">        cin&gt;&gt;L&gt;&gt;R;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=L;i&lt;=R;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[a[i]])&#123;</span><br><span class="line">                ans++;</span><br><span class="line">                vis[a[i]]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">        a[P] = V;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> P,V;</span><br><span class="line">        cin&gt;&gt;P&gt;&gt;V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> T = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        a.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            a.<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> op;</span><br><span class="line">        <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">            cin&gt;&gt;op;</span><br><span class="line">            <span class="built_in">solve</span>(op);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n&gt;<span class="number">1e4</span>&amp;&amp;op!=<span class="number">3</span>) <span class="built_in">modui</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>åä¸¤é¢˜çœŸçš„æŠ˜ç£¨ï¼Œå…‰è¾“å…¥éƒ½å·®ä¸å¤šå†™äº†100å¤šè¡Œï¼Œç„¶è€Œå°±åªæ‹¿åˆ°äº†10åˆ†ï¼Œè¿™é‡Œå°±ä¸è´´ä»£ç äº†ã€‚æˆ‘è§‰å¾—è¦æ˜¯å¹³æ—¶å†™è¿‡ç³»ç»Ÿç›¸å…³çš„ä»£ç åº”è¯¥å¾ˆå¿«èƒ½å†™å‡ºæ¥ï¼Œæˆ‘çœ‹æœ‰äººå¾ˆå¿«å°±å†™å®Œäº†ã€‚æˆ‘è°ƒäº†åŠå¤©çœŸçš„æœ‰ç‚¹å´©æºƒäº†ï¼Œçœ‹äº†çœ‹æ’è¡Œæ¦œæ„Ÿè§‰å†åŠªåŠ›ä¹Ÿè¿›ä¸äº†é‡‘ç‰Œäº†ï¼Œè¿˜æ˜¯æ—©æ—©æ”¶åœºå°±æå‰å‡ºæ¥äº†ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ€åæ˜¯æ‹¿äº†290åˆ†ï¼Œå·®ååˆ†é“¶ã€‚è¿™æ¬¡å¯ä»¥è¯´æ˜¯å¤§æ„å¤±è†å·â€”â€”éª„å…µå¿…è´¥äº†ã€‚å…­ç‚¹åŠçš„æ—¶å€™è¿˜æ’åœ¨é“¶å¥–é˜Ÿä¼ä¸­å‰éƒ¨ä½ï¼Œå› ä¸ºä¸ƒç‚¹åå°±å°å‚äº†ï¼Œæˆ‘è§‰å¾—å°±ç®—æœ‰äººåé¢å†™å‡ºæ¥åä¸¤é¢˜ä¹Ÿä¸è‡³äºæŠŠæˆ‘é€€åˆ°é“œå§ï¼ˆè¯·ä¸è¦å­¦æˆ‘ã€‚ã€‚ã€‚ï¼‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CCSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 4870 æ¦‚ç‡DP</title>
      <link href="/2024/10/15/HDU-4870-%E6%A6%82%E7%8E%87DP/"/>
      <url>/2024/10/15/HDU-4870-%E6%A6%82%E7%8E%87DP/</url>
      
        <content type="html"><![CDATA[<h1 id="HDU-4870-æ¦‚ç‡DP"><a href="#HDU-4870-æ¦‚ç‡DP" class="headerlink" title="HDU 4870 æ¦‚ç‡DP"></a>HDU 4870 æ¦‚ç‡DP</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=4870">Problem Link</a></p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>æ–°è´¦å·æ‰“rankï¼Œrankä»0å¼€å§‹ï¼Œæ‰“åˆ°1000åˆ†ç»“æŸã€‚æ¯åœºrankå¢åŠ 50çš„æ¦‚ç‡ä¸ºpï¼Œå¦åˆ™rank-100ã€‚æ–°äººç”¨ä¸¤ä¸ªä¿¡å·å»æ‰“ï¼Œæ¯æ¬¡ç”¨rankå€¼ä½çš„è´¦å·ï¼Œé—®ä»»æ„ä¸€ä¸ªè´¦å·è¾¾åˆ°rank1000åˆ†ï¼Œæ–°äººè¦æ‰“çš„æœŸæœ›åœºæ•°ã€‚</p><h2 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h2><p><a href="https://www.cnblogs.com/philo-zhou/p/11330699.html">å‚è€ƒåšå®¢</a></p><p>å°†åˆ†æ•°ç¦»æ•£ä¸ºèµ¢äº†åŠ 1åˆ†ï¼Œè¾“äº†å‡2åˆ†ã€‚ç”¨<code>dp[i]</code>è¡¨ç¤ºä»i-1åˆ†åˆ°iåˆ†éœ€è¦æ‰“çš„æœŸæœ›åœºæ•°ã€‚</p><p>æ¯æ¬¡æ¯”èµ›æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯pæ¦‚ç‡èµ¢äº†åŠ 1åˆ†ï¼ŒäºŒæ˜¯(1-p)æ¦‚ç‡è¾“äº†å‡2åˆ†ã€‚</p><p><code>dp[i]=1*p+(1-p)(1+dp[i-2]+dp[i-1]+dp[i])</code></p><p>æœŸæœ›ç­‰äºæ‰€æœ‰æƒ…å†µä¹˜ä»¥æ¦‚ç‡çš„å’Œã€‚</p><ul><li>ä¸€åœºå°±èµ¢äº†ï¼Œåˆ™æ˜¯<code>1*p</code></li><li>ä¸€åœºè¾“äº†ï¼Œåˆ™éœ€è¦<code>(1+dp[i-2]+dp[i-1]+dp[i])</code>åœºæ‰èƒ½èµ¢å›æ¥ã€‚å…¶ä¸­1æ˜¯è¾“äº†è¿™åœºï¼Œç„¶åä»<code>i-3</code>æ‰“åˆ°<code>i-2</code>,ä»<code>i-2</code>æ‰“åˆ°<code>i-1</code>ï¼Œä»<code>i-1</code>æ‰“åˆ°<code>i</code>åˆ†ã€‚</li></ul><p>åŒ–ç®€å¾—</p><p><code>dp[i]=(1+(1-p)*(dp[i-2]+dp[i-1]))/p</code></p><p><code>dp[1] = 1/p, dp[2] = 1/p/p</code></p><p>æ³¨æ„ï¼Œå› ä¸ºæœ€ä½åˆ†æ˜¯0åˆ†ï¼Œæ‰€ä»¥è®¡ç®—<code>dp[1]</code>å’Œ<code>dp[2]</code>çš„æ—¶å€™å…¬å¼é‡Œå¡«0è¡¥å……ã€‚</p><p>ç”¨<code>tot</code>è®°å½•æ¯ä¸€åˆ†éœ€è¦çš„åœºæ•°ï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªè´¦å·ï¼Œä¸”æ¯æ¬¡éƒ½æ˜¯ç”¨åˆ†æ•°ä½çš„ï¼Œæ‰€ä»¥æœ€åä¸€å®šæ˜¯ä¸€ä¸ªè´¦å·1000åˆ†ï¼Œå¦ä¸€ä¸ªè´¦å·950åˆ†ã€‚æˆ‘ä»¬è®¡ç®—ä¸¤ä¸ªè´¦å·éƒ½æ˜¯1000åˆ†éœ€è¦çš„åœºæ•°ï¼Œå³<code>tot*2</code>ï¼Œç„¶åå‡å»ä¸€ä¸ª950åˆ†åˆ°1000åˆ†çš„æœŸæœ›åœºæ•°(<code>dp[20]</code>)ï¼Œå³æ˜¯ç­”æ¡ˆã€‚</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">25</span>;</span><br><span class="line"><span class="type">double</span> dp[mxlen];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;p)!=EOF)&#123;</span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span>/p;</span><br><span class="line">        dp[<span class="number">2</span>] = <span class="number">1</span>/p/p;</span><br><span class="line">        <span class="type">double</span> tot = dp[<span class="number">1</span>]+dp[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">3</span>;i&lt;=<span class="number">20</span>;i++)&#123;</span><br><span class="line">            dp[i] = (<span class="number">1</span>+(<span class="number">1</span>-p)*(dp[i<span class="number">-1</span>]+dp[i<span class="number">-2</span>]))/p;</span><br><span class="line">            tot += dp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.6lf\n&quot;</span>,<span class="number">2</span>*tot-dp[<span class="number">20</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1024 Må­æ®µå’Œæœ€å¤§</title>
      <link href="/2024/10/12/HDU-1024-M%E5%AD%90%E6%AE%B5%E5%92%8C%E6%9C%80%E5%A4%A7/"/>
      <url>/2024/10/12/HDU-1024-M%E5%AD%90%E6%AE%B5%E5%92%8C%E6%9C%80%E5%A4%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="Må­æ®µå’Œæœ€å¤§é—®é¢˜"><a href="#Må­æ®µå’Œæœ€å¤§é—®é¢˜" class="headerlink" title="Må­æ®µå’Œæœ€å¤§é—®é¢˜"></a>Må­æ®µå’Œæœ€å¤§é—®é¢˜</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1024">Problem Link</a></p><p>Given an array and divide into m sequences. One sequences at least has one number and the sequences canâ€™t contain the number with same index. And the index of the numbers in one sequence should be continuous. Notice that we donâ€™t have to use all the numbers.</p><p>N between 1 to 1e6.</p><h2 id="SOLUTION"><a href="#SOLUTION" class="headerlink" title="SOLUTION"></a>SOLUTION</h2><p><strong><code>Dynamic programming</code></strong>. </p><p>Let <code>d[i][j]</code> denote the maximum sum of the current array that is divided into i segments and the last segment ends with the jth number. </p><p>When comes to the jth number, we have two options. One is the jth number to be a new segments, the other is to add it to the back of the last segment which ends with (j-1)th number.</p><p>So the transfer equation is <code>dp[i][j]=max(pre_max+a[j],dp[i][j-1]+a[j])</code>. <code>pre_max</code> represents to the maximum answer that the pre array divided into <code>i-1</code> segments.</p><p><a href="https://blog.csdn.net/winter2121/article/details/72848482">Reference blog</a></p><p><img src="https://images.whff521.top/hdu-1024.jpg" alt="Reference Image"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line">ll dp[mxlen];</span><br><span class="line">ll a[mxlen];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;m,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="comment">// ç”¨memsetä¼šè¶…æ—¶</span></span><br><span class="line">        <span class="comment">//memset(dp,0,sizeof(dp));</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">            dp[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            ll pre = dp[i<span class="number">-1</span>];</span><br><span class="line">            ll pre_max = -inf;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i;j&lt;=n-m+i;j++)&#123;</span><br><span class="line">                pre_max = <span class="built_in">max</span>(pre_max,pre);</span><br><span class="line">                pre = dp[j];</span><br><span class="line">                <span class="keyword">if</span>(j!=i) dp[j] = <span class="built_in">max</span>(pre_max,dp[j<span class="number">-1</span>])+a[j];</span><br><span class="line">                <span class="keyword">else</span> dp[j] = pre_max+a[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = -inf;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=m;i&lt;=n;i++)&#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­æ®µå’Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1029 å¯»æ‰¾æ•°åˆ—ä¸»å…ƒç´ </title>
      <link href="/2024/10/08/HDU-1029-%E5%AF%BB%E6%89%BE%E6%95%B0%E5%88%97%E4%B8%BB%E5%85%83%E7%B4%A0/"/>
      <url>/2024/10/08/HDU-1029-%E5%AF%BB%E6%89%BE%E6%95%B0%E5%88%97%E4%B8%BB%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯»æ‰¾æ•°åˆ—ä¸»å…ƒç´ "><a href="#å¯»æ‰¾æ•°åˆ—ä¸»å…ƒç´ " class="headerlink" title="å¯»æ‰¾æ•°åˆ—ä¸»å…ƒç´ "></a>å¯»æ‰¾æ•°åˆ—ä¸»å…ƒç´ </h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1029">Problem link</a></p><p>Finding a integer that appears at least (N+1)/2 times in the array.</p><h2 id="æ‘©å°”æŠ•ç¥¨æ³•"><a href="#æ‘©å°”æŠ•ç¥¨æ³•" class="headerlink" title="æ‘©å°”æŠ•ç¥¨æ³•"></a>æ‘©å°”æŠ•ç¥¨æ³•</h2><p>The <strong>Boyer-Moore Voting Algorithm</strong> (Mooreâ€™s Voting Algorithm) is a highly efficient method to find the majority element in a sequence (an element that appears more than half the time). It operates in <strong>O(n) time</strong> and uses <strong>O(1) space</strong>.</p><h3 id="Key-Idea"><a href="#Key-Idea" class="headerlink" title="Key Idea:"></a>Key Idea:</h3><p>The algorithm works by maintaining a <strong>candidate</strong> for the majority element and a <strong>counter</strong> to track its occurrences. It leverages a â€œpairingâ€ or â€œcancellationâ€ mechanism to eliminate non-majority elements.</p><h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps:"></a>Steps:</h3><ol><li><strong>Initialize</strong>:<ul><li>Set the <code>candidate</code> to <code>None</code> and the <code>count</code> to <code>0</code>.</li></ul></li><li><strong>First Pass (Finding the Candidate)</strong>:<ul><li>Traverse the array:<ul><li>If <code>count == 0</code>, set the current element as the <code>candidate</code> and set <code>count = 1</code>.</li><li>If the current element matches the <code>candidate</code>, increment <code>count</code>.</li><li>If the current element differs from the <code>candidate</code>, decrement <code>count</code>.</li></ul></li></ul></li><li><strong>Second Pass (Validation)</strong>:<ul><li>After completing the first pass, the <code>candidate</code> is the potential majority element. To confirm, traverse the array again and count the occurrences of the <code>candidate</code>. If it appears more than half the time, it is the majority element; otherwise, there is no majority element.</li></ul></li></ol><h3 id="Time-and-Space-Complexity"><a href="#Time-and-Space-Complexity" class="headerlink" title="Time and Space Complexity:"></a>Time and Space Complexity:</h3><ul><li><strong>Time Complexity</strong>: O(n) â€“ two passes through the array.</li><li><strong>Space Complexity</strong>: O(1) â€“ constant space is used for the <code>candidate</code> and <code>count</code>.</li></ul><h3 id="Key-Reasons-for-its-Effectiveness"><a href="#Key-Reasons-for-its-Effectiveness" class="headerlink" title="Key Reasons for its Effectiveness:"></a>Key Reasons for its Effectiveness:</h3><h4 id="1-Majority-Element-Dominates"><a href="#1-Majority-Element-Dominates" class="headerlink" title="1. Majority Element Dominates:"></a>1. <strong>Majority Element Dominates</strong>:</h4><p>If there is a majority element, it must appear <strong>more than half</strong> the time in the array. Letâ€™s say the majority element is <code>M</code>, and the number of occurrences of <code>M</code> is greater than half of the total elements in the array (i.e., <code>count(M) &gt; n/2</code>). </p><p>In any process of matching pairs of elements, <code>M</code> will never be fully canceled out because it occurs more frequently than any other element.</p><h4 id="2-Cancellation-Process"><a href="#2-Cancellation-Process" class="headerlink" title="2. Cancellation Process:"></a>2. <strong>Cancellation Process</strong>:</h4><p>During the first pass, the algorithm essentially â€œcancels outâ€ elements that are different from each other by using the <code>count</code> to increase and decrease based on whether an element matches the current candidate.</p><ul><li>Every time an element that is <strong>not the candidate</strong> is encountered, the <code>count</code> is decreased, effectively <strong>canceling out</strong> both the current candidate and the opposing element.</li><li>When the <code>count</code> reaches zero, a new candidate is chosen. This new candidate can still be the majority element or a temporary placeholder if more occurrences of the majority element appear later.</li></ul><p>This step ensures that elements that appear fewer times will eventually be canceled out by the majority element.</p><h4 id="3-Why-the-Majority-Element-Survives"><a href="#3-Why-the-Majority-Element-Survives" class="headerlink" title="3. Why the Majority Element Survives:"></a>3. <strong>Why the Majority Element Survives</strong>:</h4><p>The majority element will <strong>not be canceled out completely</strong> because it appears more than half the time. Even though other elements may reduce the <code>count</code> temporarily, the majority elementâ€™s higher frequency ensures that it will eventually remain as the candidate by the end of the first pass.</p><h3 id="Example-Walkthrough"><a href="#Example-Walkthrough" class="headerlink" title="Example Walkthrough:"></a>Example Walkthrough:</h3><p>Consider an array <code>[2, 2, 1, 1, 1, 2, 2]</code>:</p><ol><li>Initial <code>candidate = None</code>, <code>count = 0</code>.</li><li>First element <code>2</code>: <code>count == 0</code>, so <code>candidate = 2</code>, <code>count = 1</code>.</li><li>Second element <code>2</code>: <code>candidate == 2</code>, <code>count = 2</code>.</li><li>Third element <code>1</code>: <code>candidate != 1</code>, <code>count = 1</code>.</li><li>Fourth element <code>1</code>: <code>candidate != 1</code>, <code>count = 0</code>.</li><li>Fifth element <code>1</code>: <code>count == 0</code>, so <code>candidate = 1</code>, <code>count = 1</code>.</li><li>Sixth element <code>2</code>: <code>candidate != 2</code>, <code>count = 0</code>.</li><li>Seventh element <code>2</code>: <code>count == 0</code>, so <code>candidate = 2</code>, <code>count = 1</code>.</li></ol><p>After this, <code>candidate = 2</code>. In the verification step, <code>2</code> appears 4 times, which is more than <code>n/2 = 3.5</code>, confirming it is the majority element.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>This problem guarantees that there will be an answer. So we donâ€™t need the step of check.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        ll cnt = <span class="number">0</span>;</span><br><span class="line">        ll x;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;x);</span><br><span class="line">            <span class="keyword">if</span>(cnt==<span class="number">0</span>)&#123;</span><br><span class="line">                ans = x;</span><br><span class="line">                cnt = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(ans==x)&#123;</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    cnt--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘©å°”æŠ•ç¥¨æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1465 (é”™ä½æ’åˆ—é—®é¢˜)</title>
      <link href="/2024/09/23/HDU-1465-%E9%94%99%E4%BD%8D%E6%8E%92%E5%88%97%E9%97%AE%E9%A2%98/"/>
      <url>/2024/09/23/HDU-1465-%E9%94%99%E4%BD%8D%E6%8E%92%E5%88%97%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Derangement-Problem"><a href="#Derangement-Problem" class="headerlink" title="Derangement Problem"></a>Derangement Problem</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1465">problem link</a></p><h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>You have <code>n</code> letters, each with a different recipient. However, all the letters are delivered to the wrong recipients, meaning no one receives the letter intended for them. You need to determine how many possible ways this can happen.</p><p>This problem can be simplified to a case where you have an array of numbers from 1 to n. For each position in the array(starting from index 1), the number in that position is different from its index. The goal is to count how many such arrangement exist.</p><h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>This is a classic <strong>derangement</strong> problem. You can find a more detailed explanation on <a href="https://oi-wiki.org/math/combinatorics/derangement/">oi-wiki</a> and <a href="https://en.wikipedia.org/wiki/Derangement">wikipedia</a>.</p><p>I solved the problem using a recursive approach. Let<code>D[i]</code>represent the number of derangements when <code>n = i</code>. The recursive formula is: <code>D[i]=(i-1)D[i-1]+(i-1)D[i-2]</code>.</p><p>Hereâ€™s an explanation of the formula:</p><p>Assume we already know the answers for <code>i-1</code>. Now, we add the <code>i-th</code> number to the sequence in the <code>i-th</code> position. Since the number in each position must differ from the position itself, we need to swap <code>i</code> with a number in the previous positions. The first case is where all of the previous <code>i-1</code> numbers are already deranged, so we can swap <code>i</code> with any of them, giving us <code>(i-1)D[i-1]</code> possibilities. The second case is where <code>i-2</code> numbers are deranged, but one number matches its index. In this case, we swap <code>i</code> with that number, which gives us <code>(i-1)D[i-2]</code> possibilities.</p><p><img src="https://images.whff521.top/Dislocation.jpg" alt="dislocation"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">ll a[<span class="number">25</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    a[<span class="number">3</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">4</span>;i&lt;=<span class="number">20</span>;i++)&#123;</span><br><span class="line">        a[i] = (i<span class="number">-1</span>)*(a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,a[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°è®º </tag>
            
            <tag> é”™ä½æ’åˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notes of Lecture 23: Computational Complexity</title>
      <link href="/2024/09/21/Notes-of-Lecture-23-Computational-Complexity/"/>
      <url>/2024/09/21/Notes-of-Lecture-23-Computational-Complexity/</url>
      
        <content type="html"><![CDATA[<h1 id="Notes-of-Lecture-23-Computational-Complexity"><a href="#Notes-of-Lecture-23-Computational-Complexity" class="headerlink" title="Notes of Lecture 23: Computational Complexity"></a>Notes of Lecture 23: Computational Complexity</h1><p><a href="https://youtu.be/moPtwq_cVH8?si=u92BMoXF0Yqg1YH5">video link</a></p><h2 id="P-EXP-R"><a href="#P-EXP-R" class="headerlink" title="P,EXP,R"></a>P,EXP,R</h2><p>P = {problems solvable in at most(&lt;=) polynomial time}</p><p>EXP = {problems solvable in exponential(2^$n^c$) time}</p><p>R = {problems solvable in finite time}</p><p><img src="https://images.whff521.top/PEXPR.png" alt="P,EXP,R"></p><p>The axis is computational difficulty.</p><h2 id="Most-problems-uncomputable"><a href="#Most-problems-uncomputable" class="headerlink" title="Most problems uncomputable"></a>Most problems uncomputable</h2><p>Examples:</p><ul><li>negative-weight cycle detection (P)</li><li>NxN Chess (EXP&amp;!P)</li><li>Tetris (EXP, donâ€™t know whether is P)</li><li>halting problem: given program, does it ever halt/stop? (not in R)</li></ul><p>Most decision problems are uncomputable (not in R)</p><ul><li>program $\approx$ binary string $\approx$ natural number (integer)</li><li>decision problem = function : input($\approx$ binary string (N)) -&gt;{yes(1),no(0)}</li></ul><p>So decision problem is in $\mathbb{R}$;</p><p>$|\mathbb{R}|$ &gt;&gt; $|\mathbb{N}|$ =&gt; almost every problem unsolvable by any program</p><h2 id="NP"><a href="#NP" class="headerlink" title="NP"></a>NP</h2><p>NP = {decision problems solvable in polynomial time via a â€œluckyâ€ algorithm}</p><ul><li><p>nondeterministic model : algorithm makes guesses &amp; says YES/NO.</p></li><li><p>guesses are guaranteed to lead to â€œYESâ€ if possible </p></li><li><p>Tetris is NP</p></li></ul><p>proof = sequence of moves to make</p><p>NP = {decision problems with â€œsolutionsâ€ that can be â€œcheckedâ€ in polynomial time}</p><ul><li>When answer = YES, can prove it &amp; check proof in polynomial time.</li></ul><h2 id="Hardness-amp-Completeness"><a href="#Hardness-amp-Completeness" class="headerlink" title="Hardness &amp; Completeness"></a>Hardness &amp; Completeness</h2><p>P!=NP : big conjecture $\approx$ â€œcanâ€™t engineer luckâ€ $\approx$ generating (proofs of) solutions can be harder than checking them.</p><p>Claim: if P!=NP then Tetris is NP-P =&gt; not in P.</p><p>Why? Tetris is NP-hard(as hard as every problem which is NP)</p><ul><li>in fact Tetris is NP-complete = NP $\cap$ NP-hard</li></ul><p><img src="https://images.whff521.top/NPwholeAxis.png" alt="whole axis"></p><h2 id="Reductions"><a href="#Reductions" class="headerlink" title="Reductions"></a>Reductions</h2><p>Reductions: A -&gt; B</p><p>convert problem A(donâ€™t know how to solve) into problem B(you know how to solve)</p><ul><li><p>unweighted shortest paths -&gt; weighted shortest paths</p></li><li><p>min-product path -&gt; shortest path</p></li><li><p>longest path -&gt; shortest path</p></li></ul><p>B is as hard ad A</p><p>3- partition [Karp] -&gt; Tetris</p>]]></content>
      
      
      <categories>
          
          <category> æ‘˜æŠ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1085 multiple knapsack problem</title>
      <link href="/2024/09/19/HDU-1085-multiple-knapsack-problem/"/>
      <url>/2024/09/19/HDU-1085-multiple-knapsack-problem/</url>
      
        <content type="html"><![CDATA[<h1 id="Multiple-Knapsack-Problem"><a href="#Multiple-Knapsack-Problem" class="headerlink" title="Multiple Knapsack Problem"></a>Multiple Knapsack Problem</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1085">problem link</a></p><h2 id="The-Meaning-of-the-problem"><a href="#The-Meaning-of-the-problem" class="headerlink" title="The Meaning of the problem"></a>The Meaning of the problem</h2><p>You have three kinds of coins. Their face values are 1,2 and 5. Of cause you only have a limited number of coins. You need to find the minimum value that you canâ€™t represent exactly with these coins.</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>There are  lots of people solve this problem using Generating function. That way is too hard to understand. We just need to think of this problem as a multiple knapsack problem.</p><p>I learned from <a href="https://seramasumi.github.io/docs/Algorithms/mc-%E5%BE%AE%E8%AF%BE%E5%A0%82-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98.html">this blog</a></p><p><code>dp[j] = 1</code> means that <code>j</code> value can be represent by the coins.</p><p>Set <code>dp[0] = 1</code> initially. And the transfer equation is <code>dp[j] = max(dp[j],dp[j-k*money[i]])</code></p><p>Letâ€™s assume there is only one 1 yuan coin, one 2 yuan coin and one 5 yuan coin. When <code>d[j]</code> need changing, we should see whether <code>d[j-value]</code> can be represent.</p><p>The top row of the table shows the total amount of money. The leftmost column of the table shows the face value of the coins.</p><p>Hereâ€™s the picture to show how the sequence is changed.</p><p><img src="https://images.whff521.top/Screenshot%202024-09-19%20at%2020.29.36.png" alt="knapsack sheet"></p><p>The top row of the table shows the total amount of money. The leftmost column of the table shows the face value of the coins.</p><p>The answer is <code>i</code> where <code>dp[i] = 0</code>.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> dp[mxlen];</span><br><span class="line"><span class="type">int</span> num[<span class="number">4</span>];</span><br><span class="line"><span class="type">int</span> money[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n1,n2,n5;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="built_in">sizeof</span>(dp));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;num[<span class="number">1</span>],&amp;num[<span class="number">2</span>],&amp;num[<span class="number">3</span>]);        </span><br><span class="line">        <span class="keyword">if</span>(num[<span class="number">1</span>]==<span class="number">0</span>&amp;&amp;num[<span class="number">2</span>]==<span class="number">0</span>&amp;&amp;num[<span class="number">3</span>]==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="type">int</span> sum = num[<span class="number">1</span>]+<span class="number">2</span>*num[<span class="number">2</span>]+<span class="number">5</span>*num[<span class="number">3</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// å¤šé‡èƒŒåŒ…</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)&#123;</span><br><span class="line">            <span class="comment">// å€’åºæ˜¯å› ä¸ºæˆ‘ä»¬è½¬ç§»éœ€è¦ä¸Šä¸€å±‚çš„æ•°æ®ï¼Œæ­£åºçš„è¯ä¼šæ”¹å˜å€¼ä»è€Œåé¢çš„å€¼æ›´æ–°é”™è¯¯</span></span><br><span class="line">            <span class="comment">// å› ä¸ºå®é™…ä¸Šè¿™æ˜¯ç”¨ä¸€ç»´æ•°ç»„ä»£æ›¿äºŒç»´æ•°ç»„</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=sum;j&gt;=money[i];j--)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k*money[i]&lt;=j&amp;&amp;k&lt;=num[i];k++)&#123;</span><br><span class="line">                    dp[j] = <span class="built_in">max</span>(dp[j],dp[j-k*money[i]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = sum+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=sum;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!dp[i]) &#123;</span><br><span class="line">                ans = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šé‡èƒŒåŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1025 longest increasing subsequence</title>
      <link href="/2024/09/17/HDU-1025-longest-increasing-subsequence/"/>
      <url>/2024/09/17/HDU-1025-longest-increasing-subsequence/</url>
      
        <content type="html"><![CDATA[<h1 id="Constructing-Roads-In-JGShiningâ€™s-Kingdom"><a href="#Constructing-Roads-In-JGShiningâ€™s-Kingdom" class="headerlink" title="Constructing Roads In JGShiningâ€™s Kingdom"></a>Constructing Roads In JGShiningâ€™s Kingdom</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1025">problem link</a></p><h2 id="The-meaning-of-the-problem"><a href="#The-meaning-of-the-problem" class="headerlink" title="The meaning of the problem"></a>The meaning of the problem</h2><p>So why this is longest increasing subsequence Problem ? Look at the picture below:</p><p><img src="https://images.whff521.top/hdu1025.jpg" alt="hdu1025"></p><p>As the problem described, we canâ€™t have crossed lines. Each line has two endpoints. One is the â€œrichâ€ endpoint above and the other is the â€œpoorâ€ endpoint below. The rich endpointsâ€™ number of the lines we finally pick up should be <strong>monotonically increasing</strong>. The corresponding poor endpoints should be <strong>monotonically increasing</strong> too. Otherwise the lines will be crossed.</p><p>Letâ€™s use <strong><code>a[p]=q</code> to represent that the p city can link q city</strong>. Then the problem tend to become a question of longest increasing subsequence.</p><h2 id="The-Algorithm"><a href="#The-Algorithm" class="headerlink" title="The Algorithm"></a>The Algorithm</h2><p>There is a quite easy way to understand the LIS problem. I learned it from <a href="https://leetcode.cn/problems/longest-increasing-subsequence/solutions/13118/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/">this tutorial</a></p><blockquote><p>A clever approach. Create a new array <code>cell</code> to store the longest increasing subsequence.  </p><p>Iterate through the original sequence, and binary insert each element into <code>cell</code>.</p><p>If all the elements in <code>cell</code> are smaller than the current one, append it at the end.<br>Otherwise, <strong>replace the smallest element in <code>cell</code> that is larger than the current one</strong>.<br>In short, the idea is to keep <code>cell</code> storing relatively smaller elements. Although <code>cell</code> may not represent the actual longest increasing subsequence, its length is correct.</p><p>Author: ColdMe<br>Link: <a href="https://leetcode.cn/problems/longest-increasing-subsequence/solutions/13118/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/">https://leetcode.cn/problems/longest-increasing-subsequence/solutions/13118/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/</a><br>Source: LeetCode<br>Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please credit the source.</p></blockquote><p>There are ways to prove that the <code>cell</code> array is monotonically increasing. Anything detailed you can see <a href="https://en.wikipedia.org/wiki/Longest_increasing_subsequence">Wikipedia</a></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">5e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> seq[mxlen];</span><br><span class="line"><span class="type">int</span> a[mxlen];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">            a[x]=y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(seq,<span class="number">0</span>,<span class="built_in">sizeof</span>(seq));</span><br><span class="line">        <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]&gt;seq[len])&#123;</span><br><span class="line">                seq[++len] = a[i];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> l=<span class="number">1</span>,r=len;</span><br><span class="line">                <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">                    <span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span>(seq[mid]&gt;=a[i]) r = mid<span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                seq[l] = a[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// When the number of roads is greater than 2, an s needs to be added after the road.</span></span><br><span class="line">        <span class="keyword">if</span>(len==<span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;Case %d:\nMy king, at most 1 road can be built.\n\n&quot;</span>,++cnt);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;Case %d:\nMy king, at most %d roads can be built.\n\n&quot;</span>,++cnt,len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœ€é•¿ä¸Šå‡å­åºåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1023 Train Problem II é«˜ç²¾åº¦å¡ç‰¹å…°æ•°</title>
      <link href="/2024/09/16/HDU-1023-Train-Problem-II-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8D%A1%E7%89%B9%E5%85%B0%E6%95%B0/"/>
      <url>/2024/09/16/HDU-1023-Train-Problem-II-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8D%A1%E7%89%B9%E5%85%B0%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="High-precision-Catalan-number"><a href="#High-precision-Catalan-number" class="headerlink" title="High-precision Catalan number"></a>High-precision Catalan number</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1023">problem link</a></p><p>This is a classic problem of finding the number of stack push ans pop sequences. The only headache is that it requires high precision.</p><h2 id="How-to-determine-whether-it-is-a-Catalan-number"><a href="#How-to-determine-whether-it-is-a-Catalan-number" class="headerlink" title="How to determine whether it is a Catalan number"></a>How to determine whether it is a Catalan number</h2><p>For a more detailed introduction to the Catalan number,see <a href="https://oi-wiki.org/math/combinatorics/catalan/">oi-wiki</a> and <a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E5%A1%94%E5%85%B0%E6%95%B0">wikipedia</a></p><p>I think there is another simple way to judge, which is to see whether the first few numbers are consistent with the Catalan number. If they are the same, then it is likely to be a correct guess.</p><p><img src="https://images.whff521.top/catalan.png" alt="æˆªå›¾æ¥è‡ªoi-wiki"></p><h2 id="Algortithm-Implementation"><a href="#Algortithm-Implementation" class="headerlink" title="Algortithm Implementation"></a>Algortithm Implementation</h2><p>We use <code>catalan[i][j]</code> to represent the j-th digital of the i-th Catalan number. </p><p>The formula I use is <code>h(n) = (4n-2)*h(n-1)/(n+1)</code>.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1005</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> catalan[<span class="number">105</span>][mxlen];</span><br><span class="line"><span class="comment">// catalan[i][j] stores the j-th digit of the i-th catalan number</span></span><br><span class="line"><span class="comment">// h(n) = (4n-2)*h(n-1)/(n+1)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre_work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    catalan[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">        <span class="type">int</span> tmp = <span class="number">0</span> ;</span><br><span class="line">        <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;mxlen;j++)&#123;</span><br><span class="line">            tmp+=catalan[i<span class="number">-1</span>][j]*(<span class="number">4</span>*i<span class="number">-2</span>);</span><br><span class="line">            catalan[i][j] = tmp%<span class="number">10</span>;</span><br><span class="line">            tmp/=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// mxlen is big enough, so tmp will be 0 after the loop</span></span><br><span class="line">        j=mxlen<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(catalan[i][j]==<span class="number">0</span>) j--;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            tmp = tmp*<span class="number">10</span>+catalan[i][j];</span><br><span class="line">            catalan[i][j--] = tmp/(i+<span class="number">1</span>);  </span><br><span class="line">            <span class="keyword">if</span>(tmp&gt;=i+<span class="number">1</span>) tmp%=(i+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Catalan number is a integer, so remain is 0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">pre_work</span>();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="type">int</span> i = mxlen<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(catalan[n][i]==<span class="number">0</span>) i--;</span><br><span class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,catalan[n][i--]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¡ç‰¹å…°æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU 1011 Starship Troopers æ ‘å½¢DP</title>
      <link href="/2024/09/13/HDU-1011-Starship-Troopers-%E6%A0%91%E5%BD%A2DP/"/>
      <url>/2024/09/13/HDU-1011-Starship-Troopers-%E6%A0%91%E5%BD%A2DP/</url>
      
        <content type="html"><![CDATA[<h1 id="ç­”æ¡ˆä¼šæ¯”ä½ æƒ³è±¡çš„ç®€å•å¾ˆå¤š"><a href="#ç­”æ¡ˆä¼šæ¯”ä½ æƒ³è±¡çš„ç®€å•å¾ˆå¤š" class="headerlink" title="ç­”æ¡ˆä¼šæ¯”ä½ æƒ³è±¡çš„ç®€å•å¾ˆå¤š"></a>ç­”æ¡ˆä¼šæ¯”ä½ æƒ³è±¡çš„ç®€å•å¾ˆå¤š</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1011">é¢˜ç›®é“¾æ¥</a></p><p>è¿™é“é¢˜æœ€å¤§çš„éšœç¢åº”è¯¥æ˜¯çŒœå¯¹é¢˜æ„ã€‚ã€‚ã€‚é¢˜é‡Œè¯´çš„â€œpossibilityâ€åº”è¯¥ä¸æ˜¯çœŸæ­£çš„ç›¸å¯¹äºäººæ•°çš„æ¦‚ç‡ï¼Œè€Œæ˜¯å¯ä»¥éšæ„ç›¸åŠ çš„æ•°å­—ï¼Œä½ å¯ä»¥ç›´æ¥å½“æˆè·å¾—è¿™ä¸ªæ•°é‡çš„é‡‘å¸ä¹‹ç±»çš„ã€‚</p><p>æ ‘å½¢è¿·å®«ï¼Œåªè¦ä½ èƒ½æ”¾ç½®è¶…è¿‡å¯¹åº”æ•°é‡çš„å£«å…µåœ¨è¿™ä¸ªèŠ‚ç‚¹ï¼Œä½ å°±å¯ä»¥è·å¾—è¿™ä¸ªèŠ‚ç‚¹çš„â€œpossibilityâ€ã€‚åŒæ—¶ä½ å¯ä»¥ç»§ç»­å‘è¿™ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹è¿›è¡Œè¿›æ”»ï¼Œä½ ç”šè‡³å¯ä»¥å…µåˆ†å‡ è·¯å‘ä¸‹å‰è¿›ã€‚è¿™äº›è¢«æ”¾ç½®çš„å£«å…µåªèƒ½ç•™åœ¨è¢«æ”¾ç½®çš„èŠ‚ç‚¹è€Œä¸èƒ½é‡å¤åˆ©ç”¨ã€‚ä½ ä¸€å…±æœ‰mä¸ªå£«å…µï¼Œæ±‚å‡ºä½ å¯ä»¥è·å¾—çš„â€œpossibilityâ€çš„æœ€å¤§å€¼ã€‚</p><h2 id="æ­£å‘æ€è€ƒ"><a href="#æ­£å‘æ€è€ƒ" class="headerlink" title="æ­£å‘æ€è€ƒ"></a>æ­£å‘æ€è€ƒ</h2><p>æ¯å½“ä½ å é¢†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé¢ä¸´çš„å°±æ˜¯ä½ å¦‚ä½•è¦ç”¨å‰©ä¸‹çš„å†›é˜Ÿï¼Œåˆ†æˆå‡ éƒ¨åˆ†å»è¿™ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚æ˜¾ç„¶æ­£å‘å‡ºå‘å»æ±‚ä½ å¹¶ä¸çŸ¥é“åˆ°åº•æ€æ ·å†³ç­–æ‰èƒ½è·å¾—æœ€å¤§ä»·å€¼ï¼Œå› ä¸ºä½ ç”šè‡³è¿˜ä¸çŸ¥é“æ¥ä¸‹æ¥ä½ ä¼šé¢ä¸´ä»€ä¹ˆæ ·çš„èŠ‚ç‚¹ã€‚</p><h2 id="åå‘æ€è€ƒ"><a href="#åå‘æ€è€ƒ" class="headerlink" title="åå‘æ€è€ƒ"></a>åå‘æ€è€ƒ</h2><p>è¿™å°±è¦æ¬å‡ºå’Œæ·±æœå¸¸ç»‘å®šçš„ä¸€ä¸ªè¯â€”â€”â€œå›æº¯â€ã€‚æˆ‘ä»¬ä¸€è·¯æ·±æœåˆ°å¶å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬è¦ä»ç»ˆç‚¹èµ°åˆ°èµ·ç‚¹ã€‚é¢å¯¹åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½ å½“ç„¶çŸ¥é“ä½ æœ€å°‘éœ€è¦å¤šå°‘å£«å…µï¼Œä½ æœ€å¤§èƒ½è·å¾—å¤šå°‘ä»·å€¼ã€‚æˆ‘ä»¬ç”¨<code>dp[x][i]</code>è¡¨ç¤ºç¬¬xèŠ‚ç‚¹ç”¨æ‰iä¸ªå£«å…µè·å¾—çš„æœ€å¤§çš„ä»·å€¼ã€‚å¦‚æœå½“å‰èŠ‚ç‚¹æœ€å°‘éœ€è¦jä¸ªå£«å…µï¼Œé‚£ä¹ˆdp[x][jï½m]çš„åˆå§‹å€¼å°±æ˜¯å½“å‰èŠ‚ç‚¹çš„ä»·å€¼é‡ã€‚æ¯•ç«Ÿäººå°‘äº†ä¸è¡Œï¼Œä½†æ˜¯äººå¤šäº†æ˜¯è‚¯å®šå¯ä»¥çš„ã€‚</p><p>å½“ä¸¤ä¸ªå¶å­æ±‡èšåˆ°ä¸€ä¸ªçˆ¶èŠ‚ç‚¹åº”è¯¥æ€ä¹ˆè½¬ç§»å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦å°±å°†äººåˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†xä¸ªäººç»™ä¸€ä¸ªå¶å­ï¼Œä¸€éƒ¨åˆ†yä¸ªäººç»™å¦ä¸€ä¸ªï¼ˆæˆ–è€…å¦å¥½å‡ ä¸ªï¼‰å¶å­ï¼Œçˆ¶èŠ‚ç‚¹ç”¨çš„äººæ•°å°±æ˜¯<code>x+y+i</code>ä¸ªäººã€‚å› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“äº†æ¯ä¸ªèŠ‚ç‚¹ç”¨å¤šå°‘äººèƒ½å¤Ÿè·å¾—å¤šå°‘ä»·å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æšä¸¾æ‰€æœ‰æƒ…å†µæ¥è¿›è¡Œæ›´æ–°æœ€ä¼˜è§£ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> pre[mxlen*<span class="number">2</span>],last[mxlen],other[mxlen*<span class="number">2</span>],l;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    l++;</span><br><span class="line">    pre[l] = last[x];</span><br><span class="line">    last[x] = l;</span><br><span class="line">    other[l] = y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> dp[mxlen][mxlen];</span><br><span class="line"><span class="type">bool</span> vis[mxlen];</span><br><span class="line"><span class="type">int</span> bugs[mxlen],brains[mxlen];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">    l = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(pre,<span class="number">0</span>,<span class="built_in">sizeof</span>(pre));</span><br><span class="line">    <span class="built_in">memset</span>(last,<span class="number">0</span>,<span class="built_in">sizeof</span>(last));</span><br><span class="line">    <span class="built_in">memset</span>(other,<span class="number">0</span>,<span class="built_in">sizeof</span>(other));</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="built_in">sizeof</span>(dp));</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    vis[x] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// å‘ä¸Šå–æ•´</span></span><br><span class="line">    <span class="type">int</span> needed = (bugs[x]+<span class="number">19</span>)/<span class="number">20</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=needed;i&lt;=m;i++)&#123;</span><br><span class="line">        dp[x][i] = brains[x];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> p=last[x];p;p=pre[p])&#123;</span><br><span class="line">        <span class="type">int</span> y = other[p];</span><br><span class="line">        <span class="keyword">if</span>(vis[y]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(y);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = m;i&gt;=needed;i--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=i-needed;j++)&#123;</span><br><span class="line">                <span class="comment">//ç¬¬xèŠ‚ç‚¹æ¶ˆè€—iä¸ªå£«å…µèƒ½è·å¾—çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">                dp[x][i] = <span class="built_in">max</span>(dp[x][i],dp[x][i-j]+dp[y][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">-1</span>&amp;&amp;m==<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">prepare</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;bugs[i],&amp;brains[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="type">int</span> x,y;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">            <span class="built_in">add</span>(x,y);</span><br><span class="line">            <span class="built_in">add</span>(y,x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(m==<span class="number">0</span>)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="number">0</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">        cout&lt;&lt;dp[<span class="number">1</span>][m]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±æœ </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDOJ 1010 Tempter of the Bone æ·±æœ&amp;å‰ªæ</title>
      <link href="/2024/09/12/HDOJ-1010-Tempter-of-the-Bone-%E6%B7%B1%E6%90%9C-%E5%89%AA%E6%9E%9D/"/>
      <url>/2024/09/12/HDOJ-1010-Tempter-of-the-Bone-%E6%B7%B1%E6%90%9C-%E5%89%AA%E6%9E%9D/</url>
      
        <content type="html"><![CDATA[<h1 id="ç»†å¿ƒå’Œæ™ºæ…§å¹¶å­˜çš„è§£ç­”"><a href="#ç»†å¿ƒå’Œæ™ºæ…§å¹¶å­˜çš„è§£ç­”" class="headerlink" title="ç»†å¿ƒå’Œæ™ºæ…§å¹¶å­˜çš„è§£ç­”"></a>ç»†å¿ƒå’Œæ™ºæ…§å¹¶å­˜çš„è§£ç­”</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1010">é¢˜ç›®é“¾æ¥</a> </p><p>é¢˜çš„å¤§è‡´æ„æ€æ˜¯èƒ½ä¸èƒ½ä»èµ·ç‚¹ç»è¿‡Tæ—¶é—´ç²¾å‡†åˆ°è¾¾ç»ˆç‚¹ï¼Œå›¾ä¸­æœ‰ä¸€äº›éšœç¢ä¸èƒ½èµ°ï¼Œèµ°è¿‡çš„æ ¼å­ä¹Ÿä¸èƒ½å†èµ°ã€‚</p><p>å…¶ä¸­æ•°æ®æ˜¯æœ€å¤§7*7çš„è¿·å®«ï¼Œæœ€å¤š50ä¸ªè¿·å®«ã€‚</p><h2 id="æ™ºæ…§ä¹‹å¤„â€”â€”ç²¾å‡†çš„å‰ªæ"><a href="#æ™ºæ…§ä¹‹å¤„â€”â€”ç²¾å‡†çš„å‰ªæ" class="headerlink" title="æ™ºæ…§ä¹‹å¤„â€”â€”ç²¾å‡†çš„å‰ªæ"></a>æ™ºæ…§ä¹‹å¤„â€”â€”ç²¾å‡†çš„å‰ªæ</h2><p>ç±»ä¼¼å…¨æ’åˆ—çš„æ·±æœæ—¶é—´å¤æ‚åº¦æ˜¯O(n!)ï¼Œ7*7çš„æ•°æ®æ˜¯è¿‡ä¸å»çš„ã€‚  </p><p>é¦–å…ˆå°±æ˜¯æ™®é€šåœ°å‰ªæï¼š</p><ul><li>å¦‚æœæ—¶é—´å·²ç»å¤§äºTï¼Œå°±ä¸ç”¨å†èµ°äº†</li><li>å¦‚æœå·²ç»æœ‰æ­£ç¡®ç­”æ¡ˆï¼Œè¦åŠæ—¶åœ°é€€å‡ºæœç´¢</li></ul><p>ç„¶åæ˜¯å¥‡å¶å‰ªæï¼Œè¿™é‡Œå‚è€ƒäº†<a href="https://blog.csdn.net/code_pang/article/details/8839432">å…¶ä»–åšå®¢</a>  </p><p>è¿™é‡Œæˆ‘é‡æ–°ç”»äº†ä¸€å¼ å›¾ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://images.whff521.top/maze.jpg" alt="maze"></p><p>å›¾ä¸­çš„Så¯ä»¥ä»£è¡¨ä»»ä½•ä½ èµ°åˆ°çš„ä½ç½®ï¼Œä¸ä¸€å®šæ˜¯èµ·ç‚¹ã€‚å°±å¦‚å›¾ä¸­çš„çº¢è‰²å’Œè“è‰²è·¯å¾„ï¼Œè¿™ä¸¤æ¡è·¯å¾„æ˜¯æœ€å°‘éœ€è¦çš„æ—¶é—´ã€‚å¦‚æœå‰©ä½™æ—¶é—´å°‘äºæœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œé‚£ä¹ˆæ˜¯ä¸€å®šä¸èƒ½åˆ°è¾¾ç»ˆç‚¹çš„ã€‚  </p><p>æ—¢ç„¶æ—¶é—´ä¸å¤Ÿä¸€å®šä¸èƒ½åˆ°è¾¾ï¼Œæ—¶é—´åˆšå¥½å’Œå‰©ä½™æœ€å°‘æ—¶é—´ç›¸ç­‰ä¹Ÿèƒ½åˆ°è¾¾ï¼Œé‚£ä¹ˆè¿˜å‰©ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯æ—¶é—´å¤§äºå‰©ä½™æœ€å°‘æ—¶é—´ã€‚è¿™ä¹Ÿåº”è¯¥æ˜¯å¤§æ¦‚ç‡ä¼šé‡åˆ°çš„æƒ…å†µã€‚æ ¹æ®é¢˜æ„æˆ‘ä»¬åªèƒ½åœ¨ç¬¬Tç§’ç²¾å‡†åˆ°è¾¾ç»ˆç‚¹ï¼Œæˆ‘ä»¬æ—¶é—´å¤šå‡ºæ¥çš„æ€ä¹ˆåŠå‘¢ï¼Ÿâ€”â€”æˆ‘ä»¬éœ€è¦åœ¨ç»ˆç‚¹å‘¨å›´â€œ<strong>å¾˜å¾Š</strong>â€ã€‚  </p><p>å¦‚å›¾ä¸­çš„ç»¿è‰²å’Œé»„è‰²ç®­å¤´æ‰€ç¤ºï¼Œä½ æ¯”æœ€çŸ­è·¯å¾„å¤šèµ°å‡ºæ¥çš„è·¯å¾„ï¼Œä¸€å®šæ˜¯å…ˆâ€œå‡ºå»â€ï¼Œå†â€œå›æ¥â€ã€‚å¤šèµ°çš„è·¯å¾„æ˜¯â€œå¯¹ç§°çš„â€ï¼Œé‚£å¤šå‡ºæ¥çš„è·¯å¾„é•¿åº¦ä¸€å®šæ˜¯å¶æ•°ã€‚  </p><p>è¿™å°±æ˜¯å¥‡å¶æ€§å‰ªæã€‚åŠ ä¸Šè¿™ä¸ªå‰ªæå°±èƒ½è¿‡æ‰€æœ‰çš„æµ‹è¯•æ•°æ®ã€‚</p><h2 id="ç»†å¿ƒä¹‹å¤„â€”â€”å¤šæ•°æ®ä¸‹æ•°ç»„çš„é‡å¤åˆ©ç”¨"><a href="#ç»†å¿ƒä¹‹å¤„â€”â€”å¤šæ•°æ®ä¸‹æ•°ç»„çš„é‡å¤åˆ©ç”¨" class="headerlink" title="ç»†å¿ƒä¹‹å¤„â€”â€”å¤šæ•°æ®ä¸‹æ•°ç»„çš„é‡å¤åˆ©ç”¨"></a>ç»†å¿ƒä¹‹å¤„â€”â€”å¤šæ•°æ®ä¸‹æ•°ç»„çš„é‡å¤åˆ©ç”¨</h2><p>å°½ç®¡æˆ‘å†™è¿‡æ— æ•°ä¸ªå…¨æ’åˆ—æš´åŠ›éª—è¿‡ä¸å°‘10åˆ†ã€20åˆ†ã€‚ä½†æ˜¯åœ¨è¿™é“é¢˜ä¸Šè¿˜æ˜¯å› ä¸ºç²—å¿ƒè€Œæµªè´¹äº†ä¸å°‘æ—¶é—´ã€‚  </p><p>åœ¨åšæ­ç”µè¿™å‰åé“é¢˜çš„æ—¶å€™æˆ‘å°±å‘ç°åŸºæœ¬éƒ½æ˜¯å¤šæ•°æ®çš„å½¢å¼ã€‚æ‰€ä»¥é™¤äº†è¾“å…¥ä¼šé‡æ–°å¡«å…¥æ•°æ®çš„æ•°ç»„å¤–ï¼Œå…¶ä»–æ•°æ®éƒ½éœ€è¦è¿›è¡Œâ€œ<strong>åˆå§‹åŒ–</strong>â€ã€‚</p><p>ä½†æ˜¯å³ä½¿æˆ‘æ¸…ç©ºäº†<code>vis</code>æ•°æ®ï¼Œæˆ‘å‘ç°ä»£ç è¿è¡Œçš„ç­”æ¡ˆç«Ÿç„¶æ˜¯é”™è¯¯çš„ï¼ˆæ ·ä¾‹æ˜¯èƒ½è¿‡çš„ï¼‰ã€‚  </p><p>åŸå› å°±æ˜¯è¿™é“é¢˜æ¯•ç«Ÿä¸æ˜¯å…¨æ’åˆ—ï¼Œvisæ•°ç»„ä¸èƒ½åªåœ¨dfsçš„forå¾ªç¯ä¸­å»è®¾ç½®ã€‚<strong>ä½ çš„èµ·ç‚¹åœ¨ä½ èµ°å‡ºç¬¬ä¸€æ­¥åå°±å†ä¹Ÿä¸èƒ½å›æ¥äº†</strong>ã€‚</p><p><code>vis[startX][startY]=true;</code></p><p>ä»£ç ï¼š </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> mp[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> n,m,T;</span><br><span class="line"><span class="type">bool</span> vis[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">string ans;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> startX,startY,endX,endY;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> step)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ans==<span class="string">&quot;YES&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(step&gt;T) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mp[x][y]==<span class="string">&#x27;D&#x27;</span>&amp;&amp;step==T)&#123;</span><br><span class="line">        ans = <span class="string">&quot;YES&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‰©ä½™æ—¶é—´å°äºåˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class="line">    <span class="keyword">if</span>(T-step&lt;(<span class="built_in">abs</span>(x-endX)+<span class="built_in">abs</span>(y-endY)))&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‰©ä½™æ—¶é—´å‰ªå»æœ€çŸ­è·ç¦»ä¸æ˜¯å¶æ•°</span></span><br><span class="line">    <span class="keyword">if</span>((T-step-(<span class="built_in">abs</span>(x-endX)+<span class="built_in">abs</span>(y-endY)))%<span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">        <span class="type">int</span> nx = x+dx[i];</span><br><span class="line">        <span class="type">int</span> ny = y+dy[i];</span><br><span class="line">        <span class="keyword">if</span>(nx&gt;=<span class="number">1</span>&amp;&amp;nx&lt;=n&amp;&amp;ny&gt;=<span class="number">1</span>&amp;&amp;ny&lt;=m&amp;&amp;!vis[nx][ny]&amp;&amp;mp[nx][ny]!=<span class="string">&#x27;X&#x27;</span>)&#123;</span><br><span class="line">            vis[nx][ny]=<span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,step+<span class="number">1</span>);</span><br><span class="line">            vis[nx][ny]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;T);</span><br><span class="line">        <span class="keyword">if</span>(!n&amp;&amp;!m&amp;&amp;!T) <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">                cin&gt;&gt;mp[i][j];</span><br><span class="line">                <span class="keyword">if</span>(mp[i][j]==<span class="string">&#x27;S&#x27;</span>)&#123;</span><br><span class="line">                    startX=i;</span><br><span class="line">                    startY=j;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mp[i][j]==<span class="string">&#x27;D&#x27;</span>)&#123;</span><br><span class="line">                    endX=i;</span><br><span class="line">                    endY=j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="string">&quot;NO&quot;</span>;</span><br><span class="line">        <span class="comment">// visè®°å¾—æ¸…ç©º</span></span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="built_in">sizeof</span>(vis));</span><br><span class="line">        <span class="comment">// èµ·ç‚¹è¦æ ‡è®°ä¸ºå·²è®¿é—® </span></span><br><span class="line">        vis[startX][startY]=<span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(startX,startY,<span class="number">0</span>);</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±æœ </tag>
            
            <tag> å‰ªæ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDOJ 1007 Quoit Design åœ†ç¯è®¾è®¡</title>
      <link href="/2024/09/11/HDOJ-1007-Quoit-Design-%E5%9C%86%E7%8E%AF%E8%AE%BE%E8%AE%A1/"/>
      <url>/2024/09/11/HDOJ-1007-Quoit-Design-%E5%9C%86%E7%8E%AF%E8%AE%BE%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€é“ç»å…¸çš„åˆ†æ²»"><a href="#ä¸€é“ç»å…¸çš„åˆ†æ²»" class="headerlink" title="ä¸€é“ç»å…¸çš„åˆ†æ²»"></a>ä¸€é“ç»å…¸çš„åˆ†æ²»</h1><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=1007">é¢˜ç›®é“¾æ¥</a></p><p>é¢˜æ„æ˜¯å¥—åœˆæ¸¸æˆè¦è®¾è®¡ä¸€æ¬¾å°ºå¯¸æœ€å¤§çš„åœ†ç¯ï¼Œæ»¡è¶³åœ†ç¯ä¸ä¼šä¸€æ¬¡å¥—ä¸­ä¸¤ä¸ªç‰©å“ã€‚æ¯ä¸ªç‰©å“æœ‰ä¸€ä¸ªæ‘†æ”¾åæ ‡ã€‚æˆ‘ä»¬è¦æ±‚çš„æ˜¯è¿™äº›ç‰©å“ä¸­ç›¸é‚»æœ€è¿‘çš„ä¸¤ä¸ªç‰©å“ä¹‹é—´çš„è·ç¦»ï¼Œè¿™ä¸ªè·ç¦»å°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„åœ†ç¯çš„ç›´å¾„ã€‚  </p><p>è¿™ä¸ªç±»å‹ç½‘ä¸Šå¸¸ç§°ä¸º<code>å¯»æ‰¾æœ€è¿‘ç‚¹å¯¹é—®é¢˜</code>ã€‚  </p><p>æ•°æ®æ˜¯åä¸‡ï¼ˆ1e5ï¼‰ï¼Œåˆ†æ²»ç®—æ³•æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(nlogn)</code>ï¼Œåˆšå¥½èƒ½å¤Ÿè·‘å®Œã€‚</p><p>åˆ†æ²»çš„æ€æƒ³å°±æ˜¯æˆ‘ä»¬å…ˆå°†æ‰€æœ‰ç‚¹æŒ‰ç…§æ¨ªåæ ‡ä»å°åˆ°å¤§æ’åºï¼Œç„¶åå°†ç‚¹åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­çš„<code>L</code>å’Œ<code>R</code>åŒºåŸŸï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ†åˆ«æ±‚ä¸¤è¾¹çš„è·ç¦»æœ€å°å€¼ã€‚å½“ç„¶åœ¨ä¸­é—´çº¿çš„<code>mid</code>éƒ¨åˆ†ä¹Ÿæ˜¯éœ€è¦æ±‚è·ç¦»çš„ã€‚</p><p>åœ¨ç®—å®Œä¸¤è¾¹çš„è·ç¦»æœ€å°å€¼<code>d</code>åï¼Œæˆ‘ä»¬å°†ä¸­é—´çº¿å‘å·¦å’Œå‘å³æ‰©å±•<code>d</code>é•¿åº¦ï¼Œç»„æˆ<code>mid</code>çš„é¢†åŸŸã€‚å¯ä»¥çŸ¥é“å¦‚æœé¢†åŸŸå†æ‰©å¤§å¢åŠ çš„ç‚¹å¹¶ä¸ä¼šå½¢æˆæ›´ä¼˜çš„ç­”æ¡ˆã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬çš„<code>L</code>å’Œ<code>R</code>åŒºåŸŸæ˜¯ä»¥ä¸­é—´çº¿ä¸ºç•Œï¼Œä¹Ÿå°±æ˜¯è¯´<code>mid</code>åŒºåŸŸå…¶å®æ˜¯å åŠ åœ¨ä¸¤è¾¹åŒºåŸŸä¹‹ä¸Šçš„ã€‚</p><p><img src="https://images.whff521.top/fenzhi.jpg" alt="fenzhi"></p><p>è™½ç„¶ä¸­é—´åŒºåŸŸçš„ç‚¹å·²ç»ä¼šæ’é™¤æ‰ä¸€äº›ç‚¹ï¼Œä½†æ˜¯ç›´æ¥ç”¨åŒé‡å¾ªç¯æ‰¾æœ€çŸ­è·ç¦»ä¼šè¶…æ—¶ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœç‚¹éƒ½åœ¨ä¸­é—´å¯†é›†çš„è¯æ—¶é—´å¤æ‚åº¦ä¼šæ¥è¿‘<code>O(n*n)</code>ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¸­é—´ç‚¹æŒ‰ç…§<code>y</code>çš„ä»å°åˆ°å¤§æ’åºï¼Œåœ¨å¾ªç¯ä¸­å¦‚æœä¸¤ç‚¹çºµåæ ‡ä¹‹é—´çš„è·ç¦»å·²ç»å¤§äº<code>d</code>çš„æ—¶å€™åŠæ—¶è·³å‡ºå¾ªç¯ï¼Œå®Œæˆå‰ªæã€‚åœ¨<a href="http://oi-wiki.com/geometry/nearest-points/">oi-wiki</a>ä¸­æœ‰è¯æ˜ï¼Œè¿™é‡Œçš„æ»¡è¶³æ¡ä»¶çš„ç‚¹ä¸ä¼šè¶…è¿‡7ã€‚</p><p>è¾¹ç•Œé—®é¢˜ï¼šè‡ªå·±ä¸è‡ªå·±ä¹‹é—´è·ç¦»è®¾ç½®æˆè¶³å¤Ÿå¤§çš„å€¼ï¼Œå¦‚æœåŒºé—´åªæœ‰ä¸¤ä¸ªç‚¹ï¼Œåˆ™ç›´æ¥è®¡ç®—ä¸¤ç‚¹ä¹‹é—´è·ç¦»ã€‚</p><p><strong>PS: å‡½æ•°å‘½åä¸è¦ç”¨distanceï¼Œä¼šå’ŒC++åº“ä¸­å‡½æ•°é‡åè€Œå¯¼è‡´CE</strong> </p><p>ä»£ç ï¼š<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    <span class="type">double</span> y;</span><br><span class="line">&#125;points[mxlen];</span><br><span class="line"><span class="comment">// sort by x</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmpx</span><span class="params">(node qw,node er)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(qw.x==er.x) <span class="keyword">return</span> qw.y&lt;er.y;</span><br><span class="line">    <span class="keyword">return</span> qw.x&lt;er.x;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sort by y</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmpy</span><span class="params">(node qw,node er)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(qw.y==er.y) <span class="keyword">return</span> qw.x&lt;er.x;</span><br><span class="line">    <span class="keyword">return</span> qw.y&lt;er.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// count the distance between two points</span></span><br><span class="line"><span class="comment">// name can not be distance, because there is a function named distance in cmath</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">dis</span><span class="params">(node qw,node er)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((qw.x-er.x)*(qw.x-er.x)+(qw.y-er.y)*(qw.y-er.y));</span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">node temp[mxlen];</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r) <span class="keyword">return</span> <span class="number">1e20</span>;</span><br><span class="line">    <span class="comment">// if there are only two points</span></span><br><span class="line">    <span class="keyword">if</span>(l+<span class="number">1</span>==r) <span class="keyword">return</span> <span class="built_in">dis</span>(points[l],points[r]);</span><br><span class="line">    <span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="type">double</span> d = <span class="built_in">min</span>(<span class="built_in">solve</span>(l,mid),<span class="built_in">solve</span>(mid+<span class="number">1</span>,r));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// sort by y, otherwise the code will TLE</span></span><br><span class="line">    <span class="type">int</span> len = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=mid;i&gt;=l&amp;&amp;points[mid].x-points[i].x&lt;d;i--) temp[len++] = points[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=mid+<span class="number">1</span>;i&lt;=r&amp;&amp;points[i].x-points[mid].x&lt;d;i++) temp[len++] = points[i];</span><br><span class="line">    <span class="built_in">sort</span>(temp+<span class="number">1</span>,temp+len,cmpy);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;len&amp;&amp;temp[j].y-temp[i].y&lt;d;j++)&#123;</span><br><span class="line">            d = <span class="built_in">min</span>(d,<span class="built_in">dis</span>(temp[i],temp[j]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">if</span>(!n) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;points[i].x,&amp;points[i].y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(points+<span class="number">1</span>,points+n+<span class="number">1</span>,cmpx);</span><br><span class="line">        <span class="type">double</span> ans = <span class="built_in">solve</span>(<span class="number">1</span>,n);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.2f\n&quot;</span>,ans/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†æ²» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ›´æœ‰æ•ˆåœ°è§£å†³æ‹¬å·åŒ¹é…é—®é¢˜</title>
      <link href="/2024/08/26/%E6%9B%B4%E6%9C%89%E6%95%88%E5%9C%B0%E8%A7%A3%E5%86%B3%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D%E9%97%AE%E9%A2%98/"/>
      <url>/2024/08/26/%E6%9B%B4%E6%9C%89%E6%95%88%E5%9C%B0%E8%A7%A3%E5%86%B3%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯åŠ›æ‰£ä¸Šä¸€é“éå¸¸ç®€å•çš„é—®é¢˜ï¼Œæ˜¯ç»å…¸çš„è§£å†³æ‹¬å·åŒ¹é…é—®é¢˜ã€‚å½“ç„¶åšæ³•æ˜¯ç”¨ä¸€ä¸ªæ ˆå³å¯è§£å†³é—®é¢˜ã€‚<br><a href="https://leetcode.cn/problems/valid-parentheses/description/?envType=study-plan-v2&amp;envId=2024-spring-sprint-100">æœ‰æ•ˆçš„æ‹¬å·</a></p><p>è¿™æ˜¯æˆ‘çš„ä»£ç ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Stack&lt;Character&gt; st = <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">            <span class="type">Character</span> <span class="variable">nowC</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(nowC==<span class="string">&#x27;(&#x27;</span>||nowC==<span class="string">&#x27;&#123;&#x27;</span>||nowC==<span class="string">&#x27;[&#x27;</span>)&#123;</span><br><span class="line">                st.push(nowC);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(st.empty())&#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> st.pop();</span><br><span class="line">                <span class="keyword">if</span>((nowC==<span class="string">&#x27;)&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;(&#x27;</span>)||(nowC==<span class="string">&#x27;]&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;[&#x27;</span>)||(nowC==<span class="string">&#x27;&#125;&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;&#123;&#x27;</span>))&#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!st.empty()) flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ˜¾ç„¶æˆ‘çš„ä»£ç æ˜¯å¯ä»¥ä¸è´¹åŠ›çš„é€šè¿‡æµ‹è¯•çš„ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯å»çœ‹äº†ä¸€çœ¼é¢˜è§£ã€‚ </p><p>è¿™æ˜¯åŠ›æ‰£å®˜æ–¹é¢˜è§£ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Map&lt;Character, Character&gt; pairs = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Character&gt;() &#123;&#123;</span><br><span class="line">            put(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">            put(<span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;[&#x27;</span>);</span><br><span class="line">            put(<span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span>);</span><br><span class="line">        &#125;&#125;;</span><br><span class="line">        Deque&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (pairs.containsKey(ch)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (stack.isEmpty() || stack.peek() != pairs.get(ch)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(ch);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šåŠ›æ‰£å®˜æ–¹é¢˜è§£</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//leetcode.cn/problems/valid-parentheses/solutions/373578/you-xiao-de-gua-hao-by-leetcode-solution/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure></p><p>æƒ³å¿…å¤§å®¶å·²ç»èƒ½å¤Ÿçœ‹åˆ°å®˜æ–¹é¢˜è§£å’Œæˆ‘çš„ä»£ç æœ‰ç€ä¸€ä¸ªæ˜æ˜¾çš„å·®åˆ«ï¼Œé‚£å°±æ˜¯é¢˜è§£ç”¨äº†å¦ä¸€ä¸ªæ•°æ®ç»“æ„â€”â€”<code>Map</code>ã€‚  </p><p>ç”¨åˆ°<code>Map</code>çš„ç†ç”±ä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œå°±æ˜¯åˆ¤æ–­å°æ‹¬å·ï¼Œä¸­æ‹¬å·ï¼Œå¤§æ‹¬å·åŒ¹é…çš„æ—¶å€™ï¼Œç”¨<code>Map</code>çš„<code>key-value</code>ä¸€ä¸€å¯¹åº”èƒ½å¤Ÿå®Œç¾è§£å†³ã€‚è¿™é‡Œçš„æ“ä½œçœ‹ä¼¼ç”»è›‡æ·»è¶³ï¼Œä½†æ˜¯ä»£ç åœ¨æ‹“å±•æ€§ä¸Šå¤§å¤§å¢å¼ºï¼Œåªéœ€è¦æ›´æ”¹é”®å€¼å¯¹çš„å†…å®¹ï¼Œå°±å¯ä»¥æŠŠä»£ç æ‰©å±•åˆ°ä»»æ„åŒ¹é…é—®é¢˜ã€‚  </p><p>è¿˜æœ‰ä¸€ç‚¹å€¼å¾—ä¸€æï¼Œå°±æ˜¯<code>java</code>ä¸­çš„<code>stack</code>å®é™…ä¸Šå°±æ˜¯<code>vector</code>çš„ä¸€ç§ã€‚æ•´ä½“æ¥çœ‹ï¼ŒåŒç«¯é˜Ÿåˆ—èƒ½å¤Ÿå®ç°æ ˆçš„æ‰€æœ‰åŠŸèƒ½ï¼Œä¸”é€‚ç”¨èŒƒå›´æ›´åŠ å¹¿æ³›ï¼Œæ‰€ä»¥å¤§å¤šæ•°å®šä¹‰æ ˆçš„æ—¶å€™éƒ½ä¼šç›´æ¥ç”¨<code>Deque</code>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> æ‹¬å·åŒ¹é… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢çš„å…è´¹å›¾åºŠæ–¹æ¡ˆ</title>
      <link href="/2024/07/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%96%B9%E6%A1%88/"/>
      <url>/2024/07/08/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h1 id="åšå®¢çš„å…è´¹å›¾åºŠæ–¹æ¡ˆï¼ˆCloudflare-R2-PicGoï¼‰"><a href="#åšå®¢çš„å…è´¹å›¾åºŠæ–¹æ¡ˆï¼ˆCloudflare-R2-PicGoï¼‰" class="headerlink" title="åšå®¢çš„å…è´¹å›¾åºŠæ–¹æ¡ˆï¼ˆCloudflare R2 + PicGoï¼‰"></a>åšå®¢çš„å…è´¹å›¾åºŠæ–¹æ¡ˆï¼ˆCloudflare R2 + PicGoï¼‰</h1><p><a href="https://www.pseudoyu.com/zh/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/">å‚è€ƒåšå®¢</a>  </p><p>è¿™ä¸ªåšå®¢å†™çš„å·²ç»éå¸¸è¯¦ç»†æ¸…æ¥šäº†ï¼Œè¿™é‡Œä¸å†èµ˜è¿°å®ç°æ­¥éª¤ã€‚  </p><p>è¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘æ˜¯æ€ä¹ˆå‘ç°è¿™ç¯‡åšå®¢çš„ã€‚  </p><p>åœ¨ä¸€ä¸ªå¾ˆæ— èŠçš„æ—¶é—´æ®µï¼Œæˆ‘æ‰“å¼€äº†<code>Inoreader</code>çœ‹RSSè®¢é˜…çš„åšå®¢åˆ—è¡¨æœ‰æ²¡æœ‰æ›´æ–°ï¼Œå…¶ä¸­æœ‰ä¸€ç¯‡å°‘æ•°æ´¾çš„åšå®¢å¸å¼•äº†æˆ‘ï¼Œ<a href="https://sspai.com/post/90223">æ˜¯è¿™ä¸ªåšå®¢</a>ã€‚</p><p><img src="http://images.whff521.top/Screenshot%202024-07-08%20at%2020.10.44.png" alt="sspai">  </p><p>è¿™é‡Œåšä¸»æåˆ°äº†<a href="https://x.com/pseudo_yu">ä»–çš„æ¨ç‰¹è´¦å·</a>ã€‚å…¶ä¸­å¾ˆè¿‘çš„æ—¶é—´é‡Œä»–å‘å¸ƒäº†ä¸Šé¢æåˆ°çš„å…è´¹å›¾åºŠæ–¹æ¡ˆçš„åšæ–‡ã€‚  </p><p>è¿™ç¯‡åšå®¢è§£å†³äº†æˆ‘æ­£åœ¨è‹¦æ¼çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯åšæ–‡ä¸­å›¾ç‰‡çš„æ’å…¥ã€‚å¦‚æœæ˜¯åªæœ‰ä¸€ä¸ªgithub pagesçš„é™æ€ç½‘ç«™è¿˜å¥½è¯´ï¼Œç›´æ¥ä¼ åœ¨ç›¸å¯¹æ–‡ä»¶å¤¹é‡Œå³å¯ã€‚ä½†æ˜¯å¦‚æœé¢å¯¹å¤šå¹³å°ï¼Œæ¯”å¦‚æˆ‘è¿˜æƒ³åœ¨csdnä¸­å‘å¸ƒï¼Œé‚£å°±å˜å¾—å¾ˆéº»çƒ¦ï¼Œå› ä¸ºmarkdowné‡Œå†™çš„ç›¸å¯¹è·¯å¾„å°†ä¸å¯ç”¨ï¼Œæœ€ç›´æ¥çš„åŠæ³•å°±æ˜¯æ›´æ”¹æ¯ä¸ªå›¾ç‰‡é“¾æ¥ã€‚  </p><p>ç„¶è€Œå¦‚æœæ˜¯æœ‰è‡ªå·±çš„å›¾åºŠå°±å¾ˆæ–¹ä¾¿äº†ï¼Œä¸ç”¨æ‹…å¿ƒç½‘ç»œä¸Šçš„å›¾ç‰‡ä¼šçªç„¶å¤±æ•ˆï¼Œå¤šå¹³å°å‘å¸ƒä¹Ÿä¸ç”¨æ›´æ”¹è‡ªå·±çš„æˆªå›¾è·¯å¾„ã€‚ä¸Šæ–¹çš„å›¾ç‰‡å°±æ˜¯ç”¨æˆ‘è‡ªå·±å®ç°çš„å›¾åº“ã€‚  </p><p>äº‹å®ä¸Šè¿™ä¸ªå…è´¹è§£å†³æ–¹æ¡ˆæ˜¯ç›¸å¯¹äºå·²ç»ä½¿ç”¨è¿‡CloudFlareå’Œä¹°è¿‡ä¸”ç”¨è¿‡åŸŸåçš„äººçœ‹çš„ã€‚æœ‰ä¸€äº›ç‚¹æ²¡æœ‰æåŠã€‚é¦–å…ˆä½ å¦‚æœæƒ³ç”¨R2çš„è¯ä½ æœ€å¥½æœ‰ä¸€å¼ VISAå¡è¿›è¡Œè´¦æˆ·çš„è®¤è¯ã€‚è¿˜æœ‰å¯¹äºå…¬å…±çš„åŸŸåï¼Œå¦‚æœæƒ³ç”¨è‡ªå·±çš„åŸŸåï¼Œé¦–å…ˆè¿™ä¸ªåŸŸåçš„DNSçš„NameServeréœ€è¦æ”¹æˆCloudFlareçš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™é‡Œçš„è‡ªå®šä¹‰åŸŸååªèƒ½æ˜¯åœ¨CloudFlareé‡Œè¿›è¡Œä»£ç†çš„åŸŸåï¼Œå½“ç„¶æœ‰å…è´¹è®¡åˆ’å¯ä»¥ç”¨ã€‚  </p><p>è¿˜æœ‰å…³äºPicGoè¿™ä¸ªè½¯ä»¶ï¼Œå¯¹äºMacç”¨æˆ·æ¥è¯´ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å®‰è£…åç³»ç»Ÿä¸è®©ä½ æ‰“å¼€å¹¶ä½¿ç”¨è¿™ä¸ªè½¯ä»¶ï¼Œç³»ç»Ÿä¼šæç¤ºä½ æŠŠå®ƒæ‰”è¿›åƒåœ¾æ¡¶é‡Œï¼Œå› ä¸ºé‡Œé¢çš„è¯ä¹¦ä¸å¯¹ã€‚è¿™é‡Œè§£å†³æ–¹æ¡ˆæ˜¯<a href="https://youngjuning.js.org/bd534125c87e/?highlight=picgo#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F">æ¥è‡ªè¿™ä¸ªåšå®¢</a>  </p><p>ç»ˆç«¯è¾“å…¥ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -r -d com.apple.quarantine ä½ çš„APPè·¯å¾„</span><br></pre></td></tr></table></figure></p><p>APP è·¯å¾„çš„è·å–æ–¹æ³•ï¼š</p><p>æ‰“å¼€ â€œè®¿è¾¾â€ï¼ˆFinderï¼‰è¿›å…¥ â€œåº”ç”¨ç¨‹åºâ€ ç›®å½•ï¼Œæ‰¾åˆ°è¯¥è½¯ä»¶å›¾æ ‡ï¼Œå°†å›¾æ ‡æ‹–åˆ°ç»ˆç«¯çª—å£ï¼Œæœ€ç»ˆçš„å‘½ä»¤ç±»ä¼¼:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -r -d com.apple.quarantine <span class="string">&#x27;/Applications/PicGo.app&#x27;</span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
            <tag> åšå®¢ </tag>
            
            <tag> å›¾åºŠ </tag>
            
            <tag> PicGo </tag>
            
            <tag> Cloudflare </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 09 Exercises</title>
      <link href="/2024/06/22/Eloquent-JavaScript-09-Exercises/"/>
      <url>/2024/06/22/Eloquent-JavaScript-09-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><p><a href="https://eloquentjavascript.net/09_regexp.html">To the book page</a>  </p><h2 id="Regexp-golf"><a href="#Regexp-golf" class="headerlink" title="Regexp golf"></a>Regexp golf</h2><p>æ³¨æ„è¿™é‡Œå¦‚æœå†™å¯¹çš„è¯ï¼Œåº”è¯¥ä»€ä¹ˆéƒ½ä¸ä¼šè¾“å‡ºã€‚  </p><p>æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„<code>\b</code>æ˜¯å•è¯è¾¹ç•Œçš„æ ‡å¿—ï¼Œå®ƒç”¨æ¥åŒ¹é…ä¸€ä¸ªå•è¯çš„è¾¹ç•Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill in the regular expressions</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…â€œcarâ€å’Œâ€œcatâ€ï¼Œä½†ä¸åŒ¹é…å…¶ä»–å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/ca[rt]/</span>,</span><br><span class="line">       [<span class="string">&quot;my car&quot;</span>, <span class="string">&quot;bad cats&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;camper&quot;</span>, <span class="string">&quot;high art&quot;</span>]);</span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…â€œpopâ€å’Œâ€œpropâ€ï¼Œä½†ä¸åŒ¹é…å…¶ä»–å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/pr?op/</span>,</span><br><span class="line">       [<span class="string">&quot;pop culture&quot;</span>, <span class="string">&quot;mad props&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;plop&quot;</span>, <span class="string">&quot;prrrop&quot;</span>]);</span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…â€œferretâ€ï¼Œâ€œferryâ€å’Œâ€œferrariâ€ï¼Œä½†ä¸åŒ¹é…å…¶ä»–å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/ferr(et|y|ari)/</span>,</span><br><span class="line">       [<span class="string">&quot;ferret&quot;</span>, <span class="string">&quot;ferry&quot;</span>, <span class="string">&quot;ferrari&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;ferrum&quot;</span>, <span class="string">&quot;transfer A&quot;</span>]);</span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…ä»¥â€œiousâ€ç»“å°¾çš„ä»»ä½•å•è¯ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\b\w*ious\b/</span>,</span><br><span class="line">       [<span class="string">&quot;how delicious&quot;</span>, <span class="string">&quot;spacious room&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;ruinous&quot;</span>, <span class="string">&quot;consciousness&quot;</span>]);</span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…ç©ºç™½å­—ç¬¦åè·Ÿä¸€ä¸ªå¥å·ã€é€—å·ã€å†’å·æˆ–åˆ†å·ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\s[.,;:]/</span>,</span><br><span class="line">       [<span class="string">&quot;bad punctuation .&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;escape the period&quot;</span>]);</span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…é•¿åº¦å¤§äºå…­ä¸ªå­—æ¯çš„å•è¯ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\b\w&#123;7,&#125;\b/</span>,</span><br><span class="line">       [<span class="string">&quot;Siebentausenddreihundertzweiundzwanzig&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;no&quot;</span>, <span class="string">&quot;three small words&quot;</span>]);</span><br><span class="line"><span class="comment">// æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥åŒ¹é…ä¸åŒ…å«å­—æ¯â€œeâ€æˆ–â€œEâ€çš„å•è¯ã€‚</span></span><br><span class="line"><span class="title function_">verify</span>(<span class="regexp">/\b[a-df-zA-DF-Z]+\b/</span>,</span><br><span class="line">       [<span class="string">&quot;red platypus&quot;</span>, <span class="string">&quot;wobbling nest&quot;</span>],</span><br><span class="line">       [<span class="string">&quot;earth bed&quot;</span>, <span class="string">&quot;bedrÃ¸vet abe&quot;</span>, <span class="string">&quot;BEET&quot;</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">verify</span>(<span class="params">regexp, yes, no</span>) &#123;</span><br><span class="line">  <span class="comment">// Ignore unfinished exercises</span></span><br><span class="line">  <span class="keyword">if</span> (regexp.<span class="property">source</span> == <span class="string">&quot;...&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> yes) <span class="keyword">if</span> (!regexp.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Failure to match &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> no) <span class="keyword">if</span> (regexp.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Unexpected match for &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Quoting-style"><a href="#Quoting-style" class="headerlink" title="Quoting style"></a>Quoting style</h2><p>å°†å¥å­ä¸­çš„å•å¼•å·æ¢æˆåŒå¼•å·ï¼Œä½†æ˜¯å•è¯ç¼©å†™ä¸èƒ½å˜ï¼Œæ¯”å¦‚â€œarenâ€™tâ€  </p><p>è¿™é‡Œè°ƒè¯•äº†åŠå¤©ï¼Œå› ä¸ºæˆ‘é”™è¯¯çš„å°†<code>|</code>å†™æˆä¸­æ–‡çš„<code>ï½œ</code>äº†ã€‚ã€‚ã€‚  </p><ul><li><code>(^|\W)</code>ï¼šåŒ¹é…å¼€å¤´æˆ–éå­—æ¯å­—ç¬¦åé¢çš„å•å¼•å·ã€‚</li><li><code>(\W|$)</code>ï¼šåŒ¹é…å•å¼•å·åé¢ç´§è·Ÿéå­—æ¯å­—ç¬¦æˆ–å­—ç¬¦ä¸²ç»“å°¾ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="string">&quot;&#x27;I&#x27;m the cook,&#x27; he said, &#x27;it&#x27;s my job.&#x27;&quot;</span>;</span><br><span class="line"><span class="comment">// Change this call.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">replace</span>(<span class="regexp">/(^|\W)&#x27;|&#x27;(\W|$)/g</span>,<span class="string">&#x27;$1&quot;$2&#x27;</span>));</span><br><span class="line"><span class="comment">// â†’ &quot;I&#x27;m the cook,&quot; he said, &quot;it&#x27;s my job.&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Numbers-again"><a href="#Numbers-again" class="headerlink" title="Numbers again"></a>Numbers again</h2><p>ä¸ºäº†ç¼–å†™ä¸€ä¸ªåŒ¹é…JavaScripté£æ ¼æ•°å­—çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬éœ€è¦æ”¯æŒä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>å¯é€‰çš„æ­£è´Ÿå·</li><li>å¯é€‰çš„åè¿›åˆ¶ç‚¹</li><li>æŒ‡æ•°è¡¨ç¤ºæ³•ï¼ˆeæˆ–Eï¼‰ï¼Œä»¥åŠå¯é€‰çš„æ­£è´Ÿå·</li></ul><p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¯ä»¥éµå¾ªçš„æ­¥éª¤ï¼š</p><ol><li><strong>å¯é€‰çš„æ­£è´Ÿå·</strong>ï¼š<code>[+-]?</code></li><li><strong>æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</strong>ï¼š<ul><li>æ•´æ•°éƒ¨åˆ†ï¼š<code>\d*</code></li><li>å°æ•°éƒ¨åˆ†ï¼š<code>\.\d+</code></li></ul></li><li><strong>æŒ‡æ•°éƒ¨åˆ†</strong>ï¼š<code>e[+-]?\d+</code></li></ol><p>å°†è¿™äº›éƒ¨åˆ†ç»„åˆåœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…JavaScripté£æ ¼çš„æ•°å­—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="regexp">/^[+-]?(\d+(\.\d*)?|\.\d+)([eE][+-]?\d+)?$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tests:</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;-1&quot;</span>, <span class="string">&quot;+15&quot;</span>, <span class="string">&quot;1.55&quot;</span>, <span class="string">&quot;.5&quot;</span>, <span class="string">&quot;5.&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;1.3e2&quot;</span>, <span class="string">&quot;1E-4&quot;</span>, <span class="string">&quot;1e+12&quot;</span>]) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!number.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Failed to match &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> str <span class="keyword">of</span> [<span class="string">&quot;1a&quot;</span>, <span class="string">&quot;+-1&quot;</span>, <span class="string">&quot;1.2.3&quot;</span>, <span class="string">&quot;1+1&quot;</span>, <span class="string">&quot;1e4.5&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;.5.&quot;</span>, <span class="string">&quot;1f5&quot;</span>, <span class="string">&quot;.&quot;</span>]) &#123;</span><br><span class="line">  <span class="keyword">if</span> (number.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Incorrectly accepted &#x27;<span class="subst">$&#123;str&#125;</span>&#x27;`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><ul><li><code>^[+-]?</code>ï¼šåŒ¹é…å¼€å¤´çš„å¯é€‰æ­£è´Ÿå·ã€‚</li><li><code>(\d+(\.\d*)?|\.\d+)</code>ï¼šåŒ¹é…æ•´æ•°æˆ–å°æ•°éƒ¨åˆ†ã€‚<ul><li><code>\d+(\.\d*)?</code>ï¼šåŒ¹é…æ•´æ•°éƒ¨åˆ†ï¼Œåé¢è·Ÿç€å¯é€‰çš„å°æ•°éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œ<code>123</code>æˆ–<code>123.456</code>ã€‚</li><li><code>|\.\d+</code>ï¼šæˆ–è€…åŒ¹é…åªæœ‰å°æ•°ç‚¹å’Œå°æ•°éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œ<code>.456</code>ã€‚</li></ul></li><li><code>([eE][+-]?\d+)?</code>ï¼šåŒ¹é…å¯é€‰çš„æŒ‡æ•°éƒ¨åˆ†ã€‚<ul><li><code>[eE]</code>ï¼šåŒ¹é…<code>e</code>æˆ–<code>E</code>ã€‚</li><li><code>[+-]?</code>ï¼šåŒ¹é…å¯é€‰çš„æ­£è´Ÿå·ã€‚</li><li><code>\d+</code>ï¼šåŒ¹é…ä¸€æˆ–å¤šä¸ªæ•°å­—ã€‚</li></ul></li><li><code>$</code>ï¼šåŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2024å¹´Androidé¡¹ç›®å®ç°é«˜å¾·å¯¼èˆª</title>
      <link href="/2024/06/21/2024%E5%B9%B4Android%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%BE%B7%E5%AF%BC%E8%88%AA/"/>
      <url>/2024/06/21/2024%E5%B9%B4Android%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%BE%B7%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨é«˜å¾·SDKå®ç°å¯¼èˆªåŠŸèƒ½"><a href="#ä½¿ç”¨é«˜å¾·SDKå®ç°å¯¼èˆªåŠŸèƒ½" class="headerlink" title="ä½¿ç”¨é«˜å¾·SDKå®ç°å¯¼èˆªåŠŸèƒ½"></a>ä½¿ç”¨é«˜å¾·SDKå®ç°å¯¼èˆªåŠŸèƒ½</h1><p><a href="https://blog.csdn.net/weixin_46974030/article/details/134059600">å‚è€ƒåšå®¢</a>  </p><p><a href="https://github.com/WHFF521/AMAP-Android-Navigation">Githubä»“åº“ç›´è¾¾</a>  </p><p>è¿™æ˜¯ä»Šå¤©ä¼ä¸šå®è®­çš„ä¸€ä¸ªå°ä½œä¸šï¼Œå®é™…ä¸Šæˆ‘ä»æ˜¨å¤©å°±å¼€å§‹å°è¯•ç”³è¯·keyç„¶åä¸‹è½½å®˜æ–¹Demoå¼€å§‹å®éªŒã€‚æœ¬æ¥æ˜¯è¦åšflutteré¡¹ç›®ï¼Œä½†æ˜¯é«˜å¾·å®˜æ–¹é‡Œflutteræ•™ç¨‹åªæœ‰æ˜¾ç¤ºåœ°å›¾å’Œå®šä½åŠŸèƒ½ï¼Œæ²¡æœ‰å¯¼èˆªåŠŸèƒ½ï¼Œå¯¼èˆªåŠŸèƒ½å®˜æ–¹åªæœ‰Androidçš„æ•™ç¨‹ã€‚ä»Šå¤©ä¹Ÿæ˜¯ç”¨AndroidåŸç”Ÿè¿›è¡Œç¼–å†™çš„ã€‚è‡³äºæ€ä¹ˆæ•´åˆåˆ°flutteré¡¹ç›®é‡Œç›®å‰è¿˜ä¸çŸ¥é“ã€‚ã€‚ã€‚</p><h2 id="1-å®˜ç½‘ä¸‹è½½SDK"><a href="#1-å®˜ç½‘ä¸‹è½½SDK" class="headerlink" title="1. å®˜ç½‘ä¸‹è½½SDK"></a>1. å®˜ç½‘ä¸‹è½½SDK</h2><p>æˆ‘ä¹Ÿå°è¯•è¿‡ç›´æ¥gradleå¼•å…¥åŒ…çš„æ“ä½œï¼Œä½†æ˜¯ç›´æ¥å¼•å…¥çš„ä¼šç¼ºå°‘<code>AmapNaviParams</code>ã€‚å®˜ç½‘ä¹Ÿä¸€ç›´å¼ºè°ƒæœ‰ä¸ªä»€ä¹ˆä¸œè¥¿å¼€æºäº†æ‰€ä»¥æä¾›çš„åŒ…é‡Œç§»é™¤äº†ä¸€äº›ä¸œè¥¿ï¼ˆä¸çŸ¥é“åˆ°åº•æ˜¯ä»€ä¹ˆï¼‰ã€‚  </p><p><a href="https://lbs.amap.com/api/android-sdk/download">å®˜ç½‘SDKä¸‹è½½åœ°å€</a>  </p><p>æˆ‘ä¸‹è½½çš„æ˜¯å¯¼èˆªåˆåŒ…ï¼š</p><p><img src="/images/Android/gaodeSDK.png" alt="SDK">  </p><h2 id="2-åˆ›å»ºé¡¹ç›®"><a href="#2-åˆ›å»ºé¡¹ç›®" class="headerlink" title="2. åˆ›å»ºé¡¹ç›®"></a>2. åˆ›å»ºé¡¹ç›®</h2><p>ç›´æ¥Android Studioåˆ›å»ºä¸€ä¸ªjavaï¼ŒGroovyçš„é¡¹ç›®å³å¯ã€‚  </p><p>è®¾ç½®é‡Œéœ€è¦è®¾ç½®ç”Ÿæˆæ‰€æœ‰Gradle Taskï¼š  </p><p><img src="/images/Android/openALLTask.png" alt="set generate all tasks">  </p><p>è¿™æ ·ä½ å°±å¯ä»¥é ç‚¹å‡»è¿™é‡Œç›´æ¥è·å¾—ä½ é¡¹ç›®çš„SHA1çš„å€¼ï¼Œç”³è¯·keyçš„æ—¶å€™éœ€è¦è¿™ä¸ªã€‚</p><p><img src="/images/Android/signing.png" alt="signing">  </p><p>ç‚¹å‡»ä¸Šå›¾ä½ç½®ä½ å°±å¯ä»¥åœ¨ç»ˆç«¯çœ‹è§ä½ çš„SHA1å€¼ã€‚åœ¨æˆ‘è¿™é‡Œreleaseå’Œdebugçš„SHA1çš„å€¼æ˜¯ä¸€æ ·çš„ã€‚  </p><h2 id="3-å¯¼å…¥ä½ ä¸‹è½½çš„SDK"><a href="#3-å¯¼å…¥ä½ ä¸‹è½½çš„SDK" class="headerlink" title="3. å¯¼å…¥ä½ ä¸‹è½½çš„SDK"></a>3. å¯¼å…¥ä½ ä¸‹è½½çš„SDK</h2><p>åœ¨appçš„<code>build.gradle</code>çš„<code>dependencies</code>é‡Œæ·»åŠ ä¸€è¡Œ<br><code>implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</code>  </p><p>åœ¨ä¸Šæ–¹å’Œ<code>compileOptions</code>åŒçº§çš„ä½ç½®æ·»åŠ ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sourceSets &#123;</span><br><span class="line">    main &#123;</span><br><span class="line">        jniLibs.srcDirs = [&#x27;libs&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾ï¼š</p><p><img src="/images/Android/SouceSet.png" alt="souceSet">  </p><p>åŒæ—¶ä¸‹è½½çš„SDKå¦‚å›¾æ”¾åœ¨appæ–‡ä»¶å¤¹ä¸‹çš„libsæ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>åŒæ­¥ä¸€ä¸‹å³å¯¼å…¥å®Œæˆã€‚</p><h2 id="æ·»åŠ æƒé™å’Œä½ çš„KEY"><a href="#æ·»åŠ æƒé™å’Œä½ çš„KEY" class="headerlink" title="æ·»åŠ æƒé™å’Œä½ çš„KEY"></a>æ·»åŠ æƒé™å’Œä½ çš„KEY</h2><p>è¿™é‡Œéœ€è¦åœ¨manifestæ–‡ä»¶é‡Œæ·»åŠ ä¸€äº›æƒé™ï¼Œä½ çš„keyå’Œä¸€ä¸ªæœåŠ¡ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å…è®¸è®¿é—®ç½‘ç»œï¼Œå¿…é€‰æƒé™--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–ç²—ç•¥ä½ç½®ï¼Œè‹¥ç”¨GPSå®ç°å®šä½å°è“ç‚¹åŠŸèƒ½åˆ™å¿…é€‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–è®¾å¤‡å’Œè¿è¥å•†ä¿¡æ¯ï¼Œç”¨äºé—®é¢˜æ’æŸ¥å’Œç½‘ç»œå®šä½ï¼Œè‹¥æ— gpsä½†ä»éœ€å®ç°å®šä½å°è“ç‚¹åŠŸèƒ½åˆ™æ­¤æƒé™å¿…é€‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_PHONE_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–ç½‘ç»œçŠ¶æ€ï¼Œç”¨äºç½‘ç»œå®šä½ï¼Œè‹¥æ— gpsä½†ä»éœ€å®ç°å®šä½å°è“ç‚¹åŠŸèƒ½åˆ™æ­¤æƒé™å¿…é€‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–wifiç½‘ç»œä¿¡æ¯ï¼Œç”¨äºç½‘ç»œå®šä½ï¼Œè‹¥æ— gpsä½†ä»éœ€å®ç°å®šä½å°è“ç‚¹åŠŸèƒ½åˆ™æ­¤æƒé™å¿…é€‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–wifiçŠ¶æ€æ”¹å˜ï¼Œç”¨äºç½‘ç»œå®šä½ï¼Œè‹¥æ— gpsä½†ä»éœ€å®ç°å®šä½å°è“ç‚¹åŠŸèƒ½åˆ™æ­¤æƒé™å¿…é€‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.CHANGE_WIFI_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸å†™å…¥æ‰©å±•å­˜å‚¨ï¼Œç”¨äºæ•°æ®ç¼“å­˜ï¼Œè‹¥æ— æ­¤æƒé™åˆ™å†™åˆ°ç§æœ‰ç›®å½•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è¯»è®¾å¤‡ç­‰ä¿¡æ¯ï¼Œç”¨äºé—®é¢˜æ’æŸ¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è®¿é—®ç½‘ç»œï¼Œå¿…é€‰æƒé™--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è¯»è®¾å¤‡ç­‰ä¿¡æ¯ï¼Œç”¨äºé—®é¢˜æ’æŸ¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_PHONE_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–ç½‘ç»œçŠ¶æ€--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è·å–wifiç½‘ç»œä¿¡æ¯--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸å†™å…¥æ‰©å±•å­˜å‚¨ï¼Œç”¨äºæœç´¢ç»“æœç¼“å­˜ï¼Œè‹¥æ— æ­¤æƒé™åˆ™å†™åˆ°ç§æœ‰ç›®å½•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å…è®¸è¯»è®¾å¤‡ç­‰ä¿¡æ¯ï¼Œç”¨äºé—®é¢˜æ’æŸ¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åapplicationä¸‹æ·»åŠ ä½ çš„keyå’Œä¸€ä¸ªæœåŠ¡ï¼Œä¹‹åè¿˜è¦ç”¨åˆ°ä¸€ä¸ªé«˜å¾·è‡ªå·±çš„activityï¼Œè¿™é‡Œé¡ºä¾¿ä¸€èµ·å£°æ˜äº†,è¿™äº›å’Œä½ çš„å¯åŠ¨Activityæ˜¯åŒçº§çš„ï¼š  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">&quot;com.amap.api.v2.apikey&quot;</span> <span class="attr">android:value</span>=<span class="string">&quot;ä½ çš„key&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">meta-data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">service</span> <span class="attr">android:name</span>=<span class="string">&quot;com.amap.api.location.APSService&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">&quot;com.amap.api.navi.AmapRouteActivity&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:theme</span>=<span class="string">&quot;@android:style/Theme.NoTitleBar&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:configChanges</span>=<span class="string">&quot;orientation|keyboardHidden|screenSize|navigation&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç»§ç»­ä¹‹å‰"><a href="#ç»§ç»­ä¹‹å‰" class="headerlink" title="ç»§ç»­ä¹‹å‰"></a>ç»§ç»­ä¹‹å‰</h2><p>é¦–å…ˆä½ çš„keyåº”è¯¥æŒ‰ç…§å®˜ç½‘å·²ç»ç”³è¯·æˆåŠŸäº†ï¼Œè¿™é‡Œæˆ‘æŠŠæˆ‘çš„é¡¹ç›®ä¼ åˆ°githubä¸Šã€‚å¦‚æœæƒ³è¦æºç è¯·ç›´æ¥è·³è½¬ä¸‹è½½ã€‚</p><p><a href="https://github.com/WHFF521/AMAP-Android-Navigation">æˆ‘çš„ä»“åº“</a>  </p><h2 id="å±•ç¤ºå›¾"><a href="#å±•ç¤ºå›¾" class="headerlink" title="å±•ç¤ºå›¾"></a>å±•ç¤ºå›¾</h2><div style="display: flex;gap: 10px;">  <img src="/images/Android/navi-mainpage.jpg" alt="description" width="300" height="600">  <img src="/images/Android/navigating.jpg" alt="description" width="300" height="600"></div><h2 id="ç›¸å¯¹äºå‚è€ƒåšå®¢åšçš„ä»£ç æ›¿æ¢"><a href="#ç›¸å¯¹äºå‚è€ƒåšå®¢åšçš„ä»£ç æ›¿æ¢" class="headerlink" title="ç›¸å¯¹äºå‚è€ƒåšå®¢åšçš„ä»£ç æ›¿æ¢"></a>ç›¸å¯¹äºå‚è€ƒåšå®¢åšçš„ä»£ç æ›¿æ¢</h2><p>ç”±äºæœ‰ä¸€äº›APiåœ¨æœ€æ–°çš„SDKä¸­å·²ç»å¤±æ•ˆï¼Œè¿™é‡Œé‡ç‚¹å†™ä¸€ä¸‹ç›¸å¯¹äºå‚è€ƒåšå®¢ä»£ç ä¸­çš„ä¸åŒï¼š</p><p>MainActivityä¸­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">configureMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (aMap == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        MyLocationStyle myLocationStyle;</span><br><span class="line">        myLocationStyle = <span class="keyword">new</span> <span class="title class_">MyLocationStyle</span>();<span class="comment">//åˆå§‹åŒ–å®šä½è“ç‚¹æ ·å¼ç±»myLocationStyle.myLocationType(MyLocationStyle.LOCATION_TYPE_LOCATION_ROTATE);//è¿ç»­å®šä½ã€ä¸”å°†è§†è§’ç§»åŠ¨åˆ°åœ°å›¾ä¸­å¿ƒç‚¹ï¼Œå®šä½ç‚¹ä¾ç…§è®¾å¤‡æ–¹å‘æ—‹è½¬ï¼Œå¹¶ä¸”ä¼šè·Ÿéšè®¾å¤‡ç§»åŠ¨ã€‚ï¼ˆ1ç§’1æ¬¡å®šä½ï¼‰å¦‚æœä¸è®¾ç½®myLocationTypeï¼Œé»˜è®¤ä¹Ÿä¼šæ‰§è¡Œæ­¤ç§æ¨¡å¼ã€‚</span></span><br><span class="line">        myLocationStyle.interval(<span class="number">2000</span>); <span class="comment">//è®¾ç½®è¿ç»­å®šä½æ¨¡å¼ä¸‹çš„å®šä½é—´éš”ï¼Œåªåœ¨è¿ç»­å®šä½æ¨¡å¼ä¸‹ç”Ÿæ•ˆï¼Œå•æ¬¡å®šä½æ¨¡å¼ä¸‹ä¸ä¼šç”Ÿæ•ˆã€‚å•ä½ä¸ºæ¯«ç§’ã€‚</span></span><br><span class="line">        aMap.setMyLocationStyle(myLocationStyle);<span class="comment">//è®¾ç½®å®šä½è“ç‚¹çš„Style</span></span><br><span class="line"><span class="comment">//aMap.getUiSettings().setMyLocationButtonEnabled(true);è®¾ç½®é»˜è®¤å®šä½æŒ‰é’®æ˜¯å¦æ˜¾ç¤ºï¼Œéå¿…éœ€è®¾ç½®ã€‚</span></span><br><span class="line">        aMap.setMyLocationEnabled(<span class="literal">true</span>);<span class="comment">// è®¾ç½®ä¸ºtrueè¡¨ç¤ºå¯åŠ¨æ˜¾ç¤ºå®šä½è“ç‚¹ï¼Œfalseè¡¨ç¤ºéšè—å®šä½è“ç‚¹å¹¶ä¸è¿›è¡Œå®šä½ï¼Œé»˜è®¤æ˜¯falseã€‚</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>è¿™ä¸ªå‡½æ•°ä¸­çš„MyLocationStyleéœ€è¦è¿›è¡Œæ›¿æ¢ã€‚</p><p>ç”±äºå‚è€ƒåšå®¢ä¸­å¹¶æ²¡æœ‰å®Œæ•´çš„ä»£ç ï¼Œä½ éœ€è¦åœ¨MainActivityä¸­æ·»åŠ ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">LOCATION_PERMISSION_REQUEST_CODE</span> <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><br>ä½œä¸ºè¿™ä¸ªcodeçš„å£°æ˜å’Œåˆå§‹åŒ–ã€‚  </p><p>æˆ‘åœ¨å®é™…ç¼–å†™çš„æ—¶å€™ï¼ŒAndroid Studioä¸èƒ½è‡ªåŠ¨importå…³äºmanifestçš„åº“ï¼Œä¼šå¯¼è‡´ç”³è¯·æƒé™çš„ä»£ç ä¸­çˆ†çº¢ä¸€ç‰‡ã€‚ä½ éœ€è¦å¼•ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.Manifest;</span><br></pre></td></tr></table></figure><p>å…¶ä»–åº”è¯¥æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ã€‚</p><h2 id="MainActivity"><a href="#MainActivity" class="headerlink" title="MainActivity"></a>MainActivity</h2><p>è¿™æ˜¯è¿™ä¸ªprojectä¸­çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œå…¶ä¸­æŒ‰é’®ç»‘å®šçš„è·³è½¬å‡½æ•°é‚£é‡Œæ˜¯é‡ç‚¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">findViewById(R.id.btnGotoNavi).setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">                <span class="comment">// æ— èµ·ç»ˆç‚¹å¯åŠ¨å¯¼èˆª</span></span><br><span class="line">                <span class="type">AmapNaviParams</span> <span class="variable">params</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AmapNaviParams</span>(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, AmapNaviType.DRIVER, AmapPageType.ROUTE);</span><br><span class="line">                AmapNaviPage.getInstance().showRouteActivity(getApplicationContext(), params, <span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç›´æ¥è·³è½¬åˆ°é«˜å¾·åŒ…é‡Œçš„ä¸€ä¸ªactivityä¸­ï¼Œå¯ä»¥è¿›è¡Œå¯¼èˆªç­‰è¡Œä¸ºï¼Œè¿™ä¸ªæ˜¯è°ƒç”¨<code>AmapRouteActivity</code>ï¼Œä¹‹å‰å·²åœ¨manifestä¸­å£°æ˜ã€‚å½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œæœ‰èµ·ç»ˆç‚¹å¯åŠ¨å¯¼èˆªã€‚<a href="https://lbs.amap.com/api/android-navi-sdk/guide/navi-component/basic-functions">å®˜ç½‘æ–‡æ¡£</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//èµ·ç‚¹</span></span><br><span class="line"><span class="type">Poi</span> <span class="variable">start</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Poi</span>(<span class="string">&quot;åŒ—äº¬é¦–éƒ½æœºåœº&quot;</span>, <span class="keyword">new</span> <span class="title class_">LatLng</span>(<span class="number">40.080525</span>,<span class="number">116.603039</span>), <span class="string">&quot;B000A28DAE&quot;</span>);</span><br><span class="line"><span class="comment">//é€”ç»ç‚¹</span></span><br><span class="line">List&lt;Poi&gt; poiList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">poiList.add(<span class="keyword">new</span> <span class="title class_">Poi</span>(<span class="string">&quot;æ•…å®«&quot;</span>, <span class="keyword">new</span> <span class="title class_">LatLng</span>(<span class="number">39.918058</span>,<span class="number">116.397026</span>), <span class="string">&quot;B000A8UIN8&quot;</span>));</span><br><span class="line"><span class="comment">//ç»ˆç‚¹</span></span><br><span class="line"><span class="type">Poi</span> <span class="variable">end</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Poi</span>(<span class="string">&quot;åŒ—äº¬å¤§å­¦&quot;</span>, <span class="keyword">new</span> <span class="title class_">LatLng</span>(<span class="number">39.941823</span>,<span class="number">116.426319</span>), <span class="string">&quot;B000A816R6&quot;</span>);</span><br><span class="line"><span class="comment">// ç»„ä»¶å‚æ•°é…ç½®</span></span><br><span class="line"><span class="type">AmapNaviParams</span> <span class="variable">params</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AmapNaviParams</span>(start, poiList, end, AmapNaviType.DRIVER, AmapPageType.ROUTE);  </span><br><span class="line"><span class="comment">// å¯åŠ¨ç»„ä»¶</span></span><br><span class="line">AmapNaviPage.getInstance().showRouteActivity(getApplicationContext(), params, <span class="literal">null</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è®°å½•å¼€å‘ç¯å¢ƒå’Œè°ƒè¯•æ‰‹æœº"><a href="#è®°å½•å¼€å‘ç¯å¢ƒå’Œè°ƒè¯•æ‰‹æœº" class="headerlink" title="è®°å½•å¼€å‘ç¯å¢ƒå’Œè°ƒè¯•æ‰‹æœº"></a>è®°å½•å¼€å‘ç¯å¢ƒå’Œè°ƒè¯•æ‰‹æœº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Android Studio Jellyfish | 2023.3.1 Patch 1</span><br><span class="line">Build #AI-233.14808.21.2331.11842104, built on May 15, 2024</span><br><span class="line">Runtime version: 17.0.10+0-17.0.10b1087.21-11572160 aarch64</span><br><span class="line">VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</span><br><span class="line">macOS 14.5</span><br><span class="line">GC: G1 Young Generation, G1 Old Generation</span><br><span class="line">Memory: 2048M</span><br><span class="line">Cores: 8</span><br><span class="line">Metal Rendering is ON</span><br><span class="line">Registry:</span><br><span class="line">  ide.experimental.ui=true</span><br><span class="line">Non-Bundled Plugins:</span><br><span class="line">  Dart (233.15271)</span><br><span class="line">  io.flutter (79.0.2)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰‹æœºæ˜¯vivo iqooï¼Œandroid11ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 08 Exercises</title>
      <link href="/2024/06/19/Eloquent-JavaScript-08-Exercises/"/>
      <url>/2024/06/19/Eloquent-JavaScript-08-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h1><p><a href="https://eloquentjavascript.net/08_error.html">To the book page</a>  </p><h2 id="Retry"><a href="#Retry" class="headerlink" title="Retry"></a>Retry</h2><p>å¤§æ¦‚ç‡è§¦å‘MultiplicatorUnitFailureé”™è¯¯ï¼Œæ‰¿æ¥ç›´åˆ°è¿è¡ŒæˆåŠŸå¹¶è¿”å›ç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MultiplicatorUnitFailure</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Error</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">primitiveMultiply</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MultiplicatorUnitFailure</span>(<span class="string">&quot;Klunk&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reliableMultiply</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> ans = <span class="title function_">primitiveMultiply</span>(a,b);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">      <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="title class_">MultiplicatorUnitFailure</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> e;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">reliableMultiply</span>(<span class="number">8</span>, <span class="number">8</span>));</span><br><span class="line"><span class="comment">// â†’ 64</span></span><br></pre></td></tr></table></figure><h2 id="The-locked-box"><a href="#The-locked-box" class="headerlink" title="The locked box"></a>The locked box</h2><p>å…ˆå¼€é”ï¼Œä¸ç®¡ä¹‹åå¹²ä»€ä¹ˆéƒ½è¦åœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•è¿”å›å‰é”ä¸Šç›’å­ï¼Œå› ä¸ºä¸­é—´æ“ä½œå¯èƒ½æŠ›å‡ºå¼‚å¸¸å¯¼è‡´åé¢å‡½æ•°ä¸æ‰§è¡Œï¼Œç”¨finallyæ‰§è¡Œå…³é—­å‡½æ•°å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = <span class="keyword">new</span> <span class="keyword">class</span> &#123;</span><br><span class="line">  locked = <span class="literal">true</span>;</span><br><span class="line">  #content = [];</span><br><span class="line"></span><br><span class="line">  <span class="title function_">unlock</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">locked</span> = <span class="literal">false</span>; &#125;</span><br><span class="line">  <span class="title function_">lock</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">locked</span> = <span class="literal">true</span>;  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">content</span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">locked</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Locked!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.#content;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">withBoxUnlocked</span>(<span class="params">body</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  box.<span class="title function_">unlock</span>();</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="title function_">body</span>();</span><br><span class="line">  &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="keyword">throw</span> e;</span><br><span class="line">  &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    box.<span class="title function_">lock</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">withBoxUnlocked</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  box.<span class="property">content</span>.<span class="title function_">push</span>(<span class="string">&quot;gold piece&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="title function_">withBoxUnlocked</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Pirates on the horizon! Abort!&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Error raised: &quot;</span> + e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(box.<span class="property">locked</span>);</span><br><span class="line"><span class="comment">// â†’ true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 07 robot</title>
      <link href="/2024/06/19/Eloquent-JavaScript-07-robot/"/>
      <url>/2024/06/19/Eloquent-JavaScript-07-robot/</url>
      
        <content type="html"><![CDATA[<h1 id="robot"><a href="#robot" class="headerlink" title="robot"></a>robot</h1><p><a href="https://eloquentjavascript.net/07_robot.html">To the book page</a><br>ä»£ç è§£é‡Šç”±AIç”Ÿæˆã€‚  </p><h2 id="æ€»ä»£ç "><a href="#æ€»ä»£ç " class="headerlink" title="æ€»ä»£ç "></a>æ€»ä»£ç </h2><h3 id="æ•°æ®ç»“æ„å’Œå›¾çš„æ„å»º"><a href="#æ•°æ®ç»“æ„å’Œå›¾çš„æ„å»º" class="headerlink" title="æ•°æ®ç»“æ„å’Œå›¾çš„æ„å»º"></a>æ•°æ®ç»“æ„å’Œå›¾çš„æ„å»º</h3><p>é¦–å…ˆå®šä¹‰äº†æ‘åº„ä¸­å„ä¸ªåœ°ç‚¹ä¹‹é—´çš„é“è·¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> roads = [</span><br><span class="line">    <span class="string">&quot;Alice&#x27;s House-Bob&#x27;s House&quot;</span>,   <span class="string">&quot;Alice&#x27;s House-Cabin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Alice&#x27;s House-Post Office&quot;</span>,   <span class="string">&quot;Bob&#x27;s House-Town Hall&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Daria&#x27;s House-Ernie&#x27;s House&quot;</span>, <span class="string">&quot;Daria&#x27;s House-Town Hall&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Ernie&#x27;s House-Grete&#x27;s House&quot;</span>, <span class="string">&quot;Grete&#x27;s House-Farm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Grete&#x27;s House-Shop&quot;</span>,          <span class="string">&quot;Marketplace-Farm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Marketplace-Post Office&quot;</span>,     <span class="string">&quot;Marketplace-Shop&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Marketplace-Town Hall&quot;</span>,       <span class="string">&quot;Shop-Town Hall&quot;</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œå®šä¹‰ <code>buildGraph</code> å‡½æ•°æ¥æ„å»ºå›¾ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">buildGraph</span>(<span class="params">edges</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> graph = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>); <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºå›¾</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">addEdge</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123; <span class="comment">// å®šä¹‰ä¸€ä¸ªæ·»åŠ è¾¹çš„å‡½æ•°</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">from</span> <span class="keyword">in</span> graph) &#123;</span><br><span class="line">        graph[<span class="keyword">from</span>].<span class="title function_">push</span>(to); <span class="comment">// å¦‚æœèŠ‚ç‚¹å·²ç»å­˜åœ¨ï¼Œç›´æ¥æ·»åŠ è¾¹</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        graph[<span class="keyword">from</span>] = [to]; <span class="comment">// å¦‚æœèŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ•°ç»„å¹¶æ·»åŠ è¾¹</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="keyword">from</span>, to] <span class="keyword">of</span> edges.<span class="title function_">map</span>(<span class="function"><span class="params">r</span> =&gt;</span> r.<span class="title function_">split</span>(<span class="string">&quot;-&quot;</span>))) &#123;</span><br><span class="line">      <span class="title function_">addEdge</span>(<span class="keyword">from</span>, to); <span class="comment">// æ·»åŠ åŒå‘è¾¹</span></span><br><span class="line">      <span class="title function_">addEdge</span>(to, <span class="keyword">from</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> graph; <span class="comment">// è¿”å›æ„å»ºå¥½çš„å›¾</span></span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> roadGraph = <span class="title function_">buildGraph</span>(roads);</span><br></pre></td></tr></table></figure><h3 id="æ‘åº„çŠ¶æ€ç±»"><a href="#æ‘åº„çŠ¶æ€ç±»" class="headerlink" title="æ‘åº„çŠ¶æ€ç±»"></a>æ‘åº„çŠ¶æ€ç±»</h3><p><code>VillageState</code> ç±»è¡¨ç¤ºæ‘åº„çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬æœºå™¨äººçš„ä½ç½®å’ŒåŒ…è£¹çš„ä½ç½®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VillageState</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">place, parcels</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">place</span> = place; <span class="comment">// æœºå™¨äººå½“å‰æ‰€åœ¨çš„ä½ç½®</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">parcels</span> = parcels; <span class="comment">// åŒ…è£¹åˆ—è¡¨ï¼Œæ¯ä¸ªåŒ…è£¹æœ‰ä¸€ä¸ªä½ç½®å’Œç›®æ ‡åœ°å€</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="title function_">move</span>(<span class="params">destination</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!roadGraph[<span class="variable language_">this</span>.<span class="property">place</span>].<span class="title function_">includes</span>(destination)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">// å¦‚æœç›®çš„åœ°ä¸åœ¨å½“å‰åœ°ç‚¹çš„é‚»å±…ä¸­ï¼Œè¿”å›å½“å‰çŠ¶æ€</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> parcels = <span class="variable language_">this</span>.<span class="property">parcels</span>.<span class="title function_">map</span>(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (p.<span class="property">place</span> != <span class="variable language_">this</span>.<span class="property">place</span>) <span class="keyword">return</span> p; <span class="comment">// å¦‚æœåŒ…è£¹ä¸åœ¨å½“å‰ä½ç½®ï¼Œä¸åšæ”¹å˜</span></span><br><span class="line">          <span class="keyword">return</span> &#123;<span class="attr">place</span>: destination, <span class="attr">address</span>: p.<span class="property">address</span>&#125;; <span class="comment">// å¦åˆ™å°†åŒ…è£¹ç§»åŠ¨åˆ°ç›®çš„åœ°</span></span><br><span class="line">        &#125;).<span class="title function_">filter</span>(<span class="function"><span class="params">p</span> =&gt;</span> p.<span class="property">place</span> != p.<span class="property">address</span>); <span class="comment">// è¿‡æ»¤æ‰å·²é€è¾¾çš„åŒ…è£¹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">VillageState</span>(destination, parcels); <span class="comment">// è¿”å›æ–°çš„æ‘åº„çŠ¶æ€</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œæœºå™¨äºº"><a href="#è¿è¡Œæœºå™¨äºº" class="headerlink" title="è¿è¡Œæœºå™¨äºº"></a>è¿è¡Œæœºå™¨äºº</h3><p><code>runRobot</code> å‡½æ•°æ¨¡æ‹Ÿæœºå™¨äººè¿è¡Œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">runRobot</span>(<span class="params">state, robot, memory</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> turn = <span class="number">0</span>;; turn++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (state.<span class="property">parcels</span>.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// å¦‚æœæ‰€æœ‰åŒ…è£¹éƒ½å·²é€è¾¾ï¼Œç»“æŸå¾ªç¯</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> action = <span class="title function_">robot</span>(state, memory); <span class="comment">// è°ƒç”¨æœºå™¨äººå‡½æ•°ï¼Œè·å–ä¸‹ä¸€æ­¥åŠ¨ä½œ</span></span><br><span class="line">      state = state.<span class="title function_">move</span>(action.<span class="property">direction</span>); <span class="comment">// ç§»åŠ¨åˆ°ä¸‹ä¸€æ­¥ä½ç½®</span></span><br><span class="line">      memory = action.<span class="property">memory</span>; <span class="comment">// æ›´æ–°æœºå™¨äººçš„è®°å¿†</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> turn; <span class="comment">// è¿”å›æ‰€ç”¨çš„å›åˆæ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éšæœºæœºå™¨äºº"><a href="#éšæœºæœºå™¨äºº" class="headerlink" title="éšæœºæœºå™¨äºº"></a>éšæœºæœºå™¨äºº</h3><p><code>randomRobot</code> éšæœºé€‰æ‹©ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">randomPick</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> choice = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * array.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">return</span> array[choice]; <span class="comment">// ä»æ•°ç»„ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">randomRobot</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: <span class="title function_">randomPick</span>(roadGraph[state.<span class="property">place</span>])&#125;; <span class="comment">// éšæœºé€‰æ‹©ä¸€ä¸ªé‚»å±…æ–¹å‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¢„å®šä¹‰è·¯å¾„æœºå™¨äºº"><a href="#é¢„å®šä¹‰è·¯å¾„æœºå™¨äºº" class="headerlink" title="é¢„å®šä¹‰è·¯å¾„æœºå™¨äºº"></a>é¢„å®šä¹‰è·¯å¾„æœºå™¨äºº</h3><p><code>routeRobot</code> æŒ‰ç…§é¢„å®šä¹‰çš„è·¯å¾„ç§»åŠ¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mailRoute = [</span><br><span class="line">    <span class="string">&quot;Alice&#x27;s House&quot;</span>, <span class="string">&quot;Cabin&quot;</span>, <span class="string">&quot;Alice&#x27;s House&quot;</span>, <span class="string">&quot;Bob&#x27;s House&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Town Hall&quot;</span>, <span class="string">&quot;Daria&#x27;s House&quot;</span>, <span class="string">&quot;Ernie&#x27;s House&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Grete&#x27;s House&quot;</span>, <span class="string">&quot;Shop&quot;</span>, <span class="string">&quot;Grete&#x27;s House&quot;</span>, <span class="string">&quot;Farm&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Marketplace&quot;</span>, <span class="string">&quot;Post Office&quot;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">routeRobot</span>(<span class="params">state, memory</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (memory.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      memory = mailRoute; <span class="comment">// å¦‚æœè®°å¿†ä¸ºç©ºï¼Œåˆå§‹åŒ–ä¸ºé¢„å®šä¹‰è·¯å¾„</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: memory[<span class="number">0</span>], <span class="attr">memory</span>: memory.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;; <span class="comment">// æŒ‰ç…§è·¯å¾„é¡ºåºç§»åŠ¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç›®æ ‡å¯¼å‘æœºå™¨äºº"><a href="#ç›®æ ‡å¯¼å‘æœºå™¨äºº" class="headerlink" title="ç›®æ ‡å¯¼å‘æœºå™¨äºº"></a>ç›®æ ‡å¯¼å‘æœºå™¨äºº</h3><p><code>goalOrientedRobot</code> æ ¹æ®åŒ…è£¹çš„ä½ç½®å’Œç›®æ ‡åœ°å€æ‰¾åˆ°æœ€ä½³è·¯å¾„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findRoute</span>(<span class="params">graph, <span class="keyword">from</span>, to</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> work = [&#123;<span class="attr">at</span>: <span class="keyword">from</span>, <span class="attr">route</span>: []&#125;];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; work.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123;at, route&#125; = work[i];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> place <span class="keyword">of</span> graph[at]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (place == to) <span class="keyword">return</span> route.<span class="title function_">concat</span>(place); <span class="comment">// æ‰¾åˆ°ç›®æ ‡åœ°ç‚¹ï¼Œè¿”å›è·¯å¾„</span></span><br><span class="line">        <span class="keyword">if</span> (!work.<span class="title function_">some</span>(<span class="function"><span class="params">w</span> =&gt;</span> w.<span class="property">at</span> == place)) &#123;</span><br><span class="line">          work.<span class="title function_">push</span>(&#123;<span class="attr">at</span>: place, <span class="attr">route</span>: route.<span class="title function_">concat</span>(place)&#125;); <span class="comment">// å°†æ–°çš„ä½ç½®åŠ å…¥å·¥ä½œé˜Ÿåˆ—</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">goalOrientedRobot</span>(<span class="params">&#123;place, parcels&#125;, route</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (route.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> parcel = parcels[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">if</span> (parcel.<span class="property">place</span> != place) &#123;</span><br><span class="line">        route = <span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">place</span>); <span class="comment">// æ‰¾åˆ°åŒ…è£¹ä½ç½®çš„è·¯å¾„</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        route = <span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">address</span>); <span class="comment">// æ‰¾åˆ°åŒ…è£¹ç›®æ ‡åœ°å€çš„è·¯å¾„</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: route[<span class="number">0</span>], <span class="attr">memory</span>: route.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;; <span class="comment">// è¿”å›ä¸‹ä¸€æ­¥æ–¹å‘å’Œå‰©ä½™è·¯å¾„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•ˆç‡æœºå™¨äºº"><a href="#æ•ˆç‡æœºå™¨äºº" class="headerlink" title="æ•ˆç‡æœºå™¨äºº"></a>æ•ˆç‡æœºå™¨äºº</h3><p><code>efficientRobot</code> æ ¹æ®æ‰€æœ‰åŒ…è£¹æ‰¾åˆ°æœ€çŸ­è·¯å¾„ï¼Œä»¥æé«˜æ•ˆç‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">efficientRobot</span>(<span class="params">&#123;place, parcels&#125;, route</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (route.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> routes = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> parcel <span class="keyword">of</span> parcels) &#123;</span><br><span class="line">        <span class="keyword">if</span> (parcel.<span class="property">place</span> != place) &#123;</span><br><span class="line">            routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">place</span>)); <span class="comment">// æ‰¾åˆ°åŒ…è£¹ä½ç½®çš„è·¯å¾„</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">address</span>)); <span class="comment">// æ‰¾åˆ°åŒ…è£¹ç›®æ ‡åœ°å€çš„è·¯å¾„</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        route = routes.<span class="title function_">reduce</span>(<span class="function">(<span class="params">shortest, current</span>) =&gt;</span> </span><br><span class="line">        shortest.<span class="property">length</span> &lt; current.<span class="property">length</span> ? shortest : current <span class="comment">// é€‰æ‹©æœ€çŸ­è·¯å¾„</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">direction</span>: route[<span class="number">0</span>], <span class="attr">memory</span>: route.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;; <span class="comment">// è¿”å›ä¸‹ä¸€æ­¥æ–¹å‘å’Œå‰©ä½™è·¯å¾„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœºå™¨äººæ¯”è¾ƒ"><a href="#æœºå™¨äººæ¯”è¾ƒ" class="headerlink" title="æœºå™¨äººæ¯”è¾ƒ"></a>æœºå™¨äººæ¯”è¾ƒ</h3><p><code>compareRobots</code> ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæœºå™¨äººçš„æ€§èƒ½ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compareRobots</span>(<span class="params">robot1, memory1, robot2, memory2</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> totalTurns1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> totalTurns2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> state = <span class="title class_">VillageState</span>.<span class="title function_">random</span>(); <span class="comment">// éšæœºç”Ÿæˆåˆå§‹çŠ¶æ€</span></span><br><span class="line">      totalTurns1 += <span class="title function_">runRobot</span>(state, robot1, memory1); <span class="comment">// è¿è¡Œç¬¬ä¸€ä¸ªæœºå™¨äºº</span></span><br><span class="line">      totalTurns2 += <span class="title function_">runRobot</span>(state, robot2, memory2); <span class="comment">// è¿è¡Œç¬¬äºŒä¸ªæœºå™¨äºº</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 1 average turns: <span class="subst">$&#123;totalTurns1 / <span class="number">100</span>&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 2 average turns: <span class="subst">$&#123;totalTurns2 / <span class="number">100</span>&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæ¯”è¾ƒç›®æ ‡å¯¼å‘æœºå™¨äººå’Œæ•ˆç‡æœºå™¨äººçš„è¡¨ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">compareRobots</span>(goalOrientedRobot, [], efficientRobot, []);</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¼šè¿è¡Œä¸¤ä¸ªæœºå™¨äººå„100æ¬¡ï¼Œæ¯”è¾ƒå®ƒä»¬å®Œæˆä»»åŠ¡æ‰€éœ€çš„å¹³å‡å›åˆæ•°ã€‚</p><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><h3 id="Measuring-a-robot"><a href="#Measuring-a-robot" class="headerlink" title="Measuring a robot"></a>Measuring a robot</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿è¡Œæœºå™¨äººå¹¶è®¡ç®—æ‰€éœ€å›åˆæ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">runRobotCount</span>(<span class="params">state, robot, memory</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> turn = <span class="number">0</span>;; turn++) &#123; <span class="comment">// ä»0å¼€å§‹è®°å½•å›åˆæ•°</span></span><br><span class="line">    <span class="keyword">if</span> (state.<span class="property">parcels</span>.<span class="property">length</span> == <span class="number">0</span>) &#123; <span class="comment">// å¦‚æœæ‰€æœ‰åŒ…è£¹éƒ½å·²é€è¾¾</span></span><br><span class="line">      <span class="keyword">return</span> turn; <span class="comment">// è¿”å›æ€»å›åˆæ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> action = <span class="title function_">robot</span>(state, memory); <span class="comment">// è·å–æœºå™¨äººä¸‹ä¸€æ­¥çš„åŠ¨ä½œ</span></span><br><span class="line">    state = state.<span class="title function_">move</span>(action.<span class="property">direction</span>); <span class="comment">// æ ¹æ®æœºå™¨äººçš„æŒ‡ç¤ºç§»åŠ¨</span></span><br><span class="line">    memory = action.<span class="property">memory</span>; <span class="comment">// æ›´æ–°æœºå™¨äººçš„è®°å¿†</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒä¸¤ä¸ªæœºå™¨äººçš„è¡¨ç°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compareRobots</span>(<span class="params">robot1, memory1, robot2, memory2</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> totalTurns1 = <span class="number">0</span>, totalTurns2 = <span class="number">0</span>; <span class="comment">// åˆå§‹åŒ–ä¸¤ä¸ªæœºå™¨äººæ‰€ç”¨çš„æ€»å›åˆæ•°</span></span><br><span class="line">  <span class="keyword">let</span> tasks = <span class="number">100</span>; <span class="comment">// è®¾ç½®ä»»åŠ¡æ•°é‡ä¸º100</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; tasks; i++) &#123; <span class="comment">// å¾ªç¯è¿è¡Œ100æ¬¡</span></span><br><span class="line">    <span class="keyword">let</span> state = <span class="title class_">VillageState</span>.<span class="title function_">random</span>(); <span class="comment">// éšæœºç”Ÿæˆåˆå§‹çŠ¶æ€</span></span><br><span class="line">    totalTurns1 += <span class="title function_">runRobotCount</span>(state, robot1, memory1); <span class="comment">// è¿è¡Œç¬¬ä¸€ä¸ªæœºå™¨äººå¹¶ç´¯è®¡å›åˆæ•°</span></span><br><span class="line">    totalTurns2 += <span class="title function_">runRobotCount</span>(state, robot2, memory2); <span class="comment">// è¿è¡Œç¬¬äºŒä¸ªæœºå™¨äººå¹¶ç´¯è®¡å›åˆæ•°</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¾“å‡ºæ¯ä¸ªæœºå™¨äººå®Œæˆä»»åŠ¡æ‰€éœ€çš„å¹³å‡å›åˆæ•°</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 1 averaged <span class="subst">$&#123;totalTurns1 / tasks&#125;</span> turns per task`</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Robot 2 averaged <span class="subst">$&#123;totalTurns2 / tasks&#125;</span> turns per task`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒé¢„å®šä¹‰è·¯å¾„æœºå™¨äººå’Œç›®æ ‡å¯¼å‘æœºå™¨äººçš„è¡¨ç°</span></span><br><span class="line"><span class="title function_">compareRobots</span>(routeRobot, [], goalOrientedRobot, []);</span><br></pre></td></tr></table></figure><h3 id="Robot-efficiency"><a href="#Robot-efficiency" class="headerlink" title="Robot efficiency"></a>Robot efficiency</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰¾åˆ°ä»èµ·ç‚¹åˆ°å¤šä¸ªç›®æ ‡ä¸­æœ€çŸ­çš„è·¯çº¿</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findShortestRoute</span>(<span class="params">graph, <span class="keyword">from</span>, goals</span>) &#123;</span><br><span class="line">  <span class="comment">// å¯¹æ¯ä¸ªç›®æ ‡è°ƒç”¨ findRoute å‡½æ•°ï¼Œè¿”å›æ‰€æœ‰è·¯å¾„</span></span><br><span class="line">  <span class="keyword">let</span> routes = goals.<span class="title function_">map</span>(<span class="function"><span class="params">goal</span> =&gt;</span> <span class="title function_">findRoute</span>(graph, <span class="keyword">from</span>, goal));</span><br><span class="line">  <span class="comment">// é€šè¿‡ reduce æ–¹æ³•æ‰¾åˆ°æœ€çŸ­çš„è·¯å¾„</span></span><br><span class="line">  <span class="keyword">return</span> routes.<span class="title function_">reduce</span>(<span class="function">(<span class="params">shortest, current</span>) =&gt;</span> </span><br><span class="line">    shortest.<span class="property">length</span> &lt; current.<span class="property">length</span> ? shortest : current</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é«˜æ•ˆæœºå™¨äººï¼Œé€‰æ‹©æœ€ä¼˜è·¯å¾„æ¥ä¼ é€’åŒ…è£¹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">efficientRobot</span>(<span class="params">&#123;place, parcels&#125;, route</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (route.<span class="property">length</span> == <span class="number">0</span>) &#123; <span class="comment">// å¦‚æœå½“å‰æ²¡æœ‰é¢„å®šçš„è·¯å¾„</span></span><br><span class="line">    <span class="keyword">let</span> routes = []; <span class="comment">// å­˜å‚¨æ‰€æœ‰å¯èƒ½çš„è·¯å¾„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> parcel <span class="keyword">of</span> parcels) &#123; <span class="comment">// éå†æ¯ä¸ªåŒ…è£¹</span></span><br><span class="line">      <span class="keyword">if</span> (parcel.<span class="property">place</span> != place) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœåŒ…è£¹è¿˜æ²¡è¢«æ¡èµ·ï¼Œæ‰¾åˆ°å»åŒ…è£¹ä½ç½®çš„è·¯å¾„</span></span><br><span class="line">        routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">place</span>));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœåŒ…è£¹å·²æ¡èµ·ï¼Œæ‰¾åˆ°å»ç›®æ ‡åœ°å€çš„è·¯å¾„</span></span><br><span class="line">        routes.<span class="title function_">push</span>(<span class="title function_">findRoute</span>(roadGraph, place, parcel.<span class="property">address</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€‰æ‹©æ‰€æœ‰è·¯å¾„ä¸­æœ€çŸ­çš„ä¸€æ¡</span></span><br><span class="line">    route = routes.<span class="title function_">reduce</span>(<span class="function">(<span class="params">shortest, current</span>) =&gt;</span> </span><br><span class="line">      shortest.<span class="property">length</span> &lt; current.<span class="property">length</span> ? shortest : current</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿”å›æœºå™¨äººä¸‹ä¸€æ­¥çš„æ–¹å‘å’Œæ›´æ–°åçš„è®°å¿†</span></span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">direction</span>: route[<span class="number">0</span>], <span class="attr">memory</span>: route.<span class="title function_">slice</span>(<span class="number">1</span>)&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">runRobotAnimation</span>(<span class="title class_">VillageState</span>.<span class="title function_">random</span>(), efficientRobot, []);</span><br></pre></td></tr></table></figure><h3 id="Persistent-group"><a href="#Persistent-group" class="headerlink" title="Persistent group"></a>Persistent group</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PGroup</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">members</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = members; <span class="comment">// åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ·»åŠ æ–°æˆå‘˜</span></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">has</span>(value)) <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">// å¦‚æœæˆå‘˜å·²ç»å­˜åœ¨ï¼Œè¿”å›å½“å‰å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PGroup</span>(<span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">concat</span>(value)); <span class="comment">// å¦åˆ™ï¼Œåˆ›å»ºæ–°å¯¹è±¡å¹¶æ·»åŠ æ–°æˆå‘˜</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ é™¤æˆå‘˜</span></span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">has</span>(value)) <span class="keyword">return</span> <span class="variable language_">this</span>; <span class="comment">// å¦‚æœæˆå‘˜ä¸å­˜åœ¨ï¼Œè¿”å›å½“å‰å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PGroup</span>(<span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">m</span> =&gt;</span> m !== value)); <span class="comment">// å¦åˆ™ï¼Œåˆ›å»ºæ–°å¯¹è±¡å¹¶åˆ é™¤æŒ‡å®šæˆå‘˜</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">  <span class="title function_">has</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">includes</span>(value); <span class="comment">// è¿”å›æˆå‘˜æ˜¯å¦åœ¨åˆ—è¡¨ä¸­</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºçš„ PGroup å®ä¾‹</span></span><br><span class="line">  <span class="keyword">static</span> empty = <span class="keyword">new</span> <span class="title class_">PGroup</span>([]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•å®ç°</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="title class_">PGroup</span>.<span class="property">empty</span>.<span class="title function_">add</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// å‘ç©ºç»„æ·»åŠ  &#x27;a&#x27;</span></span><br><span class="line"><span class="keyword">let</span> ab = a.<span class="title function_">add</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// å‘åŒ…å« &#x27;a&#x27; çš„ç»„æ·»åŠ  &#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = ab.<span class="title function_">delete</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// ä»åŒ…å« &#x27;a&#x27; å’Œ &#x27;b&#x27; çš„ç»„åˆ é™¤ &#x27;a&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">has</span>(<span class="string">&quot;b&quot;</span>)); <span class="comment">// â†’ true  æ£€æŸ¥ &#x27;b&#x27; æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">has</span>(<span class="string">&quot;b&quot;</span>)); <span class="comment">// â†’ false æ£€æŸ¥ &#x27;b&#x27; æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">has</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">// â†’ false æ£€æŸ¥ &#x27;a&#x27; æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 06 Exercises</title>
      <link href="/2024/06/17/Eloquent-JavaScript-06-Exercises/"/>
      <url>/2024/06/17/Eloquent-JavaScript-06-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h1><p><a href="https://eloquentjavascript.net/06_object.html">To the book page</a>  </p><h2 id="A-vector-type"><a href="#A-vector-type" class="headerlink" title="A vector type"></a>A vector type</h2><p>å°è£…ä¸€ä¸ªç±»ï¼Œå®ç°åæ ‡çš„åŠ å‡æ³•ï¼Œä»¥åŠgetå±æ€§çš„lengthè¿”å›åæ ‡ç¦»åŸç‚¹çš„è·ç¦»ã€‚  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code here.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vec</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">plus</span>(<span class="params">other</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="variable language_">this</span>.<span class="property">x</span>+other.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>+other.<span class="property">y</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">minus</span>(<span class="params">other</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="variable language_">this</span>.<span class="property">x</span>-other.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>-other.<span class="property">y</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">length</span>()&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(<span class="variable language_">this</span>.<span class="property">x</span>**<span class="number">2</span>+<span class="variable language_">this</span>.<span class="property">y</span>**<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">1</span>, <span class="number">2</span>).<span class="title function_">plus</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">2</span>, <span class="number">3</span>)));</span><br><span class="line"><span class="comment">// â†’ Vec&#123;x: 3, y: 5&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">1</span>, <span class="number">2</span>).<span class="title function_">minus</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">2</span>, <span class="number">3</span>)));</span><br><span class="line"><span class="comment">// â†’ Vec&#123;x: -1, y: -1&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Vec</span>(<span class="number">3</span>, <span class="number">4</span>).<span class="property">length</span>);</span><br><span class="line"><span class="comment">// â†’ 5</span></span><br></pre></td></tr></table></figure><h2 id="Groups"><a href="#Groups" class="headerlink" title="Groups"></a>Groups</h2><p>å°è£…ä¸€ä¸ªGroupç±»ï¼Œå®ç°ç›¸å½“äºSetçš„åŠŸèƒ½ã€‚  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Group</span> &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = [];  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">value</span>)&#123;</span><br><span class="line">   <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="title function_">has</span>(value))&#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">push</span>(value);  </span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">member</span> =&gt;</span> member!==value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">has</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">includes</span>(value);  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">from</span>(<span class="params">iterable</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> group = <span class="keyword">new</span> <span class="title class_">Group</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> iterable)&#123;</span><br><span class="line">      group.<span class="title function_">add</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> group;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> group = <span class="title class_">Group</span>.<span class="title function_">from</span>([<span class="number">10</span>, <span class="number">20</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(group.<span class="title function_">has</span>(<span class="number">10</span>));</span><br><span class="line"><span class="comment">// â†’ true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(group.<span class="title function_">has</span>(<span class="number">30</span>));</span><br><span class="line"><span class="comment">// â†’ false</span></span><br><span class="line">group.<span class="title function_">add</span>(<span class="number">10</span>);</span><br><span class="line">group.<span class="title function_">delete</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(group.<span class="title function_">has</span>(<span class="number">10</span>));</span><br><span class="line"><span class="comment">// â†’ false</span></span><br></pre></td></tr></table></figure><h2 id="Iterable-groups"><a href="#Iterable-groups" class="headerlink" title="Iterable groups"></a>Iterable groups</h2><p>è®©ä¸Šé¢çš„æ•°ç»„ç±»å¯è¿­ä»£ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code here (and the code from the previous exercise)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Group</span> &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = [];  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">value</span>)&#123;</span><br><span class="line">   <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="title function_">has</span>(value))&#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">push</span>(value);  </span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">members</span> = <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">member</span> =&gt;</span> member!==value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">has</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">members</span>.<span class="title function_">includes</span>(value);  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">from</span>(<span class="params">iterable</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> group = <span class="keyword">new</span> <span class="title class_">Group</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> iterable)&#123;</span><br><span class="line">      group.<span class="title function_">add</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> group;</span><br><span class="line">  &#125;</span><br><span class="line">   [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()&#123;</span><br><span class="line">     <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">let</span> members = <span class="variable language_">this</span>.<span class="property">members</span>;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">       <span class="title function_">next</span>(<span class="params"></span>)&#123;</span><br><span class="line">         <span class="keyword">if</span>(index &lt; members.<span class="property">length</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> &#123;<span class="attr">value</span>:members[index++],<span class="attr">done</span>:<span class="literal">false</span>&#125;;</span><br><span class="line">         &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> &#123;<span class="attr">done</span>:<span class="literal">true</span>&#125;;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="title class_">Group</span>.<span class="title function_">from</span>([<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>])) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// â†’ a</span></span><br><span class="line"><span class="comment">// â†’ b</span></span><br><span class="line"><span class="comment">// â†’ c</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eloquent JavaScript 05 Exercises</title>
      <link href="/2024/06/17/Eloquent-JavaScript-05-Exercises/"/>
      <url>/2024/06/17/Eloquent-JavaScript-05-Exercises/</url>
      
        <content type="html"><![CDATA[<h1 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h1><p>è®°å½•ä¸€ä¸‹è¿™æœ¬ä¹¦çš„ä¹ é¢˜çš„ç­”æ¡ˆï¼Œè¿™æ˜¯ç¬¬äº”ç« çš„ç»ƒä¹ ã€‚</p><p><a href="https://eloquentjavascript.net/05_higher_order.html">To the book page</a>  </p><h2 id="Flattening"><a href="#Flattening" class="headerlink" title="Flattening"></a>Flattening</h2><p>å°†åŒ…å«æ•°ç»„çš„æ•°ç»„å±•å¼€ï¼Œå³åªæœ‰ä¸€å¯¹ä¸­æ‹¬å·çš„æ•°ç»„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrays = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>]];</span><br><span class="line"><span class="comment">// Your code here.</span></span><br><span class="line"><span class="keyword">let</span> combineArrays = arrays.<span class="title function_">reduce</span>(<span class="function">(<span class="params">accumulator,currentArray</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> accumulator.<span class="title function_">concat</span>(currentArray);</span><br><span class="line">&#125;,[])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(combineArrays);</span><br><span class="line"><span class="comment">// â†’ [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h2 id="Your-own-loop"><a href="#Your-own-loop" class="headerlink" title="Your own loop"></a>Your own loop</h2><p>å¦‚æœä¸èƒ½æ»¡è¶³æ¡ä»¶ï¼ˆtestActï¼‰å°±ä¸èƒ½ç»§ç»­å¾ªç¯ã€‚ä¸‹ä¸€æ¬¡å¾ªç¯è¦ç”¨æ–°çš„å€¼ï¼ˆupdateActï¼‰ï¼Œæ¯æ¬¡å¾ªç¯éœ€è¦æ‰§è¡Œä¸€å®šçš„æ“ä½œï¼ˆbodyActï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Your code here.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">value, testAct, updateAct,bodyAct</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">testAct</span>(value)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="title function_">bodyAct</span>(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">loop</span>(<span class="title function_">updateAct</span>(value),testAct,updateAct,bodyAct);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loop</span>(<span class="number">3</span>, <span class="function"><span class="params">n</span> =&gt;</span> n &gt; <span class="number">0</span>, <span class="function"><span class="params">n</span> =&gt;</span> n - <span class="number">1</span>, <span class="variable language_">console</span>.<span class="property">log</span>);</span><br><span class="line"><span class="comment">// â†’ 3</span></span><br><span class="line"><span class="comment">// â†’ 2</span></span><br><span class="line"><span class="comment">// â†’ 1</span></span><br></pre></td></tr></table></figure><h2 id="Everything"><a href="#Everything" class="headerlink" title="Everything"></a>Everything</h2><p>åˆ¤æ–­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ï¼Œå’Œsomeå‡½æ•°ç›¸åã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">every</span>(<span class="params">array, test</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">  <span class="keyword">for</span>(item <span class="keyword">of</span> array)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">test</span>(item))&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//   return !array.some(element=&gt;!test(element));</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">every</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], <span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">10</span>));</span><br><span class="line"><span class="comment">// â†’ true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">every</span>([<span class="number">2</span>, <span class="number">4</span>, <span class="number">16</span>], <span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">10</span>));</span><br><span class="line"><span class="comment">// â†’ false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">every</span>([], <span class="function"><span class="params">n</span> =&gt;</span> n &lt; <span class="number">10</span>));</span><br><span class="line"><span class="comment">// â†’ true</span></span><br></pre></td></tr></table></figure><h2 id="Dominant-writing-direction"><a href="#Dominant-writing-direction" class="headerlink" title="Dominant writing direction"></a>Dominant writing direction</h2><p>æ‰¾å‡ºæ–‡å­—ä¸­æœ€ä¸»è¦çš„è¯»æ³•æ–¹å‘ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dominantDirection</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="comment">// Your code here.</span></span><br><span class="line">    <span class="keyword">let</span> counted = <span class="title function_">countBy</span>(text,<span class="function"><span class="params">char</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> script = <span class="title function_">characterScript</span>(char.<span class="title function_">codePointAt</span>(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> script ? script.<span class="property">direction</span> : <span class="string">&quot;none&quot;</span>;</span><br><span class="line">  &#125;).<span class="title function_">filter</span>(<span class="function">(<span class="params">&#123;name&#125;</span>) =&gt;</span> name!=<span class="string">&quot;none&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(counted.<span class="property">length</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;ltr&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> counted.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a.<span class="property">count</span>&gt;b.<span class="property">count</span>?<span class="attr">a</span>:b).<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">dominantDirection</span>(<span class="string">&quot;Hello!&quot;</span>));</span><br><span class="line"><span class="comment">// â†’ ltr</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">dominantDirection</span>(<span class="string">&quot;Hey, Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±&quot;</span>));</span><br><span class="line"><span class="comment">// â†’ rtl</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯<code>countBy</code>,ä½œç”¨æ˜¯è¿”å›æ•°ç»„ä¸­æ»¡è¶³è¦æ±‚çš„æ•°é‡ï¼ŒgroupNameä½œä¸ºå‡½æ•°åç§°è°ƒç”¨ï¼Œè¿”å›å±äºå½“å‰itemæ‰€å±äºçš„ç»„åç§°ï¼Œåœ¨è¿™é‡Œæœ‰ä¸¤ä¸ªç»„åˆ«ï¼Œåˆ†åˆ«æ˜¯trueç»„å’Œfalseç»„ï¼Œç„¶åå°†æ‰€åœ¨ç»„çš„æ•°é‡åŠ 1:  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">countBy</span>(<span class="params">items, groupName</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> counts = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> items) &#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="title function_">groupName</span>(item);</span><br><span class="line">    <span class="keyword">let</span> known = counts.<span class="title function_">find</span>(c = c.<span class="property">name</span> == name);</span><br><span class="line">    <span class="keyword">if</span> (!known) &#123;</span><br><span class="line">      counts.<span class="title function_">push</span>(&#123;name, <span class="attr">count</span>: <span class="number">1</span>&#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      known.<span class="property">count</span>++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> counts;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">countBy</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="function"><span class="params">n</span> =&gt;</span> n &gt; <span class="number">2</span>));</span><br><span class="line"><span class="comment">// â†’ [&#123;name: false, count: 2&#125;, &#123;name: true, count: 3&#125;]</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯<code>characterScript</code>ï¼Œä½œç”¨æ˜¯åˆ¤æ–­codeå±äºå“ªä¸€ç§è¯­è¨€ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">characterScript</span>(<span class="params">code</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> script <span class="keyword">of</span> <span class="variable constant_">SCRIPTS</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (script.<span class="property">ranges</span>.<span class="title function_">some</span>(<span class="function">(<span class="params">[<span class="keyword">from</span>, to]</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> code &gt;= <span class="keyword">from</span> &amp;&amp; code &lt; to;</span><br><span class="line">    &#125;)) &#123;</span><br><span class="line">      <span class="keyword">return</span> script;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">characterScript</span>(<span class="number">121</span>));</span><br><span class="line"><span class="comment">// â†’ &#123;name: &quot;Latin&quot;, â€¦&#125;</span></span><br></pre></td></tr></table></figure></p><p><code>SCRIPTS</code>ç±»å‹çš„æ ¼å¼ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Coptic&quot;</span>,</span><br><span class="line">  <span class="attr">ranges</span>: [[<span class="number">994</span>, <span class="number">1008</span>], [<span class="number">11392</span>, <span class="number">11508</span>], [<span class="number">11513</span>, <span class="number">11520</span>]],</span><br><span class="line">  <span class="attr">direction</span>: <span class="string">&quot;ltr&quot;</span>,</span><br><span class="line">  <span class="attr">year</span>: -<span class="number">200</span>,</span><br><span class="line">  <span class="attr">living</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">link</span>: <span class="string">&quot;https://en.wikipedia.org/wiki/Coptic_alphabet&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨Github Desktopç®€åŒ–ä½ çš„æ¨é€æµç¨‹</title>
      <link href="/2024/06/12/%E7%94%A8github-Desktop%E7%AE%80%E5%8C%96%E4%BD%A0%E7%9A%84%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B/"/>
      <url>/2024/06/12/%E7%94%A8github-Desktop%E7%AE%80%E5%8C%96%E4%BD%A0%E7%9A%84%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”¨Github-Desktopç®€åŒ–ä½ çš„æ¨é€æµç¨‹"><a href="#ç”¨Github-Desktopç®€åŒ–ä½ çš„æ¨é€æµç¨‹" class="headerlink" title="ç”¨Github Desktopç®€åŒ–ä½ çš„æ¨é€æµç¨‹"></a>ç”¨Github Desktopç®€åŒ–ä½ çš„æ¨é€æµç¨‹</h1><p><a href="https://desktop.github.com/">Github Desktopå®˜æ–¹ç½‘ç«™</a></p><h2 id="1-ç¬¬ä¸‰æ–¹ä»“åº“å…‹éš†"><a href="#1-ç¬¬ä¸‰æ–¹ä»“åº“å…‹éš†" class="headerlink" title="1. ç¬¬ä¸‰æ–¹ä»“åº“å…‹éš†"></a>1. ç¬¬ä¸‰æ–¹ä»“åº“å…‹éš†</h2><h3 id="é€‰æ‹©file-gt-clone-repository"><a href="#é€‰æ‹©file-gt-clone-repository" class="headerlink" title="é€‰æ‹©file-&gt;clone repository,"></a>é€‰æ‹©file-&gt;clone repository,</h3><p><img src="https://images.whff521.top/chooseclone.png" alt="chooseClone"></p><h3 id="é€šè¿‡URLå…‹éš†ä½ çš„ä»“åº“"><a href="#é€šè¿‡URLå…‹éš†ä½ çš„ä»“åº“" class="headerlink" title="é€šè¿‡URLå…‹éš†ä½ çš„ä»“åº“"></a>é€šè¿‡URLå…‹éš†ä½ çš„ä»“åº“</h3><p>é€‰æ‹©URLï¼Œé‡Œé¢å¡«ä½ çš„ç¬¬ä¸‰æ–¹ä»“åº“çš„httpså…‹éš†é“¾æ¥ï¼Œæ³¨æ„è¦å¡«å†™å…¬ç½‘åœ°å€è€Œä¸æ˜¯å†…ç½‘åœ°å€ã€‚  </p><p><img src="https://images.whff521.top/writeURL.png" alt="writeURL"></p><p><strong>æ³¨æ„é€‰æ‹©ä½ ä¿å­˜ä»“åº“çš„æœ¬åœ°ä½ç½®</strong>  </p><p>ç‚¹å‡»cloneååº”è¯¥ä¼šå¼¹å‡ºè®©ä½ è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœæ˜¯gitlabï¼Œç›´æ¥è¾“å…¥ä½ ç™»å½•gitlabçš„ç”¨æˆ·åå’Œå¯†ç ã€‚  </p><p>åˆ°æ­¤ä¸ºæ­¢åº”è¯¥æ˜¯å¯ä»¥å…‹éš†ä»“åº“åˆ°æœ¬åœ°äº†ã€‚ä¹‹åçš„æ“ä½œï¼Œå’Œä¸€èˆ¬çš„gitæ“ä½œæ˜¯ä¸€è‡´çš„ï¼Œä¸è¿‡æ˜¯æœ‰äº†å›¾å½¢åŒ–çš„ç•Œé¢ï¼Œä¸ç”¨è¾“å…¥ç¹ççš„å‘½ä»¤ã€‚</p><h2 id="2-add-å’Œ-commit"><a href="#2-add-å’Œ-commit" class="headerlink" title="2. add å’Œ commit"></a>2. add å’Œ commit</h2><p>ç›´æ¥åˆ°appç•Œé¢ï¼Œä¸€æ—¦ä»“åº“æœ‰æ–‡ä»¶æ›´æ”¹ï¼Œappç•Œé¢ä¼šç½—åˆ—å‡ºä½ æ›´æ–°æ–‡ä»¶çš„å†…å®¹ï¼Œéœ€è¦ä½ è¿›è¡Œcommitæ“ä½œã€‚  </p><p><img src="https://images.whff521.top/commit.png" alt="commit"></p><h2 id="3-push"><a href="#3-push" class="headerlink" title="3. push"></a>3. push</h2><p>å¤„ç†å®Œæ‰€æœ‰çš„commitåå°±å¯ä»¥è¿›è¡Œæ¨é€äº†ï¼Œç›´æ¥ç‚¹å‡»ç•Œé¢å³è¾¹çš„push origin å³å¯ã€‚</p><p><img src="https://images.whff521.top/push.png" alt="push"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chess For Three</title>
      <link href="/2024/05/22/check-for-three/"/>
      <url>/2024/05/22/check-for-three/</url>
      
        <content type="html"><![CDATA[<h1 id="Chess-For-Three"><a href="#Chess-For-Three" class="headerlink" title="Chess For Three"></a>Chess For Three</h1><p>è¿™æ˜¯Codeforces Round 945 (Div. 2) ç¬¬ä¸€é¢˜ã€‚  </p><p><a href="https://codeforces.com/contest/1973/problem/A">é¢˜ç›®é“¾æ¥</a>  </p><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸‰ä¸ªäººç©æ¸¸æˆï¼Œæ¯å±€ä¸¤ä¸ªäººç©ã€‚èµ¢å¾—äººå¾—2åˆ†ï¼Œè¾“çš„äººå¾—0åˆ†ã€‚å¹³å±€æ¯ä¸ªäººå¾—1åˆ†ã€‚ä¼šç»™ä½ ä¸‰ä¸ªäººçš„æœ€ç»ˆå¾—åˆ†ï¼Œé—®æœ€å¤šå¹³å±€å¤šå°‘å±€ã€‚</p><h2 id="é‡ç‚¹è®°å½•"><a href="#é‡ç‚¹è®°å½•" class="headerlink" title="é‡ç‚¹è®°å½•"></a>é‡ç‚¹è®°å½•</h2><p>è¿™é‡Œé¢˜ç¡®å®ä¸éš¾ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ ·ä¾‹å› ä¸ºæ²¡æœ‰ç»™æ€ä¹ˆç®—çš„å¯¼è‡´æˆ‘ä¸€ç›´ä»¥ä¸ºæ ·ä¾‹ç»™é”™äº†ã€‚ã€‚ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3 4 5</span><br><span class="line">6</span><br></pre></td></tr></table></figure><p>3åˆ†4åˆ†5åˆ†ï¼Œæœ€å¤§å¹³å±€æ•°æ˜¯6ã€‚  </p><p>æˆ‘æœ€ä¸€å¼€å§‹æƒ³çš„æ˜¯aå’Œbå¹³å±€3æ¬¡ï¼Œbè¿˜å‰©ä¸€å±€å’Œcå¹³å±€ï¼Œè¿™æ˜¯4æ¬¡ã€‚aå’Œcå¹³å±€3æ¬¡ï¼Œbå’Œcå¹³å±€2æ¬¡ï¼Œè¿™æ˜¯5æ¬¡ã€‚<br>ä½†æ˜¯æ ·ä¾‹ç»™çš„æ˜¯6æ¬¡ã€‚</p><p>6æ¬¡çš„æƒ…å†µåº”è¯¥æ˜¯<strong>cå’Œaå¹³å±€2æ¬¡ï¼Œcå’Œbå¹³å±€3æ¬¡ï¼Œaå’Œbå¹³å±€1æ¬¡</strong>ï¼Œè¿™æ ·å°±æ˜¯6æ¬¡ã€‚è¿™çœŸçš„æ˜¯å¤ªamazingäº†ã€‚</p><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><p>å¯ä»¥ç›´æ¥æš´åŠ›æšä¸¾aå’Œbï¼Œaå’Œcï¼Œbå’Œcå¹³å±€æ¬¡æ•°ï¼Œç„¶ååˆ¤æ–­åˆ†æ•°æ˜¯å¦åˆæ³•ã€‚é™¤å»å¹³å±€çš„åˆ†æ•°ï¼Œå‰©ä¸‹çš„åˆ†æ•°åº”è¯¥<code>left%2==0</code>ã€‚  </p><p>ä½†æ˜¯è¿˜æœ‰ç»“è®ºï¼Œ <code>min((p1+p2+p3)/2,p1+p2)</code>ï¼Œè¿™é‡Œä¿è¯<code>p1&lt;=p2&lt;=p3</code>ã€‚  </p><p>å…ˆè€ƒè™‘åˆä¸åˆæ³•ï¼Œä¸‰ä¸ªæ•°åŠ ä¸€èµ·å¦‚æœæ˜¯å¶æ•°å°±ä¸€å®šåˆæ³•ã€‚  </p><p>å…¶æ¬¡ï¼Œå¦‚æœ<code>p1+p2&lt;=p3</code>ï¼Œé‚£ä¹ˆæƒ…å†µåº”è¯¥æ˜¯aå’Œcå¹³å±€p1æ¬¡ï¼Œbå’Œcå¹³å±€p2æ¬¡ã€‚è¿™å°±æ˜¯æœ€å¤§çš„å¹³å±€æ•°ã€‚  </p><p>å¦‚æœ<code>p1+p2&gt;p3</code>ï¼Œç›¸å½“äº<code>p1&gt;p3-p2</code>ã€‚aå¯ä»¥å’Œcç©p3-p2æ¬¡ï¼Œç›¸å½“äºaå‰©ä½™åˆ†æ•°ä¸º<code>p1-(p3-p2)</code>ï¼Œè¿™ä¸ªåˆ†æ•°ä¸€å®šæ˜¯å¶æ•°ã€‚aè¿˜å¯ä»¥å’Œbå’Œcåˆ†åˆ«ç©<code>(p1-(p3-p2))/2</code>æ¬¡ã€‚è¿™é‡Œaå’Œå…¶ä»–äººçš„å¹³å±€æ•°å°±æ˜¯p1ã€‚bå’Œcè¿˜å¯ä»¥å¹³å±€<code>p2-(p1-(p3-p2))/2)</code>æ¬¡ã€‚åŠ ä¸€èµ·å°±æ˜¯<code>(p1+p2+p3)/2</code>ã€‚</p><p>æ ‡ç¨‹æ ¸å¿ƒï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; (v[<span class="number">0</span>] + v[<span class="number">1</span>] + v[<span class="number">2</span>] - <span class="built_in">max</span>(<span class="number">0</span>, v[<span class="number">2</span>] - v[<span class="number">0</span>] - v[<span class="number">1</span>])) / <span class="number">2</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br></pre></td></tr></table></figure></p><p>æš´åŠ›æ­£è§£ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> p1,p2,p3;</span><br><span class="line">        cin&gt;&gt;p1&gt;&gt;p2&gt;&gt;p3;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="comment">// i d12,j d13,k d23</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">30</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=<span class="number">30</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;=<span class="number">30</span>;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(p1-i-j&gt;=<span class="number">0</span>&amp;&amp;(p1-i-j)%<span class="number">2</span>==<span class="number">0</span> &amp;&amp;</span><br><span class="line">                       p2-i-k&gt;=<span class="number">0</span>&amp;&amp;(p2-i-k)%<span class="number">2</span>==<span class="number">0</span> &amp;&amp;</span><br><span class="line">                       p3-j-k&gt;=<span class="number">0</span>&amp;&amp;(p3-j-k)%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                        ans = <span class="built_in">max</span>(ans,i+j+k);    </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans!=<span class="number">-1</span>) cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
            <tag> æ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Prison Escape</title>
      <link href="/2024/05/17/Prison-Escape/"/>
      <url>/2024/05/17/Prison-Escape/</url>
      
        <content type="html"><![CDATA[<h1 id="Prison-Escape"><a href="#Prison-Escape" class="headerlink" title="Prison Escape"></a>Prison Escape</h1><p>è¿™æ˜¯<code>codechef starter 134 div4</code>çš„ç¬¬å…­é¢˜ã€‚<br><a href="https://www.codechef.com/problems/PRISON">é¢˜ç›®é“¾æ¥</a></p><h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>NxMçš„01çŸ©é˜µï¼Œ0ä»£è¡¨ç½ªçŠ¯ï¼Œ1ä»£è¡¨å®ˆå«è€…ã€‚ç½ªçŠ¯å¯ä»¥ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œè®¡ç®—ç½ªçŠ¯æœ€å°‘éœ€è¦ç»è¿‡å‡ ä¸ªå®ˆå«è€…æ‰èƒ½é€ƒå‡ºè¿™ä¸ªçŸ©é˜µã€‚æˆ‘ä»¬è¦æ±‚å‡ºè¿™äº›ç½ªçŠ¯é‡Œè¾¹ç»è¿‡æœ€å°‘å®ˆå«è€…æ•°é‡çš„æœ€å¤§å€¼ã€‚<br>æ•°æ®èŒƒå›´ï¼š<code>T 1000ï¼ŒNå’ŒM 3e5ï¼ŒNxM&lt;3e5</code>ã€‚</p><h2 id="èµ›æ—¶å›é¡¾"><a href="#èµ›æ—¶å›é¡¾" class="headerlink" title="èµ›æ—¶å›é¡¾"></a>èµ›æ—¶å›é¡¾</h2><p>ä¸€çœ¼æœ€çŸ­è·¯ï¼Œä½†æ˜¯çœ‹è§æ•°æ®èŒƒå›´å°±æ²¡æœ‰å»å†™ä»£ç ã€‚æˆ‘è§‰å¾—æ¯ä¸ª0ç‚¹å»æ‰§è¡Œæœ€çŸ­è·¯ç®—æ³•åº”è¯¥ä¼šè¶…æ—¶ã€‚æˆ–è€…ç›´æ¥æ¯ä¸ª0è¿›è¡Œbfsåº”è¯¥ä¹Ÿä¼šè¶…æ—¶ã€‚</p><h2 id="æ­£è§£"><a href="#æ­£è§£" class="headerlink" title="æ­£è§£"></a>æ­£è§£</h2><p><strong>æœ‰ä¸ªä¸œè¥¿å«å¤šæºæœ€çŸ­è·¯</strong>ã€‚å®é™…ä¸Šæˆ‘åº”è¯¥æ¢ä½æ€è€ƒï¼Œä¸æ˜¯å»æ±‚0åˆ°è¾¹ç•Œçš„æœ€çŸ­è·¯ï¼Œè€Œæ˜¯è¾¹ç•Œåˆ°0çš„æœ€çŸ­è·¯ã€‚å¤šæºæœ€çŸ­è·¯æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯è®¾ç½®è™šæ‹ŸèŠ‚ç‚¹è¿æ¥åˆ°æ‰€æœ‰æºï¼ŒäºŒæ˜¯ç›´æ¥æŠŠæ‰€æœ‰æºèŠ‚ç‚¹å‹å…¥é˜Ÿåˆ—ä¸­ï¼Œä¸éœ€è¦ç†ä¼šã€‚</p><p>æ‰€ä»¥å®é™…ä¸Šè¿™ä¸ªé¢˜ç›®æ˜¯å…¸å‹çš„<code>0-1BFS</code>é—®é¢˜ã€‚æˆ‘ä»¬åªéœ€è¦å°†æ‰€æœ‰è¾¹ç•ŒèŠ‚ç‚¹å‹å…¥é˜Ÿåˆ—ä¸­ï¼Œç„¶åä¸€ç‚¹ç‚¹å‘å†…æ›´æ–°è·ç¦»å³å¯ã€‚æœ€åç­”æ¡ˆå°±æ˜¯<code>d[i][j]</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        string a[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt; &gt; <span class="built_in">d</span>(n,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m,INT_MAX));</span><br><span class="line">        deque&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt; dq;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i==<span class="number">0</span>||j==<span class="number">0</span>||i==n<span class="number">-1</span>||j==m<span class="number">-1</span>)&#123;</span><br><span class="line">                    d[i][j]=a[i][j]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    <span class="keyword">if</span>(d[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">                        dq.<span class="built_in">push_front</span>(&#123;i,j&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> dq.<span class="built_in">push_back</span>(&#123;i,j&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> dx[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line">        <span class="type">int</span> dy[] = &#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">while</span>(!dq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            <span class="type">int</span> x = dq.<span class="built_in">front</span>().first;</span><br><span class="line">            <span class="type">int</span> y = dq.<span class="built_in">front</span>().second;</span><br><span class="line">            dq.<span class="built_in">pop_front</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">                <span class="type">int</span> xx = x+dx[i];</span><br><span class="line">                <span class="type">int</span> yy = y+dy[i];</span><br><span class="line">                <span class="keyword">if</span>(xx&lt;<span class="number">0</span>||yy&lt;<span class="number">0</span>||xx&gt;=n||yy&gt;=m) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                <span class="type">int</span> weight = a[xx][yy]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>(d[x][y]+weight&lt;d[xx][yy])&#123;</span><br><span class="line">                    d[xx][yy]=d[x][y]+weight;</span><br><span class="line">                    <span class="keyword">if</span>(weight==<span class="number">0</span>)&#123;</span><br><span class="line">                        dq.<span class="built_in">push_front</span>(&#123;xx,yy&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> dq.<span class="built_in">push_back</span>(&#123;xx,yy&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i][j]==<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans,d[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 01BFS </tag>
            
            <tag> å¤šæºæœ€çŸ­è·¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3 out 1 in</title>
      <link href="/2024/05/16/3-out-1-in/"/>
      <url>/2024/05/16/3-out-1-in/</url>
      
        <content type="html"><![CDATA[<h1 id="3out1in"><a href="#3out1in" class="headerlink" title="3out1in"></a>3out1in</h1><p><a href="https://www.codechef.com/problems/OKLAMA">é¢˜ç›®é“¾æ¥</a>  </p><h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>è¿™æ˜¯<code>codechef starter 134 div4</code>çš„ç¬¬äº”é¢˜ã€‚  </p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„Bï¼Œé‡Œé¢åŒ…å«Mä¸ªæ•°å­—ï¼Œå…¶ä¸­Må¿…å®šä¸ºå¥‡æ•°ã€‚æ“ä½œæ˜¯é€‰å‡ºä¸‰ä¸ªæ•°å­—a,b,c, è¿™ä¸‰ä¸ªæ•°å­—ä»æ•°ç»„é‡Œå‰”é™¤ï¼Œæ•°ç»„ä¸­é‡æ–°åŠ å…¥æˆå‘˜<code>a+b-c</code>ã€‚å¯ä»¥çœ‹å‡ºæ¥æ¯ä¸€æ¬¡æ“ä½œä¼šè®©æ•°ç»„å°‘ä¸¤ä¸ªå…ƒç´ ï¼Œé—®æœ€åå‰©ä¸‹ä¸€ä¸ªå…ƒç´ çš„æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚å…¶ä¸­æœ‰å¤šä¸ªè¯¢é—®ï¼Œè¯¢é—®å†…å®¹æ˜¯å¦‚æœåªæœ‰å‰kä¸ªå…ƒç´ ï¼Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªå…ƒç´ æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚</p><h2 id="èµ›æ—¶å›é¡¾"><a href="#èµ›æ—¶å›é¡¾" class="headerlink" title="èµ›æ—¶å›é¡¾"></a>èµ›æ—¶å›é¡¾</h2><p>æˆ‘åœ¨ç¬¬ä¸€æ¬¡åšè¿™é“é¢˜çš„æ—¶å€™å°±ç›´æ¥è€ƒè™‘åˆ°äº†ç”¨ä¼˜å…ˆé˜Ÿåˆ—ã€‚æ˜¾ç„¶æœ€ä¼˜è§£æ˜¯æ¯æ¬¡é€‰ä¸¤ä¸ªæœ€å¤§å€¼ï¼Œç„¶åå‡å»æœ€å°å€¼ã€‚åŸæ•°ç»„æˆ‘ç”¨æ•°ç»„<code>a</code>å­˜å‚¨ï¼Œæ¯æ¬¡å°†å‰<code>k</code>ä¸ªå…ƒç´ é€å…¥ä¼˜å…ˆé˜Ÿåˆ—å’Œæ•°ç»„<code>b</code>ä¸­ï¼Œæ•°ç»„<code>b</code>è¿›è¡Œæ’åºç”¨æ¥è·å¾—æœ€å°å€¼ï¼Œä¼˜å…ˆé˜Ÿåˆ—è·å–æœ€å¤§å€¼ã€‚æˆåŠŸæ‹¿åˆ°30åˆ†çš„éƒ¨åˆ†åˆ†ï¼Œå…¶ä»–æµ‹è¯•ä¼šè¶…æ—¶ã€‚</p><h2 id="æ­£è§£"><a href="#æ­£è§£" class="headerlink" title="æ­£è§£"></a>æ­£è§£</h2><p>å®˜æ–¹é¢˜è§£æ€è·¯è®©æˆ‘æç„¶å¤§æ‚Ÿã€‚<strong>æ°¸è¿œè®°å¾—å¯ä»¥ç”¨ç©ºé—´æ¢å–æ—¶é—´</strong>ã€‚æ—¢ç„¶å¯ä»¥ç”¨ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ã€‚è™½ç„¶æˆ‘ä»¬ä¸çŸ¥é“ç»™å‡ºçš„qureyé‡Œ<code>k</code>çš„å€¼æ˜¯å¤šå°‘ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨<code>ans</code>æ•°ç»„è®°å½•æ‰€æœ‰å¯¹åº”kå€¼çš„ç­”æ¡ˆã€‚  </p><p>é¦–å…ˆå°±è¦è€ƒè™‘éšç€æ•°ç»„å…ƒç´ çš„å¢åŠ ï¼ŒçŠ¶æ€æ˜¯å¦‚ä½•è½¬ç§»çš„ã€‚æˆ‘ä»¬å¯ä»¥å°†ç°æœ‰å…ƒç´ åˆ†æˆä¸¤ç»„ï¼Œä¸€ä¸ªæ˜¯<code>samll</code>ç»„ï¼Œä¸€ä¸ªæ˜¯<code>large</code>ç»„ã€‚<code>small</code>ç»„æ˜¯æ‰€æœ‰ä¼šè¢«å‡å»çš„æ•°å­—ï¼Œ<code>large</code>ç»„æ˜¯æ‰€æœ‰ä¼šè¢«åŠ ä¸Šçš„æ•°å­—ã€‚æ¯æ¬¡éœ€è¦ä¸¤ä¸ª<code>large</code>ç»„çš„å…ƒç´ ç›¸åŠ ï¼Œä¸€ä¸ª<code>small</code>ç»„çš„å…ƒç´ è¢«å‡ï¼Œä½†æ˜¯å¾—åˆ°çš„æ•°å­—è¿˜åº”è¯¥è¢«ä¿ç•™åœ¨<code>large</code>æ•°ç»„é‡Œã€‚å¯ä»¥æ¨æ–­å‡ºï¼Œ<code>large</code>æ•°ç»„å…ƒç´ ä¸ªæ•°åº”è¯¥æ°¸è¿œæ¯”<code>small</code>æ•°ç»„å¤š1ã€‚</p><p>äº‹å®ä¸Šæˆ‘ä»¬å¹¶ä¸éœ€è¦å°†çœŸçš„æ¯æ¬¡æ“ä½œå¾—åˆ°çš„æ•°å­—å‹åˆ°ä¼˜å…ˆé˜Ÿåˆ—é‡Œé¢ã€‚å› ä¸ºæ¯ä¸ªæ•°å­—åªæœ‰ä¸¤ç§å¯èƒ½ï¼Œè¢«èµ‹äºˆåŠ å·ï¼Œä»£è¡¨å’Œå…¶ä»–å…ƒç´ ç›¸åŠ ï¼Œè¢«èµ‹äºˆå‡å·ï¼Œä»£è¡¨è¢«å‡å»ã€‚ç¬¦å·ç¡®å®šåæ‰€æœ‰å…ƒç´ çš„å’Œæ˜¯ä¸ä¼šå˜çš„ã€‚æˆ‘ä»¬åªéœ€è¦è®¡ç®—ç°åœ¨<code>small</code>ç»„é‡Œå…ƒç´ çš„æ€»å’Œ<code>sumin</code>ï¼Œ<code>large</code>ç»„é‡Œå…ƒç´ çš„æ€»å’Œ<code>sumax</code>ï¼Œç„¶åç­”æ¡ˆå°±æ˜¯<code>sumax-sumin</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[mxlen];</span><br><span class="line">ll ans[mxlen];</span><br><span class="line"><span class="type">int</span> n,q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">    priority_queue&lt;ll&gt; pqmin;</span><br><span class="line">    priority_queue&lt;ll&gt; pqmax;</span><br><span class="line">    ll sumin = <span class="number">0</span>;</span><br><span class="line">    ll sumax = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        pqmin.<span class="built_in">push</span>(a[i]);</span><br><span class="line">        sumin+=a[i];</span><br><span class="line">        <span class="comment">//è¿™é‡Œè¡¨è¾¾å¼çš„æ„æ€æ˜¯pqmin.size()è¦æ°¸è¿œå°‘ä¸€ä¸ª</span></span><br><span class="line">        <span class="keyword">while</span>(pqmin.<span class="built_in">size</span>()&gt;=pqmax.<span class="built_in">size</span>())&#123;</span><br><span class="line">            ll mi = pqmin.<span class="built_in">top</span>();</span><br><span class="line">            pqmin.<span class="built_in">pop</span>();</span><br><span class="line">            pqmax.<span class="built_in">push</span>(-mi);</span><br><span class="line">            sumax+=mi;</span><br><span class="line">            sumin-=mi;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!pqmin.<span class="built_in">empty</span>()&amp;&amp;pqmin.<span class="built_in">top</span>()&gt;-pqmax.<span class="built_in">top</span>())&#123;</span><br><span class="line">            ll mi = pqmin.<span class="built_in">top</span>();</span><br><span class="line">            ll ma = -pqmax.<span class="built_in">top</span>();</span><br><span class="line">            pqmin.<span class="built_in">pop</span>(); pqmax.<span class="built_in">pop</span>();</span><br><span class="line">            pqmin.<span class="built_in">push</span>(ma);</span><br><span class="line">            pqmax.<span class="built_in">push</span>(-mi);</span><br><span class="line">            sumin = sumin-mi+ma;</span><br><span class="line">            sumax = sumax-ma+mi;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ans[i]=sumax-sumin;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> T;</span><br><span class="line">cin&gt;&gt;T;</span><br><span class="line"><span class="keyword">while</span>(T--)&#123;</span><br><span class="line">    </span><br><span class="line">    cin&gt;&gt;n&gt;&gt;q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="built_in">work</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">        <span class="type">int</span> k;</span><br><span class="line">        cin&gt;&gt;k;</span><br><span class="line">            cout&lt;&lt;ans[k]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¼˜å…ˆé˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round 944 (Div. 4) å›é¡¾</title>
      <link href="/2024/05/11/Codeforces-Round-944-Div-4-%E5%9B%9E%E9%A1%BE/"/>
      <url>/2024/05/11/Codeforces-Round-944-Div-4-%E5%9B%9E%E9%A1%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="Codeforces-Round-944-Div-4-å›é¡¾"><a href="#Codeforces-Round-944-Div-4-å›é¡¾" class="headerlink" title="Codeforces Round 944 (Div. 4) å›é¡¾"></a>Codeforces Round 944 (Div. 4) å›é¡¾</h1><h2 id="æ¯”èµ›å›é¡¾"><a href="#æ¯”èµ›å›é¡¾" class="headerlink" title="æ¯”èµ›å›é¡¾"></a>æ¯”èµ›å›é¡¾</h2><p>èµ›ä¸­æ˜¯ACäº†å‰å››é¢˜ï¼ŒEç­”æ¡ˆé”™è¯¯ï¼ŒFè¶…æ—¶ã€‚å¯ä»¥è¯´æ˜¯åšåˆ°äº†æœ€åäº”åˆ†é’Ÿï¼Œæ’åæ˜¯6000å¤šã€‚  </p><p><a href="https://codeforces.com/contest/1971">æ¯”èµ›é“¾æ¥</a>  </p><p><a href="https://codeforces.com/blog/entry/129364">å®˜æ–¹é¢˜è§£é“¾æ¥</a>  </p><h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h2><p>ABå°±ç›´æ¥è·³è¿‡äº†ï¼Œçº¯ç­¾åˆ°ã€‚ </p><h3 id="C-Clock-and-Strings"><a href="#C-Clock-and-Strings" class="headerlink" title="C. Clock and Strings"></a>C. Clock and Strings</h3><p>Cé¢˜æ„æ€æ˜¯ç»™å‡ºè¡¨ä¸­ä¸¤å¯¹æ•°å­—ï¼Œçœ‹æ¯å¯¹æ•°å­—è¿æ¥çš„çº¿æ˜¯å¦ç›¸äº¤ã€‚æˆ‘çš„æ€è·¯æ˜¯åªè¦ä¸€æ¡çº¿çš„ä¸€ä¸ªç«¯ç‚¹åœ¨å¦ä¸€æ¡çº¿çš„åŒºé—´å†…ï¼Œåˆ‡å¦ä¸€ç«¯åœ¨åŒºé—´å¤–å³å¯æ–­å®šè¿™ä¸¤æ¡çº¿æ˜¯ç›¸äº¤çš„ã€‚</p><p>ä¸ºäº†æ›´å¥½çš„è¿›è¡ŒåŒºåˆ†ï¼Œæˆ‘è¿›è¡Œäº†æ’åºï¼Œå…¶ä¸­æ»¡è¶³<code>a&lt;c a&lt;b c&lt;d</code>ã€‚</p><p>æˆ‘è§‰å¾—ä¸èƒ½ç›´æ¥å»å†™ï¼Œè¡¨ä¸Šçš„æ•°å­—æ˜¯1åˆ°12ï¼Œå¯¹äºä¸€æ¡çº¿ï¼Œä¸€ä¸ªç«¯ç‚¹æ˜¯1ï¼Œå¦ä¸€ä¸ªç«¯ç‚¹æ˜¯10ï¼Œå…¶ä¸­11å’Œ12å…¶å®æ˜¯åœ¨çº¿çš„åŒ…å›´å†…çš„ï¼Œæ‰€ä»¥æˆ‘ç»™æ‰€æœ‰å°äº6çš„æ•°å­—åŠ äº†12ï¼ŒåŒºé—´å˜æˆäº†6åˆ°17ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦<code>c</code>åœ¨<code>a</code>å’Œ<code>b</code>ä¹‹é—´,<code>d</code>åœ¨<code>a</code>å’Œ<code>b</code>ä¹‹å¤–ã€‚<br>ä½†æ˜¯æˆ‘ä»Šå¤©æ‰å‘ç°æˆ‘çš„åˆ¤æ–­è¯­å¥ç«Ÿç„¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((a&lt;c&amp;&amp;c&lt;b)||(a&lt;d&amp;&amp;d&lt;b)) cout&lt;&lt;<span class="string">&quot;YES&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl;</span><br></pre></td></tr></table></figure><p>æˆ‘ç©¶ç«Ÿæ˜¯æ€ä¹ˆè¿‡äº†è¿™é¢˜çš„æ‰€æœ‰æ•°æ®ï¼Œåªåˆ¤æ–­äº†ä¸€ç«¯åœ¨åŒºé—´å†…å°±è¿‡äº†ï¼Œæ ¹æœ¬æ²¡çœ‹æ˜¯å¦å¦ä¸€ç«¯æ˜¯å¦åœ¨åŒºé—´å¤–ã€‚ã€‚ã€‚  </p><p>å®˜æ–¹é¢˜è§£å°±å¾ˆæœ‰æ„æ€ï¼Œä»–æ˜¯ä»1åˆ°12éå†ï¼Œè®°å½•ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœç¢°åˆ°ç¬¬ä¸€æ¡çº¿çš„ç«¯ç‚¹ï¼Œå­—ç¬¦ä¸²å°±åŠ ä¸€ä¸ªâ€™aâ€™ï¼Œç¢°åˆ°å¦ä¸€æ¡çº¿çš„ç«¯ç‚¹ï¼Œå­—ç¬¦ä¸²å°±åŠ ä¸€ä¸ªâ€™bâ€™ï¼Œè¿™æ ·å¦‚æœç­”æ¡ˆæ˜¯â€™ababâ€™æˆ–è€…â€™babaâ€™å°±è¯´æ˜æœ‰ä¸€æ¡çº¿çš„ç«¯ç‚¹åœ¨å¦ä¸€æ¡çº¿åŒºé—´å†…è€Œä¸”å¦ä¸€ç«¯ç‚¹åœ¨åŒºé—´å¤–ï¼Œéå¸¸å·§å¦™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a, b, c, d;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == a || i == b) &#123;s += <span class="string">&quot;a&quot;</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (i == c || i == d) &#123;s += <span class="string">&quot;b&quot;</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; (s == <span class="string">&quot;abab&quot;</span> || s == <span class="string">&quot;baba&quot;</span> ? <span class="string">&quot;YES\n&quot;</span> : <span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="D-Binary-Cut"><a href="#D-Binary-Cut" class="headerlink" title="D. Binary Cut"></a>D. Binary Cut</h3><p>å°†01æ•°ç»„å‰ªåˆ‡æˆæœ€å°‘çš„ç»„ï¼Œä½¿èƒ½å¤Ÿè®©è¿™äº›ç»„è‡ªç”±ç»„åˆåæˆä¸ºä¸€ä¸ª0å…¨éƒ¨åœ¨å‰é¢ï¼Œ1å…¨éƒ¨åœ¨åé¢çš„æ•°ç»„ã€‚  </p><p>å¾ˆé—æ†¾æˆ‘çš„ACä»£ç è¢«åœºåHackæ•°æ®å¡æ‰äº†ã€‚è¿™é‡Œæ€è·¯å°±æ˜¯ç›¸é‚»çš„1æˆ–è€…0åˆ†æˆä¸€ç»„ï¼Œè¿™æ ·å°±åˆ†æˆäº†å¾ˆå¤šä¸ª1çš„ç»„åˆå’Œå¾ˆå¤šä¸ª0çš„ç»„åˆï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œå› ä¸ºæœ€ç»ˆæˆ‘ä»¬éœ€è¦çš„æ•°ç»„æ˜¯0åœ¨å‰1åœ¨åï¼Œæ‰€ä»¥å¦‚æœæœ‰<code>01</code>å‡ºç°çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å°‘åˆ†ä¸€ç»„ï¼Œæ¯”å¦‚<code>10001</code>æˆ‘ä»¬ä¸æ˜¯åˆ†æˆä¸‰ç»„<code>1</code>ã€<code>000</code>ã€<code>1</code>,è€Œæ˜¯<code>1</code>å’Œ<code>0001</code>ä¸¤ç»„ã€‚å› ä¸ºåˆ†ç•Œç‚¹åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥å¦‚æœæœ‰ä¸€ä¸ª<code>01</code>å‡ºç°ï¼Œç­”æ¡ˆæˆ‘ä»¬å‡å»1å³å¯ã€‚  </p><p>åŒæ ·è¿™é¢˜çš„å®˜æ–¹é¢˜è§£ä¹Ÿå¾ˆæœ‰è¶£ã€‚ä»–åœ¨åˆ¤æ–­æ˜¯å¦æœ‰<code>01</code>å‡ºç°æ—¶é‡‡ç”¨äº†ä½è¿ç®—ï¼Œ<del>è€Œä¸æ˜¯åƒæˆ‘ä¸€æ ·å†™ä¸‘é™‹çš„ifè¯­å¥</del>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string s;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line"><span class="type">bool</span> ex = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i + <span class="number">1</span> &lt; (<span class="type">int</span>)(s.<span class="built_in">size</span>()); i++) &#123;</span><br><span class="line">res += (s[i] != s[i + <span class="number">1</span>]);</span><br><span class="line">ex |= (s[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; s[i + <span class="number">1</span>] == <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; res - ex &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="E-Find-the-Car"><a href="#E-Find-the-Car" class="headerlink" title="E. Find the Car"></a>E. Find the Car</h3><p>è¿™é¢˜å°±æ˜¯å¾ˆç®€å•çš„ç‰©ç†é‡Œçš„ç®—é€Ÿåº¦çš„é¢˜ç›®ã€‚ç»™å‡ºkä¸ªè·¯ä¸Šçš„ç‚¹ï¼Œç„¶åç»™å‡ºåˆ°è¾¾æ¯ä¸ªç‚¹çš„æ—¶é—´ï¼Œå…¶ä¸­è®¾å®šæ¯ä¸¤ç‚¹ä¹‹é—´çš„é€Ÿåº¦æ˜¯å¸¸æ•°ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€æ®µè·¯éƒ½æ˜¯åŒ€é€Ÿã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°åˆ°è¾¾æŸä¸€ä¸ªç‚¹ï¼ˆä¸ä¸€å®šæ˜¯ç»™å‡ºçš„ç‚¹ï¼‰æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ä½†æ˜¯æ¯”èµ›æ—¶æˆ‘ä»¥ä¸ºç»™å‡ºçš„æ—¶é—´æ˜¯å‰ä¸€ä¸ªç‚¹åˆ°ä¸‹ä¸€ä¸ªç‚¹çš„æ—¶é—´ï¼Œæ‰€ä»¥ç”¨å‰ç¼€å’Œç®—çš„æ—¶é—´ï¼Œæ ·ä¾‹ç«Ÿç„¶éƒ½è¿‡äº†ã€‚ã€‚ã€‚ã€‚æ³¨æ„æˆ‘ä»¬è¦å…ˆç”¨äºŒåˆ†æ‰¾åˆ°é—®çš„ç‚¹æ˜¯å“ªä¸¤ä¸ªå·²çŸ¥ç‚¹ä¹‹é—´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="type">int</span> n,k,q;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k&gt;&gt;q;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>&gt; <span class="title">a</span><span class="params">(k+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">            cin&gt;&gt;a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>&gt; <span class="title">b</span><span class="params">(k+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>&gt; <span class="title">sum</span><span class="params">(k+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">            cin&gt;&gt;b[i];</span><br><span class="line">            sum[i]=sum[i<span class="number">-1</span>]+b[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">            <span class="type">int</span> pos;</span><br><span class="line">            cin&gt;&gt;pos;</span><br><span class="line">            <span class="type">int</span> l=<span class="number">1</span>,r=k;</span><br><span class="line">            <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">                <span class="type">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(a[mid]&gt;=pos)&#123;</span><br><span class="line">                    r=mid;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    l=mid+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            a[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            b[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            sum[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">            l--;</span><br><span class="line">            <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ans= <span class="number">0</span>;</span><br><span class="line">            ans = b[l]+((<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>)pos-a[l])*(b[r]-b[l])/(a[r]-a[l]);</span><br><span class="line">            cout&lt;&lt;ans&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="F-Circle-Perimeter"><a href="#F-Circle-Perimeter" class="headerlink" title="F. Circle Perimeter"></a>F. Circle Perimeter</h3><p>åœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­æ‰¾åˆ°ä¸åŸç‚¹çš„ç›´çº¿è·ç¦»å¤§äºrå°äºr+1çš„ç‚¹çš„ä¸ªæ•°ã€‚  </p><p>å› ä¸ºæ•°æ®å¾ˆå¤§ä¸èƒ½çº¯æš´åŠ›æ‰¾ã€‚åæ ‡ç³»éƒ½æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥åªéœ€è¦ç®—ç¬¬ä¸€è±¡é™åŠ yè½´æˆ–è€…xè½´ç„¶åç­”æ¡ˆx4å³å¯ã€‚  </p><p>å®˜æ–¹é¢˜è§£çš„æ„æ€æ˜¯xè½´0åˆ°1éå†ï¼Œå…ˆå°†yåæ ‡è®¾ç½®ä¸ºrã€‚æ˜¾ç„¶xåªä¼šè¶Šæ¥è¶Šå¤§ï¼Œå¦‚æœæƒ³è¦æ»¡è¶³è¦æ±‚yå°±å¿…é¡»è¶Šæ¥è¶Šå°ã€‚å…ˆå°†yæ§åˆ¶åˆ°ç‚¹åˆ°åŸç‚¹è·ç¦»å°äºr+1çš„é«˜åº¦ï¼Œç„¶åyç»§ç»­å‡çš„åŒæ—¶ans++ï¼Œç›´åˆ°è·ç¦»å°äºrï¼Œxå¢åŠ åç»§ç»­æ­¤æ“ä½œã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> r;</span><br><span class="line">    cin &gt;&gt; r;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> height = r;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt;= r; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(i*i+height*height &gt;= (r+<span class="number">1</span>)*(r+<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            height--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> cop = height;</span><br><span class="line">        <span class="keyword">while</span>(i*i+cop*cop &gt;= r*r &amp;&amp; cop &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cop--;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans*<span class="number">4</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="G-XOUR"><a href="#G-XOUR" class="headerlink" title="G. XOUR"></a>G. XOUR</h3><p>è¿™é¢˜å°±æ˜¯ç»™ä½ nä¸ªæ•°å­—ï¼Œå¦‚æœä¸¤ä¸ªæ•°ä¹‹é—´XORæ“ä½œåå°äºç­‰äº4ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°æ˜¯å¯ä»¥æ¢ä½ç½®çš„ã€‚æ±‚æ¢ä½åå­—å…¸åºæœ€å°çš„æ•°åˆ—ã€‚  </p><p>å…ˆæŠŠæ‰€æœ‰æ•°å­—ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼çœ‹å¾…ï¼Œä¸éš¾å‘ç°å¦‚æœä¸¤ä¸ªæ•°XORæ“ä½œåå¦‚æœå°äºç­‰äº4ï¼Œè¯´æ˜é™¤äº†åä¸¤ä½ï¼Œå…¶ä»–ä½ç½®çš„0æˆ–è€…1æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œè¿™æ ·æ‰èƒ½è®©å‰é¢çš„æ•°å¼‚æˆ–åå˜æˆ0ã€‚æˆ‘ä»¬éœ€è¦æŠŠæ‰€æœ‰é™¤äº†åä¸¤ä½å‰é¢ä½å…¨éƒ¨ç›¸åŒçš„æ•°å­—åˆ†åˆ°ä¸€ä¸ªç»„é‡Œé¢ï¼Œè¿™æ ·ä¸€ä¸ªç»„é‡Œé¢çš„æ•°å­—ä½ç½®æ˜¯å¯ä»¥éšæ„äº’æ¢çš„ã€‚</p><p>å®˜æ–¹é¢˜è§£éå¸¸å·§å¦™åœ°è¿ç”¨äº†C++çš„STLã€‚ä½¿ç”¨äº†ä¸€ä¸ªmapï¼Œkeyæ˜¯<code>a[i]&gt;&gt;2</code>ï¼Œvalueæ˜¯ä¸€ä¸ª<code>priority_queue</code>ï¼Œè¿™æ ·å°±å¯ä»¥å°†æ‰€æœ‰å‰é¢ä½ä¸€æ ·çš„å­˜åœ¨ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—é‡Œé¢ã€‚åœ¨å–æ•°å­—çš„æ—¶å€™ï¼Œæ’åœ¨é˜Ÿåˆ—å‰é¢çš„å°±æ˜¯ä¸€ä¸ªç»„é‡Œé¢å­—å…¸åºæœ€å°çš„æ•°å­—ã€‚æ³¨æ„ï¼Œä¼˜å…ˆé˜Ÿåˆ—é»˜è®¤æ˜¯å¤§æ ¹å †ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å­˜çš„æ˜¯æ¯ä¸ªæ•°çš„ç›¸åæ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">    map&lt;<span class="type">int</span>, priority_queue&lt;<span class="type">int</span>&gt;&gt; mp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        mp[a[i]&gt;&gt;<span class="number">2</span>].<span class="built_in">push</span>(-a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; -mp[a[i]&gt;&gt;<span class="number">2</span>].<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        mp[a[i]&gt;&gt;<span class="number">2</span>].<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="H-Â±1"><a href="#H-Â±1" class="headerlink" title="H. Â±1"></a>H. Â±1</h3><p>è¿™æ˜¯ä¸€ä¸ªå…³äº<a href="https://en.wikipedia.org/wiki/Boolean_satisfiability_problem">SAT</a>çš„é¢˜ç›®ï¼Œæš‚æ—¶ä¸ä¼šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…å®Œæ•´ç‰ˆXcodeåæˆ‘çš„C++ä¸‡èƒ½åº“ä¸è§äº†</title>
      <link href="/2024/05/11/%E5%AE%89%E8%A3%85%E5%AE%8C%E6%95%B4%E7%89%88Xcode%E5%90%8E%E6%88%91%E7%9A%84C-%E4%B8%87%E8%83%BD%E5%BA%93%E4%B8%8D%E8%A7%81%E4%BA%86/"/>
      <url>/2024/05/11/%E5%AE%89%E8%A3%85%E5%AE%8C%E6%95%B4%E7%89%88Xcode%E5%90%8E%E6%88%91%E7%9A%84C-%E4%B8%87%E8%83%BD%E5%BA%93%E4%B8%8D%E8%A7%81%E4%BA%86/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰è£…å®Œæ•´ç‰ˆXcodeåæˆ‘çš„C-ä¸‡èƒ½åº“ä¸è§äº†"><a href="#å®‰è£…å®Œæ•´ç‰ˆXcodeåæˆ‘çš„C-ä¸‡èƒ½åº“ä¸è§äº†" class="headerlink" title="å®‰è£…å®Œæ•´ç‰ˆXcodeåæˆ‘çš„C++ä¸‡èƒ½åº“ä¸è§äº†"></a>å®‰è£…å®Œæ•´ç‰ˆXcodeåæˆ‘çš„C++ä¸‡èƒ½åº“ä¸è§äº†</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ˜¨å¤©å› ä¸ºå®‰è£…äº†<code>flutter</code>çš„åŸå› ï¼Œå› ä¸ºè¿™ä¸ªéœ€è¦å®Œæ•´ç‰ˆ<code>Xcode</code>ï¼Œä¹‹å‰éƒ½æ˜¯å®‰è£…çš„å‘½ä»¤è¡Œç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥ç›´æ¥å»è‹¹æœåº”ç”¨å•†åº—å®‰è£…äº†ã€‚ä½†æ˜¯ä¸‡ä¸‡æ²¡æƒ³åˆ°çš„æ˜¯ï¼Œå®Œæ•´ç‰ˆ<code>Xcode</code>ç«Ÿç„¶æ›´æ”¹äº†æˆ‘ä½¿ç”¨çš„<code>Clang</code>åœ°å€ã€‚ä»–æ›´æ”¹åˆ°äº†<code>Applications</code>æ–‡ä»¶å¤¹ä¸‹çš„å®Œæ•´ç‰ˆ<code>Xcode</code>é‡Œé¢ã€‚çœ‹æ¥æ˜¯<code>Xcode</code>è‡ªå¸¦äº†<code>Clang</code>ç„¶åå°±ç›´æ¥æ›´æ”¹äº†é»˜è®¤åœ°å€ã€‚  </p><p>å¥½å·§ä¸å·§æ˜¨å¤©<code>codeforces Round 944</code>å¼€èµ›å‰ä¸‰åˆ†é’Ÿæˆ‘æ‰å‘ç°äº†é—®é¢˜ã€‚å› ä¸ºæˆ‘çš„ä¸‡èƒ½åº“å¼•ç”¨ä¸èƒ½ç”¨äº†ã€‚è¿˜å¥½æˆ‘æœ‰åœ¨åšå®¢å†™è¿‡<a href="https://blog.whff521.xyz/2024/04/13/mac%E7%94%B5%E8%84%91vscode%E7%9A%84c-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/">macç”µè„‘vscodeçš„c++è¿è¡Œé…ç½®</a>ã€‚æ‰€ä»¥åªèŠ±äº†äº”åˆ†é’Ÿå°±æ·»åŠ å¥½äº†ä¸‡èƒ½åº“æ–‡ä»¶ã€‚ä¸è¿‡æˆ‘æ‰€ç»å†çš„å’Œä¸Šç¯‡æ–‡ç« æœ‰æ‰€ä¸åŒã€‚æ‰€ä»¥åœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚  </p><h2 id="åœ¨å®Œæ•´Xcodeé‡Œæ·»åŠ ä¸‡èƒ½åº“æ–‡ä»¶"><a href="#åœ¨å®Œæ•´Xcodeé‡Œæ·»åŠ ä¸‡èƒ½åº“æ–‡ä»¶" class="headerlink" title="åœ¨å®Œæ•´Xcodeé‡Œæ·»åŠ ä¸‡èƒ½åº“æ–‡ä»¶"></a>åœ¨å®Œæ•´<code>Xcode</code>é‡Œæ·»åŠ ä¸‡èƒ½åº“æ–‡ä»¶</h2><ol><li>åŒæ ·æ˜¯åœ¨ç»ˆç«¯é‡Œè¾“å…¥<code>echo | g++ -v -x c++ -E -</code>, å…¶ä¸­<code>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include</code>æ˜¯æˆ‘ä»¬è¦ä¿®æ”¹çš„è·¯å¾„ã€‚</li><li>ä¿®æ”¹includeæ–‡ä»¶å¤¹çš„è®¿é—®æƒé™ä¸ºè¯»å†™ã€‚<code>sudo chmod 777 /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include</code>ã€‚</li><li>åˆ›å»º<code>bits</code>æ–‡ä»¶å¤¹å¹¶è¿›å…¥ã€‚<code>mkdir bits</code>, <code>cd bits/</code>ã€‚è¿™é‡Œç”µè„‘ä¼šæç¤ºæ¶ˆæ¯ï¼Œå› ä¸ºæˆ‘ç»ˆç«¯ç”¨çš„æ˜¯<code>Iterm2</code>ï¼Œæç¤ºæˆ‘è¿™ä¸ªè½¯ä»¶æƒ³è¦ä¿®æ”¹<code>Applications</code>æ–‡ä»¶é‡Œçš„ä¸œè¥¿ï¼Œæ˜¯å¦ç»™æƒé™ï¼Œç‚¹å¼€æ¶ˆæ¯åœ¨è®¾ç½®é‡Œå…è®¸å°±å¯ä»¥ã€‚</li><li>åˆ›å»º<code>stdc++.h</code>ï¼Œ<code>touch stdc++.h</code></li><li>è¿™é‡Œå¦‚æœç›´æ¥ <code>open stdc++.h</code> çš„è¯ä¼šå‘ç°é»˜è®¤æ˜¯<code>Xcode</code>æ‰“å¼€çš„ï¼Œæƒ³ä½¿ç”¨<code>Vscode</code>æ‰“å¼€ä½¿ç”¨<code>code stdc++.h</code>å³å¯ã€‚åŒæ ·ç³»ç»Ÿä¼šæ¶ˆæ¯æç¤ºæ˜¯å¦ç»™æƒé™ä¿®æ”¹ï¼Œé€‰æ‹©å…è®¸å³å¯ã€‚</li><li>å°†ä»£ç å¤åˆ¶ç²˜å¸–å³å¯ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ includes used for precompiling -*- C++ -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Copyright (C) 2003-2014 Free Software Foundation, Inc.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This file is part of the GNU ISO C++ Library.  This library is free</span></span><br><span class="line"><span class="comment">// software; you can redistribute it and/or modify it under the</span></span><br><span class="line"><span class="comment">// terms of the GNU General Public License as published by the</span></span><br><span class="line"><span class="comment">// Free Software Foundation; either version 3, or (at your option)</span></span><br><span class="line"><span class="comment">// any later version.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful,</span></span><br><span class="line"><span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="comment">// GNU General Public License for more details.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Under Section 7 of GPL version 3, you are granted additional</span></span><br><span class="line"><span class="comment">// permissions described in the GCC Runtime Library Exception, version</span></span><br><span class="line"><span class="comment">// 3.1, as published by the Free Software Foundation.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// You should have received a copy of the GNU General Public License and</span></span><br><span class="line"><span class="comment">// a copy of the GCC Runtime Library Exception along with this program;</span></span><br><span class="line"><span class="comment">// see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see</span></span><br><span class="line"><span class="comment">// &lt;http://www.gnu.org/licenses/&gt;.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/** @file stdc++.h</span></span><br><span class="line"><span class="comment"> *  This is an implementation file for a precompiled header.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 17.4.1.2 Headers</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _GLIBCXX_NO_ASSERT</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cerrno&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfloat&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ciso646&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;clocale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csetjmp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csignal&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdarg&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstddef&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ccomplex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfenv&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cinttypes&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdbool&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctgmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwchar&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C++</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ios&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iosfwd&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;istream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;new&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;streambuf&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;valarray&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;forward_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ratio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;regex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;scoped_allocator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;system_error&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeindex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><p>å› ä¸ºæ˜¯ç›´æ¥åœ¨åº”ç”¨æ–‡ä»¶å¤¹é‡Œæ”¹çš„ï¼Œä¸çŸ¥é“ä»¥åæ›´æ–°è½¯ä»¶åä¼šä¸ä¼šæ¶ˆå¤±ï¼Œä¸è¿‡åˆ°æ—¶å€™åœ¨è¯´å§ï¼Œæ·»åŠ æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°†æœ¬æœºipv6åœ°å€å¤åˆ¶åˆ°ç²˜è´´æ¿è„šæœ¬</title>
      <link href="/2024/05/08/%E5%B0%86%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80%E5%A4%8D%E5%88%B6%E5%88%B0%E7%B2%98%E8%B4%B4%E6%9D%BF%E8%84%9A%E6%9C%AC/"/>
      <url>/2024/05/08/%E5%B0%86%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80%E5%A4%8D%E5%88%B6%E5%88%B0%E7%B2%98%E8%B4%B4%E6%9D%BF%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="å°†æœ¬æœºipv6åœ°å€å¤åˆ¶åˆ°ç²˜è´´æ¿è„šæœ¬"><a href="#å°†æœ¬æœºipv6åœ°å€å¤åˆ¶åˆ°ç²˜è´´æ¿è„šæœ¬" class="headerlink" title="å°†æœ¬æœºipv6åœ°å€å¤åˆ¶åˆ°ç²˜è´´æ¿è„šæœ¬"></a>å°†æœ¬æœºipv6åœ°å€å¤åˆ¶åˆ°ç²˜è´´æ¿è„šæœ¬</h1><p>å‡†ç¡®çš„æ¥è¯´æ˜¯å°†windowsä¸»æœºçš„ipv6åœ°å€å¤åˆ¶åˆ°ç²˜è´´æ¿ä¸Šçš„<code>powershell</code>è„šæœ¬ã€‚å› ä¸ºæœ‰æ—¶å€™éœ€è¦è¿œç¨‹è¿æ¥æˆ‘è‡ªå·±çš„R9000pï¼Œæ‰€ä»¥ä¸å…¶æ¯æ¬¡å¼€æœºå»å‘½ä»¤è¡Œè¿è¡Œ<code>ipconfig</code>ï¼Œä¸å¦‚ç›´æ¥å¤åˆ¶åˆ°ç²˜è´´æ¿é‡Œï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥æ‰“å¼€é‚®ä»¶å°†åœ°å€å‘é€å‡ºå»ã€‚æœ¬æ¥æƒ³å†™ä¸€ä¸ªä¸€ä»¶å‘é€ipv6åœ°å€åˆ°æŒ‡å®šé‚®ç®±çš„è„šæœ¬ï¼Œä½†æ˜¯å¥½åƒå¾ˆéº»çƒ¦ï¼Œå°±ç®—äº†ã€‚ä»£ç ç”±chatgptç”Ÿæˆï¼Œå†æ ¹æ®æˆ‘çš„å®é™…æƒ…å†µæ”¹å†™çš„ã€‚  </p><h2 id="è®¾å¤‡é…ç½®"><a href="#è®¾å¤‡é…ç½®" class="headerlink" title="è®¾å¤‡é…ç½®"></a>è®¾å¤‡é…ç½®</h2><p>windowsä¸ºwin11ï¼Œç”±äºå­¦æ ¡æ ¡å›­ç½‘æ¯”è¾ƒç‰¹æ®Šï¼Œä½¿ç”¨çš„æ˜¯æ‹¨å·ä¸Šç½‘ï¼Œæ‹¨å·åç§°æˆ‘è®¾ç½®æˆäº†<code>DIANXIN</code>ã€‚  </p><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ<code>ipconfig</code>åä¼šæ˜¾ç¤ºå¾ˆå¤šç½‘ç»œé€‚é…å™¨ï¼Œå…¶ä¸­æˆ‘éœ€è¦çš„æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Windows IP Configuration</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PPP adapter DIANXIN:</span><br><span class="line"></span><br><span class="line">Connection-specific DNS Suffix  . :</span><br><span class="line">IPv6 Address. . . . . . . . . . . : 240e:360:40b:200:XXXX:XXXX:fc48:XXX</span><br><span class="line">Link-local IPv6 Address . . . . . : fe80::XXXX:XXXX:fc48:XXX%64</span><br><span class="line">IPv4 Address. . . . . . . . . . . : XXX.XX.XXX.XX</span><br><span class="line">Subnet Mask . . . . . . . . . . . : 255.255.255.XXX</span><br><span class="line">Default Gateway . . . . . . . . . : XXXX::ce1a:XXXX:XXXX:bf80%64</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>IPv6 Address</code>æ˜¯æˆ‘æƒ³è¦çš„ã€‚</p><h2 id="è„šæœ¬ä»£ç "><a href="#è„šæœ¬ä»£ç " class="headerlink" title="è„šæœ¬ä»£ç "></a>è„šæœ¬ä»£ç </h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–ç½‘ç»œé€‚é…å™¨çš„å…¨å±€ IPv6 åœ°å€</span></span><br><span class="line"><span class="variable">$ipv6Addresses</span> = (<span class="built_in">Get-NetIPAddress</span> <span class="literal">-AddressFamily</span> IPv6 | </span><br><span class="line">                  <span class="built_in">Where-Object</span> &#123; <span class="variable">$_</span>.InterfaceAlias <span class="operator">-eq</span> <span class="string">&quot;DIANXIN&quot;</span> <span class="operator">-and</span> <span class="variable">$_</span>.PrefixOrigin <span class="operator">-ne</span> <span class="string">&quot;LinkLayerAddress&quot;</span> &#125;).IPAddress</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç¬¬äºŒä¸ªå…¨å±€ IPv6 åœ°å€</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$ipv6Addresses</span>.Count <span class="operator">-ge</span> <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="variable">$ipv6Address</span> = <span class="variable">$ipv6Addresses</span>[<span class="number">1</span>]  <span class="comment"># ç¬¬äºŒä¸ªåœ°å€çš„ç´¢å¼•ä¸º 1</span></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Second IPv6 Address: <span class="variable">$ipv6Address</span>&quot;</span></span><br><span class="line">    <span class="variable">$ipv6Address</span> | <span class="built_in">Set-Clipboard</span>  <span class="comment"># å°† IPv6 åœ°å€å¤åˆ¶åˆ°å‰ªè´´æ¿</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Second IPv6 Address not found for specified network adapter.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h2><ol><li><p><code>$ipv6Addresses = (Get-NetIPAddress -AddressFamily IPv6 | Where-Object &#123; $_.InterfaceAlias -eq &quot;DIANXIN&quot; -and $_.PrefixOrigin -ne &quot;LinkLayerAddress&quot; &#125;).IPAddress</code>ï¼š<br>è¿™è¡Œä»£ç è·å–ç‰¹å®šç½‘ç»œé€‚é…å™¨ï¼ˆInterfaceAliasä¸ºâ€DIANXINâ€ï¼‰çš„å…¨å±€ IPv6 åœ°å€ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ <code>$ipv6Addresses</code> å˜é‡ä¸­ã€‚</p></li><li><p><code>if ($ipv6Addresses.Count -ge 2) &#123;</code>ï¼š<br>è¿™æ˜¯ä¸€ä¸ªæ¡ä»¶è¯­å¥ï¼Œç”¨äºæ£€æŸ¥å˜é‡ <code>$ipv6Addresses</code> ä¸­å­˜å‚¨çš„ IPv6 åœ°å€æ•°é‡æ˜¯å¦è‡³å°‘ä¸º 2ã€‚</p></li><li><p><code>$ipv6Address = $ipv6Addresses[1]</code>ï¼š<br>å¦‚æœå­˜åœ¨è‡³å°‘ä¸¤ä¸ª IPv6 åœ°å€ï¼Œé‚£ä¹ˆè¿™è¡Œä»£ç å°†ç¬¬äºŒä¸ª IPv6 åœ°å€ï¼ˆç´¢å¼•ä¸º 1ï¼‰å­˜å‚¨åœ¨ <code>$ipv6Address</code> å˜é‡ä¸­ã€‚</p></li><li><p><code>Write-Host &quot;Second IPv6 Address: $ipv6Address&quot;</code>ï¼š<br>è¿™è¡Œä»£ç è¾“å‡ºç¬¬äºŒä¸ª IPv6 åœ°å€åˆ°æ§åˆ¶å°ï¼Œå¹¶åœ¨å‰é¢æ·»åŠ ä¸€æ¡æ¶ˆæ¯ â€œSecond IPv6 Address: â€œã€‚</p></li><li><p><code>$ipv6Address | Set-Clipboard</code>ï¼š<br>è¿™è¡Œä»£ç å°†ç¬¬äºŒä¸ª IPv6 åœ°å€å¤åˆ¶åˆ°å‰ªè´´æ¿ä¸­ï¼Œä»¥ä¾¿å°†å…¶ç²˜è´´åˆ°å…¶ä»–åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚</p></li><li><p><code>&#125; else &#123;</code>ï¼š<br>è¿™æ˜¯æ¡ä»¶è¯­å¥çš„ç»“å°¾ï¼Œç”¨äºå¤„ç†å½“ IPv6 åœ°å€æ•°é‡å°äº 2 æ—¶çš„æƒ…å†µã€‚</p></li><li><p><code>Write-Host &quot;Second IPv6 Address not found for specified network adapter.&quot;</code>ï¼š<br>å¦‚æœ IPv6 åœ°å€æ•°é‡å°äº 2ï¼Œé‚£ä¹ˆè¿™è¡Œä»£ç è¾“å‡ºä¸€æ¡æ¶ˆæ¯åˆ°æ§åˆ¶å°ï¼Œæç¤ºæ‰¾ä¸åˆ°ç¬¬äºŒä¸ª IPv6 åœ°å€ã€‚</p></li><li><p><code>Read-Host -Prompt &quot;Press Enter to exit&quot;</code>ï¼š<br>è¿™è¡Œä»£ç åœ¨è„šæœ¬æ‰§è¡Œå®Œæ¯•åç­‰å¾…ç”¨æˆ·æŒ‰ä¸‹ Enter é”®ï¼Œä»¥ä¿æŒ PowerShell ä¼šè¯å¤„äºæ‰“å¼€çŠ¶æ€ã€‚</p></li></ol><p>å› ä¸ºè„šæœ¬ä¼šè·å–åˆ°ä¸¤ä¸ª<code>ipv6</code>åœ°å€ï¼Œä¸€ä¸ªå†…ç½‘åœ°å€å’Œä¸€ä¸ªå¤–ç½‘åœ°å€ï¼Œå¤–ç½‘åœ°å€æ˜¯ç¬¬äºŒä¸ªï¼Œæ‰€ä»¥é€‰æ‹©äº†ç¬¬äºŒä¸ªåœ°å€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ipv6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Project 1: Data Structures</title>
      <link href="/2024/05/05/Project-1-Data-Structures/"/>
      <url>/2024/05/05/Project-1-Data-Structures/</url>
      
        <content type="html"><![CDATA[<h1 id="Project-1-Data-Structures"><a href="#Project-1-Data-Structures" class="headerlink" title="Project 1: Data Structures"></a>Project 1: Data Structures</h1><h2 id="ç±»å€¼çš„ç›¸ç­‰åˆ¤æ–­æ°¸è¿œç”¨-equals-è€Œä¸æ˜¯"><a href="#ç±»å€¼çš„ç›¸ç­‰åˆ¤æ–­æ°¸è¿œç”¨-equals-è€Œä¸æ˜¯" class="headerlink" title="ç±»å€¼çš„ç›¸ç­‰åˆ¤æ–­æ°¸è¿œç”¨.equals()è€Œä¸æ˜¯=="></a><strong>ç±»å€¼çš„ç›¸ç­‰åˆ¤æ–­æ°¸è¿œç”¨<code>.equals()</code>è€Œä¸æ˜¯<code>==</code></strong></h2><p>èŠ±äº†è¿‘ä¸¤å¤©çš„æ—¶é—´ç»ˆäºæ˜¯æŠŠProbject 1 å®Œæˆäº†ï¼Œå®Œæˆäº†<code>LinkedListDeque</code>å’Œ<code>ArrayDeque</code>ä¸¤ç§å®ç°çš„<code>Deque</code>ã€‚åœ¨æ­¤å°±ä¸å†èµ˜è¿°æ•°æ®ç»“æ„çš„å®ç°æ–¹æ³•ï¼Œ<a href="https://github.com/WHFF521/skeleton-sp21/tree/master/proj1">ä»£ç åœ°å€</a>  </p><p>é‚£ä¹ˆæˆ‘è¦å†™ä¸€äº›ä»€ä¹ˆå‘¢ï¼Ÿå†™ä¸€äº›æˆ‘é‡åˆ°çš„é—®é¢˜å’Œbugã€‚  </p><p><strong>è¿™ä¸ªbugå®åœ¨æ˜¯ä»¤äººç«å¤§ï¼Œè¿™æœ¬æ˜¯ä¸åº”è¯¥å‡ºç°çš„é”™è¯¯</strong>  </p><p>æ­£å¦‚äºŒçº§æ ‡é¢˜æ‰€è¯´çš„ï¼Œ<strong>ç±»å€¼çš„ç›¸ç­‰åˆ¤æ–­æ°¸è¿œç”¨<code>.equals()</code>è€Œä¸æ˜¯<code>==</code></strong>ã€‚è€Œä¸”å€¼å¾—é“­è®°çš„æ˜¯ï¼Œ<strong>æµ‹è¯•æ–‡ä»¶ä¸€å®šè¦æ‰©å¤§æ•°æ®è§„æ¨¡</strong>ï¼Œå› ä¸ºæ‰©å¤§è§„æ¨¡çœŸçš„ä¼šå‘ç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚</p><p>äº‹æƒ…çš„èµ·å› æ˜¯<code>public boolean equals(Object o)</code>è¿™ä¸ªå‡½æ•°ï¼Œå¯¹äºä¸€ä¸ªè‡ªå·±å®ç°çš„æ•°æ®ç±»ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¾ˆæœ‰<code>Override</code>çš„å¿…è¦çš„ã€‚å› ä¸ºä¸¤ç§æ•°æ®ç±»åŸºæœ¬ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘åªç”¨<code>LinkedListDeque</code>ä¸¾ä¾‹ã€‚  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* check if two deques are equal</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> o</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> true if they are equal, false otherwise</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Deque)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Deque&lt;?&gt; other = (Deque&lt;?&gt;) o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.size() != other.size()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="built_in">this</span>.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.get(i)!=other.get(i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç æ˜¯æœ‰bugçš„ï¼Œæˆ‘å†™çš„æ—¶å€™è¿™ç§æ˜¯çœŸçš„å¾ˆéš¾æ³¨æ„åˆ°ã€‚ä½ æœ‰å¯èƒ½ä¹Ÿæ²¡æœ‰æ³¨æ„åˆ°ï¼Œæ¥ä¸‹æ¥æ˜¯<code>get()</code>å‡½æ•°çš„å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> index</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> the item at the given index, if no such item exists, return null</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> T <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="built_in">this</span>.size) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">current</span> <span class="operator">=</span> sentinal.next;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">        current = current.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> current.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå…¶å®å°±å·²ç»èƒ½çœ‹æ¸…æ¥šé—®é¢˜æ‰€åœ¨äº†ï¼Œ<code>get()</code>å‡½æ•°è¿”å›çš„æ˜¯ç±»å‹<code>T</code>ï¼Œæ˜¯ä»»æ„å°è£…ç±»ï¼Œå¹¶ä¸æ˜¯åŸºç¡€æ•°æ®ç±»å‹ã€‚ä¼—æ‰€å‘¨çŸ¥Javaåœ¨æ¯”å¯¹ç±»æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œ<code>==</code>æ“ä½œç¬¦é»˜è®¤æ˜¯æ¯”å¯¹ç±»çš„åœ°å€æ˜¯å¦ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯çœ‹å¯¹æ–¹æ˜¯å¦æ˜¯è‡ªå·±ã€‚æ˜¾ç„¶æˆ‘ä»¬å¹¶ä¸æƒ³è¿™ä¹ˆåšï¼Œæˆ‘ä»¬éœ€è¦æ¯”å¯¹çš„æ˜¯å†…éƒ¨å­˜å‚¨çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚å°±åƒåå¼ ç™¾å…ƒé’ç¥¨å’Œå¦å¤–åå¼ ç™¾å…ƒé’ç¥¨ï¼Œéƒ½æ˜¯ä¸€åƒå…ƒï¼Œä»£è¡¨çš„ä»·å€¼æ˜¯ç›¸åŒçš„ï¼Œè€Œä¸æ˜¯å› ä¸ºé’ç¥¨ç¼–å·ä¸åŒæ‰€ä»¥è¡¨ç¤ºè¿™ä¸¤å †é’ç¥¨æ˜¯ä¸ç›¸ç­‰çš„ã€‚  </p><p>ç›¸ä¿¡å­¦ä¹ è¿‡CS61Bè¯¾ç¨‹çš„åŒå­¦éƒ½å·²ç»æœ‰äº†å†™æµ‹è¯•ä»£ç çš„å¥½ä¹ æƒ¯ã€‚æˆ‘ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½†æ˜¯å¾ˆé—æ†¾çš„æ˜¯å°½ç®¡æˆ‘å†™äº†<code>junit</code>æµ‹è¯•ï¼Œä¹Ÿå¹¶æ²¡æœ‰æŸ¥å‡ºæ¥è¿™ä¸ªbugã€‚ä»¥ä¸‹æ˜¯æˆ‘ä¸€å¼€å§‹å†™çš„æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEquals</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld1 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld2 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">    lld1.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertFalse(lld1.equals(lld2));</span><br><span class="line">    lld2.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¯çš„ï¼Œæµ‹è¯•å¾ˆå®¹æ˜“çš„é€šè¿‡äº†ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œå°±è¦å¼•å…¥å¤§åé¼é¼çš„<code>IntegerCache</code>äº†ã€‚</p><blockquote><p><code>IntegerCache</code>æ˜¯Javaä¸­çš„ä¸€ä¸ªç±»ï¼Œå®ƒæ˜¯ç”¨äºç¼“å­˜Integerå¯¹è±¡çš„ä¸€ä¸ªå†…éƒ¨ç±»ã€‚åœ¨Javaä¸­ï¼Œç”±äºIntegeræ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¸€äº›æ•´æ•°å€¼åœ¨ä¸€å®šèŒƒå›´å†…æ˜¯ç»å¸¸ä½¿ç”¨çš„ï¼Œä¸ºäº†æé«˜æ€§èƒ½å’ŒèŠ‚çœå†…å­˜ï¼ŒJavaä½¿ç”¨äº†IntegerCacheæ¥ç¼“å­˜ä¸€äº›å¸¸ç”¨çš„æ•´æ•°å¯¹è±¡ã€‚<br>åœ¨Javaä¸­ï¼Œå¯¹äºæ•°å€¼åœ¨[-128, 127]èŒƒå›´å†…çš„Integerå¯¹è±¡ï¼Œå¦‚æœé€šè¿‡è‡ªåŠ¨è£…ç®±çš„æ–¹å¼åˆ›å»ºï¼Œä¼šç›´æ¥ä½¿ç”¨<code>IntegerCache</code>ä¸­å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚è¿™æ ·åšå¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºæ–°çš„Integerå¯¹è±¡ï¼Œæé«˜äº†æ€§èƒ½å’ŒèŠ‚çœäº†å†…å­˜ã€‚<br>ä¾‹å¦‚ï¼Œå½“ä½ é€šè¿‡<code>Integer.valueOf()</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ•´æ•°å€¼åœ¨[-128, 127]èŒƒå›´å†…çš„Integerå¯¹è±¡æ—¶ï¼Œå¦‚æœè¯¥å€¼åœ¨<code>IntegerCache</code>ä¸­å·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„å¯¹è±¡ï¼Œè€Œä¸ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚<br>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§ç¼“å­˜æœºåˆ¶åªé€‚ç”¨äºæ•´æ•°å€¼åœ¨[-128, 127]èŒƒå›´å†…çš„æƒ…å†µï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„æ•´æ•°å€¼ä»ç„¶ä¼šåˆ›å»ºæ–°çš„Integerå¯¹è±¡ã€‚</p></blockquote><p>å› ä¸º<code>IntegerCache</code>çš„åŸå› ï¼Œè™½ç„¶æˆ‘å‘ä¸¤ä¸ª<code>Deque</code>åˆ†åˆ«å¡å…¥äº†<code>Ingeter 1</code>ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™ä¸¤ä¸ª1åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œ<del>ç¼–å·ä¸€æ ·çš„é’ç¥¨çœŸçš„ä¸æ˜¯å‡é’å—ğŸ˜‚</del></p><p>æ‰€ä»¥æ­£ç¡®çš„æµ‹è¯•åº”è¯¥æ‰©å¤§æ•°æ®è§„æ¨¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEquals</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld1 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    LinkedListDeque&lt;Integer&gt; lld2 = <span class="keyword">new</span> <span class="title class_">LinkedListDeque</span>&lt;&gt;();</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">    lld1.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertFalse(lld1.equals(lld2));</span><br><span class="line">    lld2.addFirst(<span class="number">1</span>);</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++) &#123;</span><br><span class="line">        lld1.addFirst(i);</span><br><span class="line">        lld2.addFirst(i);</span><br><span class="line">    &#125;</span><br><span class="line">    assertTrue(lld1.equals(lld2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å› ä¸ºæ•°æ®è¶…è¿‡äº†128ï¼Œæ˜¾ç„¶ä»¥å‰çš„ä»£ç æ˜¯æ— æ³•é€šè¿‡è¿™ä¸ªä»£ç çš„ã€‚åœ¨è¿™é‡Œè´´å‡ºä¿®æ”¹åæ­£ç¡®çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Deque)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Deque&lt;?&gt; other = (Deque&lt;?&gt;) o;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.size() != other.size()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="built_in">this</span>.size(); i++) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">a</span> <span class="operator">=</span> <span class="built_in">this</span>.get(i);</span><br><span class="line">            <span class="type">Object</span> <span class="variable">b</span> <span class="operator">=</span> other.get(i);</span><br><span class="line">            <span class="keyword">if</span> (!a.equals(b)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›´æ¥è°ƒç”¨<code>T</code>æœ¬èº«çš„<code>equals()</code>æ–¹æ³•å³å¯ï¼Œ<del>è¿™æ ·å³ä½¿è¿˜æ˜¯é€šä¸è¿‡æµ‹è¯•çš„è¯é‚£ä¹Ÿä¸æ˜¯å’±ä»¬ä»£ç çš„é”™äº†</del>ã€‚</p><h2 id="style-é—®é¢˜"><a href="#style-é—®é¢˜" class="headerlink" title="style é—®é¢˜"></a>style é—®é¢˜</h2><p>è¿™ä¸ª<code>Project 1</code>è¿˜æŒºæœ‰æ„æ€çš„ï¼Œå®ç°å®Œæ•°æ®ç±»åè¿˜è¦ç”¨è‡ªå·±å†™çš„æ•°æ®ç±»å»å¼¹å‰ä»–ã€‚ä½†æ˜¯åœ¨æ­¤é¡¹ç›®ä¸­ï¼Œcode çš„ style æœ‰ä¸¥æ ¼çš„è¦æ±‚ï¼Œç¬¬ä¸€æ¬¡äº¤ä»£ç çš„æ—¶å€™ä¸€å…± 640 points å› ä¸º style æ²¡æœ‰æŒ‰ç…§è¦æ±‚ç«Ÿç„¶æ‰£äº†å¤§çº¦ 84 pointsï¼Œã€‚ã€‚ã€‚ã€‚<br>ä½†æ˜¯å¤§å¯ä¸å¿…é˜…è¯»é‚£é•¿é•¿çš„ style è¦æ±‚ï¼Œåªéœ€è¦æŠŠ IDEA çš„è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç æ‰“å¼€å³å¯ã€‚å…·ä½“ä½ç½®æ˜¯<code>Settings -&gt; Tools -&gt; Actions on Save -&gt; Reformat code</code>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CS61B 21sp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Codeforces Round 943 (Div. 3) A-E solutions</title>
      <link href="/2024/05/03/Codeforces-Round-943-Div-3-A-E-solutions/"/>
      <url>/2024/05/03/Codeforces-Round-943-Div-3-A-E-solutions/</url>
      
        <content type="html"><![CDATA[<h1 id="Codeforces-Round-943-Div-3"><a href="#Codeforces-Round-943-Div-3" class="headerlink" title="Codeforces Round 943 (Div. 3)"></a>Codeforces Round 943 (Div. 3)</h1><p>In this competition, I just got three Accepted.<br><strong><a href="https://codeforces.com/contest/1968">Competition Address</a></strong></p><h2 id="A-Maximize"><a href="#A-Maximize" class="headerlink" title="A. Maximize?"></a>A. Maximize?</h2><p>The meaning of the question is to find maximum of gcd(x,y)+y when gives you x.<br>My solution is to  have a linear search. Enough to pass this question.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">gcd</span>(b,a%b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> temp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;x;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">gcd</span>(i,x)+i&gt;ans)&#123;</span><br><span class="line">                temp = i;</span><br><span class="line">                ans = <span class="built_in">gcd</span>(i,x)+i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>But the real answer is <code>x-1</code>,it need some mathematical derivationsã€‚</p><h2 id="B-Prefiquence"><a href="#B-Prefiquence" class="headerlink" title="B. Prefiquence"></a>B. Prefiquence</h2><p>Give you two 01 strings named a and b, find the max length of prefix of a which is a subsequence of b.<br>I worte a Binary search and passed it.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string a,b;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> len)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len&gt;b.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    string temp = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        temp+=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;b.<span class="built_in">size</span>();j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k&gt;=temp.<span class="built_in">size</span>()) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(b[j]==temp[k])&#123;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k==temp.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> lena,lenb;</span><br><span class="line">        cin&gt;&gt;lena&gt;&gt;lenb;</span><br><span class="line">        </span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        string temp=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> l=<span class="number">0</span>,r=lena;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="type">int</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">check</span>(mid))&#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                l = mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> r = mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;r&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>But last night I must have something wrong in my head. It obviously didnâ€™t need a binary search. The better solution is to use two iterators and linear search.<br>The better code is below.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string a,b;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> lena,lenb;</span><br><span class="line">        cin&gt;&gt;lena&gt;&gt;lenb;</span><br><span class="line">        </span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;lena&amp;&amp;j&lt;lenb)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]==b[j])&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="C-Assembly-via-Remainders"><a href="#C-Assembly-via-Remainders" class="headerlink" title="C. Assembly via Remainders"></a>C. Assembly via Remainders</h2><p>An array: x<sub>1</sub>,x<sub>2</sub>,â€¦,x<sub>n</sub>, find any array a<sub>1</sub>,a<sub>2</sub>,a<sub>3</sub>,â€¦,a<sub>n</sub>, that a<sub>i</sub>%a<sub>i-1</sub> = x<sub>i</sub>, i : 2~n.  </p><p>Solution: take a number that is bigger than any number in x array, the number is a<sub>1</sub>, and next is a<sub>1</sub>+x<sub>2</sub>â€¦<br>Notice that 1 &lt;= x<sub>i</sub> &lt;= 500, you can just take 501 as the first number.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> x[<span class="number">550</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="type">int</span> mi=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;x[i];</span><br><span class="line">            mi = <span class="built_in">max</span>(x[i],mi);</span><br><span class="line">        &#125;</span><br><span class="line">        x[<span class="number">1</span>]=mi+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            x[i]=x[i<span class="number">-1</span>]+x[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cout&lt;&lt;x[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="D-Permutation-Game"><a href="#D-Permutation-Game" class="headerlink" title="D. Permutation Game"></a>D. Permutation Game</h2><p>A permutation of length ğ‘› is an array consisting of ğ‘› distinct integers from 1 to ğ‘› in arbitrary order.  </p><p>Two people, Bodya and Sasha, play the game which has k turns. Both of them are trying to win. Each turn, they get score in their current position. They can decide to move from x to p<sub>x</sub> or stay in current position.  </p><p>Of course you will get the first position of them.  </p><p>The key of the solution is that you move from x to p<sub>x</sub>,itâ€™s acturally a circle. What we need to do is to traverse this circle once. ans = max (ans,sum<sub>i</sub> + (k-i)a<sub>pos<sub>i</sub>&lt;/sub&gt;).</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">ll <span class="title">score</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp;p,vector&lt;<span class="type">int</span>&gt;&amp;a,<span class="type">int</span> pos,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">vis</span><span class="params">(p.size())</span></span>;</span><br><span class="line">    <span class="keyword">while</span>(!vis[pos]&amp;&amp;k&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        vis[pos]=<span class="literal">true</span>;</span><br><span class="line">        ans = <span class="built_in">max</span>(ans,sum+<span class="number">1LL</span>*k*a[pos]);</span><br><span class="line">        sum+=a[pos];</span><br><span class="line">        pos=p[pos];</span><br><span class="line">        k--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="type">int</span> n,k,pb,ps;</span><br><span class="line">        cin&gt;&gt;n&gt;&gt;k&gt;&gt;pb&gt;&gt;ps;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(n)</span>,<span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;pi:p)&#123;</span><br><span class="line">            cin&gt;&gt;pi;</span><br><span class="line">            pi-=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;ai:a)&#123;</span><br><span class="line">            cin&gt;&gt;ai;</span><br><span class="line">        &#125;</span><br><span class="line">        ll Bodya=<span class="built_in">score</span>(p,a,pb<span class="number">-1</span>,k);</span><br><span class="line">        ll Sasha=<span class="built_in">score</span>(p,a,ps<span class="number">-1</span>,k);</span><br><span class="line">cout&lt;&lt;(Bodya&gt;Sasha?<span class="string">&quot;Bodya\n&quot;</span>:Bodya&lt;Sasha?<span class="string">&quot;Sasha\n&quot;</span>:<span class="string">&quot;Draw\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="E-Cells-Arrangement"><a href="#E-Cells-Arrangement" class="headerlink" title="E. Cells Arrangement"></a>E. Cells Arrangement</h2><p>A n*n grid, find n cells that maximize Manhattan distances between any pair of the cells.<br>Official solutions:  </p><blockquote><p>Can you generalize the pattern? We put ğ‘›âˆ’2 cells on the main diagonal. Then put two cells at (ğ‘›âˆ’1,ğ‘›) and (ğ‘›,ğ‘›).<br>But why does it work? Interesting fact, that in such way we generate all possible Manhattan distances.<br>Odd distances are generated between cells from the main diagonal and (ğ‘›âˆ’1,ğ‘›).<br>Even distances are generated between cells from the main diagonal and (ğ‘›,ğ‘›). </p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin&gt;&gt;t;</span><br><span class="line"><span class="keyword">while</span>(t--)&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-2</span>;i++)&#123;</span><br><span class="line">cout&lt;&lt;i&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;n<span class="number">-1</span>&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;n&lt;&lt;<span class="string">&quot;\n&quot;</span>&lt;&lt;n&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;n&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="F-Equal-XOR-Segments"><a href="#F-Equal-XOR-Segments" class="headerlink" title="F. Equal XOR Segments"></a>F. <a href="https://codeforces.com/contest/1968/problem/F">Equal XOR Segments</a></h2><p>Too hard for me to understand,sorry.</p><h2 id="G1-Division-LCP-easy-version"><a href="#G1-Division-LCP-easy-version" class="headerlink" title="G1. Division + LCP (easy version)"></a>G1. <a href="https://codeforces.com/contest/1968/problem/G1">Division + LCP (easy version)</a></h2><p>Too hard for me to understand,sorry.</p><h2 id="G2-Division-LCP-hard-version"><a href="#G2-Division-LCP-hard-version" class="headerlink" title="G2. Division + LCP (hard version)"></a>G2. <a href="https://codeforces.com/contest/1968/problem/G2">Division + LCP (hard version)</a></h2><p>Too hard for me to understand,sorry.</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Codeforces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spotifyç¾åŒ–</title>
      <link href="/2024/04/25/spotify%E7%BE%8E%E5%8C%96/"/>
      <url>/2024/04/25/spotify%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºäºspicetify-cliå¯¹Spotifyè¿›è¡Œå®¢åˆ¶åŒ–"><a href="#åŸºäºspicetify-cliå¯¹Spotifyè¿›è¡Œå®¢åˆ¶åŒ–" class="headerlink" title="åŸºäºspicetify-cliå¯¹Spotifyè¿›è¡Œå®¢åˆ¶åŒ–"></a>åŸºäº<code>spicetify-cli</code>å¯¹Spotifyè¿›è¡Œå®¢åˆ¶åŒ–</h1><h2 id="ä»€ä¹ˆæ˜¯spicetify-cli"><a href="#ä»€ä¹ˆæ˜¯spicetify-cli" class="headerlink" title="ä»€ä¹ˆæ˜¯spicetify-cli"></a>ä»€ä¹ˆæ˜¯<code>spicetify-cli</code></h2><ul><li><a href="https://github.com/spicetify/spicetify-cli">spicetifyä»“åº“åœ°å€</a>  </li><li><a href="https://spicetify.app/docs/getting-started">å®˜ç½‘Doc</a>  <blockquote><p>Command-line tool to customize the official Spotify client. Supports Windows, MacOS and Linux.</p></blockquote></li></ul><p>ä»“åº“readmeæ˜ç¡®è¯´æ˜äº†è¿™æ˜¯ç”¨äºå®šåˆ¶å®˜æ–¹å®¢æˆ·ç«¯çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ä½†æ˜¯åœ¨å®˜ç½‘Docçš„å®‰è£…æ•™ç¨‹é‡Œé¢å´æ²¡æœ‰è¯´æ¸…æ¥šï¼Œè¿™æ ·ä¼šå¸¦æ¥å¾ˆå¤šçš„éº»çƒ¦ã€‚</p><h2 id="åœ¨å®‰è£…ä¹‹å‰ä½ å¿…é¡»è¦åšçš„äº‹æƒ…ï¼š"><a href="#åœ¨å®‰è£…ä¹‹å‰ä½ å¿…é¡»è¦åšçš„äº‹æƒ…ï¼š" class="headerlink" title="åœ¨å®‰è£…ä¹‹å‰ä½ å¿…é¡»è¦åšçš„äº‹æƒ…ï¼š"></a>åœ¨å®‰è£…ä¹‹å‰ä½ å¿…é¡»è¦åšçš„äº‹æƒ…ï¼š</h2><ul><li>ç¡®ä¿ç”µè„‘å·²ç»<strong>å®‰è£…äº†spotifyå®˜æ–¹å®¢æˆ·ç«¯</strong>ï¼Œå› ä¸ºspicetifyåªæ˜¯ç¾åŒ–å·¥å…·è€Œä¸åŒ…å«å®¢æˆ·ç«¯</li><li>ç¡®ä¿å·²ç»<strong>ç™»é™†äº†ä¸ªäººè´¦å·</strong>ï¼Œæ–°å®‰è£…çš„spotifyå®¢æˆ·ç«¯åœ¨ç™»é™†ä¹‹å‰<code>prefs</code>æ–‡ä»¶å¹¶ä¸ä¼šåˆ›å»ºï¼Œä¼šå¯¼è‡´spicetifyæ‰¾ä¸åˆ°è·¯å¾„è€ŒæŠ¥é”™ã€‚</li><li>é»˜è®¤ä½ å·²ç»è§£å†³äº†æ‰€æœ‰å…³äºç½‘ç»œçš„é—®é¢˜</li></ul><h2 id="macOSå®‰è£…æ­¥éª¤"><a href="#macOSå®‰è£…æ­¥éª¤" class="headerlink" title="macOSå®‰è£…æ­¥éª¤"></a>macOSå®‰è£…æ­¥éª¤</h2><p>è‹¥å®‰è£…æ­¥éª¤æœ‰é—®é¢˜æˆ–è€…æ˜¯å…¶ä»–æ“ä½œç³»ç»Ÿï¼Œä½ å¯ä»¥ç›´æ¥å»å®˜ç½‘DocæŸ¥çœ‹æœ€æ–°çš„å®‰è£…æ­¥éª¤ã€‚</p><ul><li><p>Spicetify CLI(å·¥å…·æœ¬èº«)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://raw.githubusercontent.com/spicetify/spicetify-cli/master/install.sh | sh</span><br></pre></td></tr></table></figure></li><li><p>Spicetify Marketplace(åœ¨uiä¸­æ˜¾ç¤ºå¸‚åœºï¼Œä¸€å®šç¨‹åº¦ä¸Šå‡è½»å‘½ä»¤è¡Œæ“ä½œ)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/install.sh | sh</span><br></pre></td></tr></table></figure></li><li><p>å¸è½½å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spicetify restore</span><br><span class="line">rm -rf ~/.spicetify</span><br><span class="line">rm -rf ~/.config/spicetify</span><br></pre></td></tr></table></figure><h2 id="å…·ä½“ä½¿ç”¨"><a href="#å…·ä½“ä½¿ç”¨" class="headerlink" title="å…·ä½“ä½¿ç”¨"></a>å…·ä½“ä½¿ç”¨</h2><p>åœ¨æ­¤è´´å‡ºæˆ‘<a href="https://www.cnblogs.com/hui-tong/p/18065055">å‚è€ƒçš„åšå®¢</a>ã€‚  </p></li><li><p>æˆ‘ä½¿ç”¨çš„ä¸»é¢˜ï¼š<code>Sleek</code><br><img src="https://raw.githubusercontent.com/spicetify/spicetify-themes/master/Sleek/wealthy.png" alt="Sleek"></p></li><li><p>æˆ‘ä½¿ç”¨çš„æ’ä»¶ï¼š</p><ul><li><code>lyrics-plus</code> æ­Œè¯å¼ºåŒ–ï¼Œä»å„ç§æºä¸­æœå¯»å½“å‰æ­Œçš„æ­Œè¯ã€‚  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spicetify config custom_apps lyrics-plus   </span><br><span class="line">spicetify apply</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="è®©macæ‹¥æœ‰æ¡Œé¢æ­Œè¯"><a href="#è®©macæ‹¥æœ‰æ¡Œé¢æ­Œè¯" class="headerlink" title="è®©macæ‹¥æœ‰æ¡Œé¢æ­Œè¯"></a>è®©macæ‹¥æœ‰æ¡Œé¢æ­Œè¯</h2><p><a href="https://github.com/ddddxxx/LyricsX">LyricsX</a><br>ç›´æ¥ç”¨<code>homebrew</code>å®‰è£…ï¼š<code>brew install --cask lyricsx</code>ã€‚<br>å®‰è£…åï¼Œæ‰“å¼€ï¼Œç‚¹å‡»å³ä¸Šè§’<code>LyricsX</code>å›¾æ ‡ï¼Œé€‰æ‹©<code>Preferences</code>ï¼Œå°†é»˜è®¤éŸ³ä¹æ’­æ”¾å™¨æ”¹ä¸º<code>spotify</code>å³å¯ï¼Œæ’­æ”¾æ­Œæ›²çš„æ—¶å€™ä¼šè‡ªåŠ¨åŒ¹é…ã€‚<br><img src="https://raw.githubusercontent.com/ddddxxx/LyricsX/master/docs/img/desktop_lyrics.gif" alt="lyricsx"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spotify </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºåšå®¢æ·»åŠ RSSï¼Œsitemapå’Œæœ¬åœ°æœç´¢</title>
      <link href="/2024/04/23/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0RSS%EF%BC%8Csitemap%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/"/>
      <url>/2024/04/23/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0RSS%EF%BC%8Csitemap%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="åšå®¢çš„ä¸€äº›é…ç½®æ€»ç»“"><a href="#åšå®¢çš„ä¸€äº›é…ç½®æ€»ç»“" class="headerlink" title="åšå®¢çš„ä¸€äº›é…ç½®æ€»ç»“"></a>åšå®¢çš„ä¸€äº›é…ç½®æ€»ç»“</h1><h2 id="æ·»åŠ RSS"><a href="#æ·»åŠ RSS" class="headerlink" title="æ·»åŠ RSS"></a>æ·»åŠ RSS</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p>åœ¨<code>_config.yml</code> é‡Œæ·»åŠ ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">icon.png</span></span><br><span class="line">  <span class="attr">autodiscovery:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">template:</span></span><br></pre></td></tr></table></figure><br>å…¶ä¸­<code>limit</code>æŒ‡æºé‡Œä¿å­˜çš„æ–‡ç« ä¸ªæ•°ï¼Œ<code>content_limit</code>æŒ‡summaryçš„é•¿åº¦ã€‚<br>å¦‚æœæƒ³è¦æ·»åŠ RSSå›¾æ ‡ï¼Œå¯åœ¨<code>butterfly</code>ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.yml</code>é‡Œï¼Œ<code>social:</code>åæ·»åŠ <code>fas fa-rss: /atom.xml || RSS || &#39;#f26522&#39;</code>,è¿™æ ·RSSå›¾æ ‡å°±ä¼šå‡ºç°åœ¨å³è¾¹å¤´åƒä¸‹è¾¹</p><h2 id="æ·»åŠ sitemap"><a href="#æ·»åŠ sitemap" class="headerlink" title="æ·»åŠ sitemap"></a>æ·»åŠ sitemap</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>æ ¹ç›®å½•<code>_config.yml</code>é‡Œæ·»åŠ ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugin:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-sitemap</span></span><br></pre></td></tr></table></figure><br>é…ç½®æˆåŠŸæ ‡å¿—ï¼šgenerateåç”Ÿæˆ<code>sitemap.xml</code></p><h2 id="æ·»åŠ æœ¬åœ°æœç´¢"><a href="#æ·»åŠ æœ¬åœ°æœç´¢" class="headerlink" title="æ·»åŠ æœ¬åœ°æœç´¢"></a>æ·»åŠ æœ¬åœ°æœç´¢</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>æˆ‘ç”¨çš„<code>butterfly</code>ä¸»é¢˜ï¼Œç›´æ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œæ›´æ”¹ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure></p><h2 id="webhook"><a href="#webhook" class="headerlink" title="webhook"></a>webhook</h2><p>åœ¨æ­¤è´´å‡ºå‚è€ƒåšå®¢<a href="https://blog.haysc.tech/hexo-feed-setup/">here</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Project 0: 2048</title>
      <link href="/2024/04/22/Project-0-2048/"/>
      <url>/2024/04/22/Project-0-2048/</url>
      
        <content type="html"><![CDATA[<h1 id="Project-0-2048"><a href="#Project-0-2048" class="headerlink" title="Project 0: 2048"></a><a href="https://sp21.datastructur.es/materials/proj/proj0/proj0">Project 0: 2048</a></h1><p>åœ¨è¿™é‡Œè´´ä¸€ä¸ªçº¿ä¸Š2048çš„ç½‘ç«™ï¼Œ<a href="https://play2048.co/">link</a><br><strong>æ•´ä½“ä»£ç ä»“åº“ï¼š<a href="https://github.com/WHFF521/skeleton-sp21">github</a></strong></p><h2 id="TASK-1-emptySpaceExists-Board-b"><a href="#TASK-1-emptySpaceExists-Board-b" class="headerlink" title="TASK 1: emptySpaceExists(Board b)"></a>TASK 1: emptySpaceExists(Board b)</h2><p>ç®€å•æ¥è¯´å°±æ˜¯æ£€æµ‹é¢æ¿ä¸Šæ˜¯å¦è¿˜æœ‰æ²¡æœ‰æ•°çš„åœ°æ–¹ã€‚ç›´æ¥O(n)éå†ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Returns true if at least one space on the Board is empty.</span></span><br><span class="line"><span class="comment"> *  Empty spaces are stored as null.</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">emptySpaceExists</span><span class="params">(Board b)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j)==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="TASK-2-maxTileExists-Board-b"><a href="#TASK-2-maxTileExists-Board-b" class="headerlink" title="TASK 2: maxTileExists(Board b)"></a>TASK 2: maxTileExists(Board b)</h2><p>æ˜¯å¦æœ‰æ•°å­—å·²ç»ç­‰äº2048ã€‚å’Œä¸Šé¢ä¸€æ ·éå†å³å¯ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns true if any tile is equal to the maximum valid value.</span></span><br><span class="line"><span class="comment"> * Maximum valid value is given by MAX_PIECE. Note that</span></span><br><span class="line"><span class="comment"> * given a Tile object t, we get its value with t.value().</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">maxTileExists</span><span class="params">(Board b)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j)==<span class="literal">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j).value()==MAX_PIECE) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="TASK-3-atLeastOneMoveExists-Board-b"><a href="#TASK-3-atLeastOneMoveExists-Board-b" class="headerlink" title="TASK 3: atLeastOneMoveExists(Board b)"></a>TASK 3: atLeastOneMoveExists(Board b)</h2><p>ç”¨æˆ·èµ·ç è¿˜èƒ½å†èµ°ä¸€æ­¥çš„æ£€æµ‹å‡½æ•°ã€‚é¦–å…ˆå°±æ˜¯å¦‚æœæœ‰ç©ºæ ¼å­ä¸€å®šå¯ä»¥èµ°ï¼Œå…¶æ¬¡æ˜¯å¦‚æœæœ‰ç›¸é‚»çš„æ•°ç›¸åŒä¹Ÿå¯ä»¥èµ°ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns true if there are any valid moves on the board.</span></span><br><span class="line"><span class="comment"> * There are two ways that there can be valid moves:</span></span><br><span class="line"><span class="comment"> * 1. There is at least one empty space on the board.</span></span><br><span class="line"><span class="comment"> * 2. There are two adjacent tiles with the same value.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">atLeastOneMoveExists</span><span class="params">(Board b)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dx = &#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> b.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.tile(i,j)==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i+dx[k];</span><br><span class="line">                    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> j+dy[k];</span><br><span class="line">                    <span class="keyword">if</span>(x&lt;<span class="number">0</span>||x&gt;=length||y&lt;<span class="number">0</span>||y&gt;=length) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(b.tile(x,y)==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span>(b.tile(x,y).value()==b.tile(i,j).value()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="TASK4-Main-Task-Building-the-Game-Logic"><a href="#TASK4-Main-Task-Building-the-Game-Logic" class="headerlink" title="TASK4: Main Task: Building the Game Logic"></a>TASK4: Main Task: Building the Game Logic</h2><p>æœ€ä¸»è¦çš„é€»è¾‘éƒ¨åˆ†ã€‚ä¸»è¦å®ç°äº†æ ¹æ®ä¸åŒæ–¹å‘è¿›è¡Œ<code>move</code>æ“ä½œï¼Œä½¿å¾—æ•°å­—å‘æŒ‡å®šæ–¹å‘ç§»åŠ¨å¹¶åˆå¹¶ã€‚<br>ä¸»è¦è§„åˆ™ï¼š  </p><ul><li>åœ¨ä¸€æ¬¡æ•´ä½“ç§»åŠ¨ä¸­ï¼Œå¦‚æœä¸¤ä¸ªæ•°åˆå¹¶è¿‡äº†ï¼Œé‚£ä¹ˆå°±ä¸èƒ½å’Œå…¶ä»–æ•°å­—è¿›è¡Œåˆå¹¶ã€‚</li><li>æ¯ä¸€æ¬¡åˆå¹¶å¾—åˆ°çš„å€¼ä¹Ÿæ˜¯ç©å®¶å¾—åˆ°çš„åˆ†æ•°ã€‚  </li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>  </p><ol><li>åˆ†å››ä¸ªæ–¹å‘è¿›è¡Œï¼Œå…ˆå®Œæˆ<code>NORTH</code>æ–¹å‘çš„ç§»åŠ¨ï¼Œå…¶ä»–æ–¹å‘ç…§çŒ«ç”»è™å³å¯ã€‚</li><li>æ ¹æ®ç§»åŠ¨æ–¹å‘é€‰æ‹©éå†çš„æ¬¡åºï¼Œå¦‚å‘ä¸Šç§»åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦ä»æœ€ä¸Šæ–¹ä¸€è¡Œè¿›è¡Œéå†ï¼Œç§»åŠ¨åä¿è¯æœ€ä¸Šæ–¹æ²¡æœ‰ç©ºæ ¼å­å‡ºç°ã€‚</li><li>å¯¹äºå·²ç»åˆå¹¶çš„ä½ç½®è¿›è¡Œæ ‡è®°ï¼Œç”¨<code>merge[][]</code>è¿›è¡Œäº†æ ‡è®°ã€‚</li><li>å¯¹äºæ¯ä¸ªå·²ç»ç§»åŠ¨çš„æ–¹å—ï¼Œè¦åŠæ—¶<code>break</code>é€€å‡º</li><li>ç”±äºå‘æŒ‡å®šæ–¹å‘ç§»åŠ¨çš„æ—¶å€™åªæœ‰åœ¨æœç´¢åˆ°æœ‰æ•°å­—çš„æ ¼å­æ‰è¿›è¡Œåˆ¤æ–­å¹¶ç§»åŠ¨ï¼Œç”¨<code>nullTileRow</code>å’Œ<code>nullTileCol</code>è¿›è¡Œè®°å½•ç©ºæ ¼å­çš„ä½ç½®ï¼Œé˜²æ­¢æ ¼å­çš„æŒ‡å®šæ–¹å‘ä¸Šåªæœ‰ç©ºæ ¼å­çš„æ–¹å‘è€Œæ²¡æœ‰è¿›è¡Œç§»åŠ¨çš„æƒ…å†µå‘ç”Ÿã€‚</li><li>æ¯å½“<code>move</code>æ‰§è¡Œéƒ½è¦æ›´æ”¹<code>changed</code>ä¸º<code>true</code>ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Tilt the board toward SIDE. Return true iff this changes the board.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 1. If two Tile objects are adjacent in the direction of motion and have</span></span><br><span class="line"><span class="comment"> *    the same value, they are merged into one Tile of twice the original</span></span><br><span class="line"><span class="comment"> *    value and that new value is added to the score instance variable</span></span><br><span class="line"><span class="comment"> * 2. A tile that is the result of a merge will not merge again on that</span></span><br><span class="line"><span class="comment"> *    tilt. So each move, every tile will only ever be part of at most one</span></span><br><span class="line"><span class="comment"> *    merge (perhaps zero).</span></span><br><span class="line"><span class="comment"> * 3. When three adjacent tiles in the direction of motion have the same</span></span><br><span class="line"><span class="comment"> *    value, then the leading two tiles in the direction of motion merge,</span></span><br><span class="line"><span class="comment"> *    and the trailing tile does not.</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">tilt</span><span class="params">(Side side)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> changed;</span><br><span class="line">    changed = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> Modify this.board (and perhaps this.score) to account</span></span><br><span class="line">    <span class="comment">// for the tilt to the Side SIDE. If the board changed, set the</span></span><br><span class="line">    <span class="comment">// changed local variable to true.</span></span><br><span class="line">    <span class="type">boolean</span>[][] merge = <span class="keyword">new</span> <span class="title class_">boolean</span>[board.size()][board.size()];</span><br><span class="line">    <span class="keyword">if</span>(side==Side.NORTH)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> <span class="number">0</span>; col &lt; board.size(); col++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; row &gt;= <span class="number">0</span>; row--)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileRow=row;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> row+<span class="number">1</span>; k &lt;=<span class="number">3</span>; k++)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(col, k);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileRow = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[col][k])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k-<span class="number">1</span>!=row)&#123;</span><br><span class="line">                                    board.move(col,k-<span class="number">1</span>,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(col,k,t);</span><br><span class="line">                                merge[col][k]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileRow!=row) &#123;</span><br><span class="line">                            board.move(col,nullTileRow,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(side==Side.SOUTH)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> <span class="number">0</span>; col &lt; board.size(); col++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> <span class="number">0</span>; row &lt; board.size(); row++)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileRow=row;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> row-<span class="number">1</span>; k &gt;=<span class="number">0</span>; k--)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(col, k);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileRow = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[col][k])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k+<span class="number">1</span>!=row)&#123;</span><br><span class="line">                                    board.move(col,k+<span class="number">1</span>,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(col,k,t);</span><br><span class="line">                                merge[col][k]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileRow!=row) &#123;</span><br><span class="line">                            board.move(col,nullTileRow,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(side==Side.WEST)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> <span class="number">0</span>; col &lt; board.size(); col++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; row &gt;= <span class="number">0</span>; row--)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileCol=col;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> col-<span class="number">1</span>; k &gt;= <span class="number">0</span>; k--)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(k, row);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileCol = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[k][row])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k+<span class="number">1</span>!=col)&#123;</span><br><span class="line">                                    board.move(k+<span class="number">1</span>,row,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(k,row,t);</span><br><span class="line">                                merge[k][row]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileCol!=col) &#123;</span><br><span class="line">                            board.move(nullTileCol,row,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(side==Side.EAST)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; col &gt;= <span class="number">0</span>; col--)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> board.size()-<span class="number">1</span>; row &gt;= <span class="number">0</span>; row--)&#123;</span><br><span class="line">                <span class="type">Tile</span> <span class="variable">t</span> <span class="operator">=</span> board.tile(col, row);</span><br><span class="line">                <span class="keyword">if</span>(t!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="type">int</span> nullTileCol=col;</span><br><span class="line">                    <span class="type">boolean</span> tchanged=<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> col+<span class="number">1</span>; k &lt; board.size(); k++)&#123;</span><br><span class="line">                        <span class="type">Tile</span> <span class="variable">above</span> <span class="operator">=</span> board.tile(k, row);</span><br><span class="line">                        <span class="keyword">if</span>(above==<span class="literal">null</span>)&#123;</span><br><span class="line">                            nullTileCol = k;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(above.value()!=t.value()||merge[k][row])&#123;</span><br><span class="line">                                <span class="keyword">if</span>(k-<span class="number">1</span>!=col)&#123;</span><br><span class="line">                                    board.move(k-<span class="number">1</span>,row,t);</span><br><span class="line">                                    changed = <span class="literal">true</span>;</span><br><span class="line">                                    tchanged=<span class="literal">true</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                board.move(k,row,t);</span><br><span class="line">                                merge[k][row]=<span class="literal">true</span>;</span><br><span class="line">                                <span class="built_in">this</span>.score += t.value()*<span class="number">2</span>;</span><br><span class="line">                                changed = <span class="literal">true</span>;</span><br><span class="line">                                tchanged=<span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(!tchanged)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(nullTileCol!=col) &#123;</span><br><span class="line">                            board.move(nullTileCol,row,t);</span><br><span class="line">                            changed = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    checkGameOver();</span><br><span class="line">    <span class="keyword">if</span> (changed) &#123;</span><br><span class="line">        setChanged();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> changed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2>è¿™æ˜¯CS61B 21spçš„ç¬¬0ä¸ªprojectï¼Œæ­£å¦‚è€å¸ˆè¯´çš„é‚£æ ·ï¼Œæ€è€ƒè¿‡ç¨‹çš„é‡è¦æ€§æ˜¯å¤§äºä»£ç ç¼–å†™çš„ã€‚æˆ‘å®Œæˆè¿™ä¸ªé¡¹ç›®ä¹Ÿæ˜¯èŠ±äº†å‡ ä¸ªå°æ—¶çš„æ—¶é—´ï¼ˆä»ä¸€å¼€å§‹çœ‹æè¿°åˆ°å®Œæˆï¼Œä¼°è®¡å¾—6ä¸ªå¤šå°æ—¶ï¼‰ã€‚2048ä½œä¸º<code>Oier</code>ä»¬å–œé—»ä¹è§çš„æ¸¸æˆï¼Œæ²¡æƒ³åˆ°æˆ‘ä¹Ÿèƒ½è¿›è¡Œäº²æ‰‹ç¼–å†™ã€‚å¾ˆæœŸå¾…æ¥ä¸‹æ¥çš„projectã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CS61B 21sp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell ç›¸å…³</title>
      <link href="/2024/04/16/shell-%E7%9B%B8%E5%85%B3/"/>
      <url>/2024/04/16/shell-%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<p><a href="https://youtu.be/Z56Jmr9Z34Q?si=_VH1jttQRmA_-t82">Lecture 1: Course Overview + The Shell (2020)</a><br><a href="https://missing-semester-cn.github.io/2020/course-shell/">å¯¹åº”ä¸­æ–‡ç½‘ç«™</a></p><ul><li><code>date</code> æŸ¥çœ‹æ—¶é—´</li><li><code>echo Hello\ World</code> è¾“å‡ºHello World</li><li><code>echo $path</code>  æŸ¥çœ‹ç”µè„‘æœ‰å“ªäº›è·¯å¾„</li><li><code>which echo</code>  æŸ¥çœ‹echoå‘½ä»¤ä¼šæ‰§è¡Œå“ªé‡Œçš„æ–‡ä»¶</li><li><code>pwd</code> Print Working Directoryï¼Œå³æ‰“å°å½“å‰å·¥ä½œç›®å½•</li><li><code>cd ./home</code>  æ‰“å¼€å½“å‰ç›®å½•ä¸‹homeæ–‡ä»¶å¤¹</li><li><code>ls</code> â€œlistâ€ çš„ç¼©å†™ï¼Œè¡¨ç¤ºåˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶å’Œå­ç›®å½•</li><li><code>cd</code> ||<code>cd ~</code>  take you home </li><li><code>cd -</code>  è¿”å›åˆšæ‰æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œå¸¸ç”¨äºcd ~ å</li><li><code>ls -l</code> é•¿æ ¼å¼æ˜¾ç¤ºç›®å½•å†…å®¹,åŒ…æ‹¬æ–‡ä»¶æƒé™ã€æ‰€æœ‰è€…ã€æ–‡ä»¶å¤§å°ã€æœ€åä¿®æ”¹æ—¶é—´ç­‰</li><li><code>mv file.txt newfile.txt</code> é‡æ–°å‘½åæ–‡ä»¶</li><li><code>mv file.txt directory/</code> ç§»åŠ¨æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ä¸­</li><li><code>cp file.txt directory/</code> å¤åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šæ–‡ä»¶å¤¹</li><li><code>cp file.txt directory/newfile.txt</code> å¤åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šæ–‡ä»¶å¤¹å¹¶é‡å‘½å</li><li><code>rm file.txt</code> åˆ é™¤æŒ‡å®šæ–‡ä»¶ï¼Œä¸èƒ½åˆ é™¤æ–‡ä»¶å¤¹åŠé‡Œé¢çš„å†…å®¹</li><li><code>rm -r directory</code> åˆ é™¤æŒ‡å®šæ–‡ä»¶å¤¹åŠå…¶å†…å®¹ï¼Œèƒ½è¿›è¡Œé€’å½’åˆ é™¤</li><li><code>rmdir</code> ä»…èƒ½åˆ é™¤ç©ºæ–‡ä»¶å¤¹</li><li><code>mkdir My\ Photos</code> åˆ›å»ºMy Photosæ–‡ä»¶å¤¹ï¼Œæˆ–è€…ç”¨åŒå¼•å·åŒ…å›´å¸¦ç©ºæ ¼çš„åç§°<ul><li><code>mkdir My Photos</code> åˆ›å»ºMyæ–‡ä»¶å¤¹å’ŒPhotosæ–‡ä»¶å¤¹</li></ul></li><li><code>ctrl</code>+<code>l</code> clear your terminal and go back to the top</li><li><p><code>&gt; file</code>å’Œ<code>&lt; file</code><br>  <code>&gt; file</code> å’Œ <code>&lt;file</code> é‡å®šå‘ç¬¦å·ï¼Œç”¨äºè¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶ã€‚</p><ul><li><p><code>&gt;</code> ç¬¦å·ç”¨äºå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ä¾‹å¦‚ï¼Œ<code>ls &gt; file.txt</code> å°† <code>ls</code> å‘½ä»¤çš„è¾“å‡ºå†™å…¥åˆ° <code>file.txt</code> æ–‡ä»¶ä¸­ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨åˆ™è¦†ç›–åŸæœ‰å†…å®¹ã€‚</p></li><li><p><code>&lt;</code> ç¬¦å·ç”¨äºå°†ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ä½œä¸ºè¾“å…¥æä¾›ç»™å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ<code>cat &lt; file.txt</code> å°† <code>file.txt</code> æ–‡ä»¶çš„å†…å®¹ä½œä¸º <code>cat</code> å‘½ä»¤çš„è¾“å…¥ï¼Œ<code>cat</code> å‘½ä»¤ä¼šå°†æ–‡ä»¶çš„å†…å®¹è¾“å‡ºåˆ°ç»ˆç«¯ä¸Šã€‚</p></li></ul></li><li><code>cat filename</code> æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚  <ul><li><code>cat</code> å‘½ä»¤è¿˜æœ‰ä¸€äº›å¸¸ç”¨çš„é€‰é¡¹ï¼Œä¾‹å¦‚ <code>-n</code> é€‰é¡¹ç”¨äºæ˜¾ç¤ºè¡Œå·ï¼Œ<code>-b</code> é€‰é¡¹ç”¨äºæ˜¾ç¤ºéç©ºè¡Œçš„è¡Œå·ï¼Œ<code>-E</code> é€‰é¡¹ç”¨äºåœ¨æ¯è¡Œçš„æœ«å°¾æ˜¾ç¤ºä¸€ä¸ª <code>$</code> ç¬¦å·ç­‰ã€‚</li><li><code>cat &lt; hello.txt &gt; hello2.txt</code> å°†<code>hello.txt</code>çš„å†…å®¹è¦†ç›–å†™å…¥<code>hello2.txt</code><br>-<code>cat &lt; hello.txt &gt;&gt; hello2.txt</code> å°†å†…å®¹appendåˆ°<code>hello2.txt</code></li></ul></li><li><code>ls -l | tail -n1</code> å…¶ä¸­ <code>|</code> ç»„æˆå‘½ä»¤è¡Œç®¡é“ï¼Œç”¨äºå°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥</li><li><code>sudo su</code> åˆ‡æ¢ä¸ºrootç”¨æˆ·</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tarjanç®—æ³•</title>
      <link href="/2024/04/15/tarjan%E7%AE%97%E6%B3%95/"/>
      <url>/2024/04/15/tarjan%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="tarjan-ç®—æ³•ï¼ˆTarjanâ€™s-strongly-connected-components-algorithmï¼‰"><a href="#tarjan-ç®—æ³•ï¼ˆTarjanâ€™s-strongly-connected-components-algorithmï¼‰" class="headerlink" title="tarjan ç®—æ³•ï¼ˆTarjanâ€™s strongly connected components algorithmï¼‰"></a>tarjan ç®—æ³•ï¼ˆTarjanâ€™s strongly connected components algorithmï¼‰</h1><p><a href="https://youtu.be/wUgWX0nc4NY?si=pbuZzimi3Nep-z36">å¾ˆæ£’çš„è§£é‡Šè§†é¢‘</a></p><h2 id="ç®€è¿°ç®—æ³•"><a href="#ç®€è¿°ç®—æ³•" class="headerlink" title="ç®€è¿°ç®—æ³•"></a>ç®€è¿°ç®—æ³•</h2><p>Tarjan ç®—æ³•æ˜¯ä¸€ç§ç”¨äºæŸ¥æ‰¾å›¾ä¸­å¼ºè¿é€šåˆ†é‡çš„ç®—æ³•ï¼Œç”± Robert Tarjan åœ¨ 1972 å¹´æå‡ºã€‚å¼ºè¿é€šåˆ†é‡æ˜¯æŒ‡åœ¨æœ‰å‘å›¾ä¸­ï¼Œå¦‚æœä»é¡¶ç‚¹ u åˆ°é¡¶ç‚¹ v ä»¥åŠä»é¡¶ç‚¹ v åˆ°é¡¶ç‚¹ u éƒ½å­˜åœ¨ä¸€æ¡è·¯å¾„ï¼Œé‚£ä¹ˆé¡¶ç‚¹ u å’Œé¡¶ç‚¹ v æ˜¯å¼ºè¿é€šçš„ã€‚</p><p>Tarjan ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†å›¾ï¼Œå¹¶ä½¿ç”¨å †æ ˆæ¥è¿½è¸ªæœç´¢è¿‡ç¨‹ä¸­çš„é¡¶ç‚¹ã€‚åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ¯ä¸ªé¡¶ç‚¹è¿›è¡Œæ ‡è®°ï¼Œè®°å½•å…¶åœ¨æœç´¢æ ‘ä¸­çš„æ·±åº¦å’Œæœ€å°åå‘è¾¹çš„æ·±åº¦ã€‚å¦‚æœå‘ç°æŸä¸ªé¡¶ç‚¹çš„åç»§èŠ‚ç‚¹æŒ‡å‘äº†ä¸€ä¸ªå·²ç»è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¶ç‚¹åŠå…¶æ‰€æœ‰åç»§èŠ‚ç‚¹æ„æˆä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ã€‚</p><p>Tarjan ç®—æ³•çš„å…³é”®ç‚¹åœ¨äºç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œç”¨æ¥ä¿å­˜æ­£åœ¨æœç´¢çš„èŠ‚ç‚¹ã€‚å½“ DFS éå†è¿‡ç¨‹ä¸­å‘ç°ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰åç»§èŠ‚ç‚¹å·²ç»æœç´¢å®Œæ¯•ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹æ˜¯å½“å‰ DFS æœç´¢æ ‘ä¸­çš„æ ¹èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥å°†è¯¥èŠ‚ç‚¹ä»¥åŠå…¶æ‰€æœ‰åç»§èŠ‚ç‚¹å¼¹å‡ºæ ˆï¼Œå¹¶å°†å®ƒä»¬æ ‡è®°ä¸ºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ã€‚</p><p>Tarjan ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(V + E)ï¼Œå…¶ä¸­ V è¡¨ç¤ºå›¾ä¸­çš„é¡¶ç‚¹æ•°ï¼ŒE è¡¨ç¤ºå›¾ä¸­çš„è¾¹æ•°ã€‚ç”±äºåªéœ€è¦ä¸€æ¬¡ DFS éå†å³å¯æ‰¾åˆ°æ‰€æœ‰çš„å¼ºè¿é€šåˆ†é‡ï¼Œå› æ­¤ Tarjan ç®—æ³•æ˜¯ä¸€ç§é«˜æ•ˆçš„å¼ºè¿é€šåˆ†é‡æŸ¥æ‰¾ç®—æ³•ã€‚</p><h2 id="ä¸ªäººç†è§£"><a href="#ä¸ªäººç†è§£" class="headerlink" title="ä¸ªäººç†è§£"></a>ä¸ªäººç†è§£</h2><p>é¦–å…ˆä»€ä¹ˆæ˜¯<strong>å¼ºè¿é€šåˆ†é‡</strong>ã€‚å°±æ˜¯æœ‰å‘å›¾ä¸­ä¸€äº›ç‚¹ï¼Œå¦‚æœæ¯ä¸¤ä¸ªç‚¹ä¹‹é—´äº’ç›¸éƒ½æœ‰ä¸€æ¡åˆ°è¾¾å¯¹æ–¹çš„é“è·¯ï¼Œé‚£ä¹ˆè¿™äº›ç‚¹å°±ç»„æˆäº†å¼ºè¿é€šåˆ†é‡ï¼ˆStrongly Connected Componentï¼Œç®€ç§° SCCï¼‰ã€‚  </p><p>æˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸ºæ¯ä¸€ä¸ªSCCå°±æ˜¯ä¸€ä¸ªå®¶åº­ï¼Œå¦‚æœé€æŠ¥çº¸çš„è¯åªéœ€è¦ç»™å®¶åº­ä¸­ä»»æ„ä¸€ä¸ªäººå°±è¡Œäº†ï¼Œå› ä¸ºä»–ä»¬æ¯ä¸ªäººéƒ½å¯ä»¥åœ¨çœ‹å®ŒæŠ¥çº¸åé€’ç»™å¦ä¸€ä¸ªå®¶äººã€‚æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥è¿›è¡Œ<strong>ç¼©ç‚¹</strong>äº†ã€‚ä»ä¹‹å‰äººä¸äººä¹‹é—´çš„è”ç³»ä¸Šå‡åˆ°å®¶åº­ä¸å®¶åº­ä¹‹é—´çš„å…³ç³»ã€‚ä½†æ˜¯å› ä¸ºæ˜¯æœ‰å‘å›¾ï¼ŒSCCä¹‹é—´å¯èƒ½æœ‰è¾¹ç›¸è¿ï¼Œä½†æ˜¯æ˜¯å•å‘çš„ï¼Œæ‰€ä»¥å®¶åº­ä¹‹é—´å¹¶ä¸èƒ½åˆå¹¶ä¸ºåŒä¸€ä¸ªSCCã€‚ä½†æ˜¯åœ¨ä¸€ä¸ªå®¶åº­æ‰€æœ‰æˆå‘˜è¯»å®ŒæŠ¥çº¸åå¯ä»¥å§”æ‰˜ä¸€ä¸ªæœ‰å‡ºè¾¹çš„äººå»æŠŠæŠ¥çº¸ç»™é‚»å±…ï¼ˆå¦ä¸€ä¸ªSCCï¼‰ã€‚  </p><h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><p>åœ¨æ­¤å¹¶ä¸è¯æ˜ç®—æ³•çš„æ­£ç¡®æ€§ã€‚ç°åœ¨åªèŠä¸€èŠç®—æ³•æ˜¯æ€ä¹ˆå®ç°çš„ã€‚  </p><p>é¦–å…ˆå°±æ˜¯<code>dfn[]</code>å’Œ<code>low[]</code>æ•°ç»„ã€‚å¯¹äºå›¾çš„éå†é€‰æ‹©dfsï¼ˆDepth-First Searchï¼‰ã€‚<code>dfn[]</code>æ•°ç»„è®°å½•éå†ç‚¹çš„æ¬¡åºã€‚é€šå¸¸ä¸ºæ¯éå†åˆ°ä¸€ä¸ªç‚¹ï¼Œè®¡æ•°å™¨+1ï¼Œæ­¤ç‚¹çš„<code>dfn</code>å€¼å³ä¸ºè®¡æ•°å™¨çš„å€¼ã€‚è€Œ<code>low[]</code>æ•°ç»„åˆ™ä¸ºè®°å½•è¯¥ç‚¹ä»¥åŠå…¶å­èŠ‚ç‚¹æœ€å°çš„<code>dfn</code>å€¼ã€‚  </p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦çŸ¥é“æ¯ä¸ªSCCä¸­æˆå‘˜éƒ½æœ‰è°ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨éå†ç‚¹çš„åŒæ—¶å†å°†ç‚¹å‹å…¥æ ˆ<code>stack s</code>å†…ã€‚åŒæ—¶æˆ‘ä»¬éœ€è¦çŸ¥é“è¯¥ç‚¹æ˜¯å¦åœ¨æ ˆå†…ï¼Œå®šä¹‰ä¸€ä¸ªè®°å½•æ•°ç»„<code>onStack[]</code>,å¦‚æœèŠ‚ç‚¹<code>i</code>åœ¨æ ˆå†…ï¼Œé‚£ä¹ˆ<code>onStack[i]=1</code>ã€‚å¦‚æœç‚¹çš„æ ‡å€¼ä¸æ˜¯ä»<code>1~n</code>è¿ç»­çš„ï¼Œå¯èƒ½éœ€è¦<code>hash</code>å¤„ç†ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬åœ¨å›è¿‡å¤´è®¨è®º<code>dfn</code>å’Œ<code>low</code>ã€‚å¯¹äºä¸åœ¨æ ˆå†…çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥<code>low[u]=min(low[u],low[v])</code>è¿›è¡Œæ›´æ–°ã€‚å…¶ä¸­<code>u</code>ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œ<code>v</code>ä¸º<code>u</code>çš„å­èŠ‚ç‚¹ã€‚å¯¹äºå·²ç»åœ¨æ ˆå†…çš„å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬é€šè¿‡<code>low[u]=min(low[u],dfn[v])</code>æ›´æ–°ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡æœ‰å‘å›¾ä¸­è¾¹ä¸€ç›´å¾€å‰å†²ï¼Œçªç„¶æœ‰ä¸€ä¸ªè¾¹æ˜¯å¾€å›èµ°çš„ï¼Œè¿™æ ·å°±ä¼šè¿æ¥åˆ°åˆšæ‰å·²ç»éå†è¿‡çš„ç‚¹ï¼ˆå¯èƒ½å½¢æˆä¸€ä¸ªç¯ï¼‰ï¼Œä½†æ˜¯è¿™ç§è¾¹æˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯å¦è¿æ¥åˆ°äº†å¦ä¸€ä¸ªSCCï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®°å½•ç‚¹æ˜¯å¦åœ¨æ ˆå†…ï¼Œå¦‚æœåœ¨æ ˆå†…è¯´æ˜ä¸¤ä¸ªç‚¹å±äºåŒä¸€ä¸ªSCCï¼Œæ‰€ä»¥å¯ä»¥æ›´æ–°ï¼Œå¦‚æœä¸åœ¨ï¼Œå°±ä¸èƒ½æ›´æ–°å½“å‰ç‚¹çš„<code>low</code>å€¼ã€‚  </p><p><strong>æ•°æ®å‡ºæ ˆ</strong>ã€‚å¯¹äºéå†å®Œæ‰€æœ‰å­èŠ‚ç‚¹çš„ç‚¹æ¥è¯´ï¼Œå¦‚æœ<code>dfn[u]==low[u]</code>é‚£ä¹ˆè¯´æ˜è¿™æ˜¯ä¸€ä¸ªSCCã€‚æ ˆå†…ç‚¹ä¸€ä¸ªä¸ªå‡ºæ ˆç›´åˆ°å½“å‰ç‚¹å‡ºæ ˆï¼Œå‡ºæ ˆçš„æ‰€æœ‰ç‚¹å³ä¸ºä¸€ä¸ªSCCçš„æ‰€æœ‰ç‚¹ã€‚å®šä¹‰<code>sccs[]</code>æ•°ç»„è®°å½•ç‚¹æ‰€å±äºçš„SCCã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="java"><a href="#java" class="headerlink" title="java"></a>java</h3><p><a href="https://github.com/williamfiset/Algorithms/blob/da50861a53fc2f6642cfc7d82c285166f41d03e2/src/main/java/com/williamfiset/algorithms/graphtheory/TarjanSccSolverAdjacencyList.java">æ‘˜è‡ªgithub</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * An implementation of Tarjan&#x27;s Strongly Connected Components algorithm using an adjacency list.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Verified against:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;ul&gt;</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;https://open.kattis.com/problems/equivalences</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;https://open.kattis.com/problems/runningmom</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;https://www.hackerearth.com/practice/algorithms/graphs/strongly-connected-components/tutorial</span></span><br><span class="line"><span class="comment"> * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Time complexity: O(V+E)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> William Fiset, william.alexandre.fiset@gmail.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> com.williamfiset.algorithms.graphtheory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.min;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TarjanSccSolverAdjacencyList</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line">  <span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; graph;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span> solved;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> sccCount, id;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span>[] visited;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span>[] ids, low, sccs;</span><br><span class="line">  <span class="keyword">private</span> Deque&lt;Integer&gt; stack;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">UNVISITED</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">TarjanSccSolverAdjacencyList</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (graph == <span class="literal">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Graph cannot be null.&quot;</span>);</span><br><span class="line">    n = graph.size();</span><br><span class="line">    <span class="built_in">this</span>.graph = graph;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Returns the number of strongly connected components in the graph.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sccCount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!solved) solve();</span><br><span class="line">    <span class="keyword">return</span> sccCount;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Get the connected components of this graph. If two indexes</span></span><br><span class="line">  <span class="comment">// have the same value then they&#x27;re in the same SCC.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span>[] getSccs() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!solved) solve();</span><br><span class="line">    <span class="keyword">return</span> sccs;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (solved) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    ids = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    low = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    sccs = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    Arrays.fill(ids, UNVISITED);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ids[i] == UNVISITED) &#123;</span><br><span class="line">        dfs(i);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    solved = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> at)</span> &#123;</span><br><span class="line">    ids[at] = low[at] = id++;</span><br><span class="line">    stack.push(at);</span><br><span class="line">    visited[at] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> to : graph.get(at)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ids[to] == UNVISITED) &#123;</span><br><span class="line">        dfs(to);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (visited[to]) &#123;</span><br><span class="line">        low[at] = min(low[at], low[to]);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">       TODO(william): investigate whether the proper way to update the lowlinks</span></span><br><span class="line"><span class="comment">       is the following bit of code. From my experience this doesn&#x27;t seem to</span></span><br><span class="line"><span class="comment">       matter if the output is placed in a separate output array, but this needs</span></span><br><span class="line"><span class="comment">       further investigation.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       if (ids[to] == UNVISITED) &#123;</span></span><br><span class="line"><span class="comment">         dfs(to);</span></span><br><span class="line"><span class="comment">         low[at] = min(low[at], low[to]);</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       if (visited[to]) &#123;</span></span><br><span class="line"><span class="comment">         low[at] = min(low[at], ids[to]);</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// On recursive callback, if we&#x27;re at the root node (start of SCC)</span></span><br><span class="line">    <span class="comment">// empty the seen stack until back to root.</span></span><br><span class="line">    <span class="keyword">if</span> (ids[at] == low[at]) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop(); ; node = stack.pop()) &#123;</span><br><span class="line">        visited[node] = <span class="literal">false</span>;</span><br><span class="line">        sccs[node] = sccCount;</span><br><span class="line">        <span class="keyword">if</span> (node == at) <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      sccCount++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Initializes adjacency list with n nodes.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">createGraph</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) graph.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> graph;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Adds a directed edge from node &#x27;from&#x27; to node &#x27;to&#x27;</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">addEdge</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="type">int</span> from, <span class="type">int</span> to)</span> &#123;</span><br><span class="line">    graph.get(from).add(to);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Example usage: */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] arg)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = createGraph(n);</span><br><span class="line"></span><br><span class="line">    addEdge(graph, <span class="number">6</span>, <span class="number">0</span>);</span><br><span class="line">    addEdge(graph, <span class="number">6</span>, <span class="number">2</span>);</span><br><span class="line">    addEdge(graph, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    addEdge(graph, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line">    addEdge(graph, <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">    addEdge(graph, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    addEdge(graph, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">    addEdge(graph, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">    addEdge(graph, <span class="number">3</span>, <span class="number">7</span>);</span><br><span class="line">    addEdge(graph, <span class="number">7</span>, <span class="number">5</span>);</span><br><span class="line">    addEdge(graph, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">    addEdge(graph, <span class="number">7</span>, <span class="number">3</span>);</span><br><span class="line">    addEdge(graph, <span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">TarjanSccSolverAdjacencyList</span> <span class="variable">solver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TarjanSccSolverAdjacencyList</span>(graph);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] sccs = solver.getSccs();</span><br><span class="line">    Map&lt;Integer, List&lt;Integer&gt;&gt; multimap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!multimap.containsKey(sccs[i])) multimap.put(sccs[i], <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">      multimap.get(sccs[i]).add(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Prints:</span></span><br><span class="line">    <span class="comment">// Number of Strongly Connected Components: 3</span></span><br><span class="line">    <span class="comment">// Nodes: [0, 1, 2] form a Strongly Connected Component.</span></span><br><span class="line">    <span class="comment">// Nodes: [3, 7] form a Strongly Connected Component.</span></span><br><span class="line">    <span class="comment">// Nodes: [4, 5, 6] form a Strongly Connected Component.</span></span><br><span class="line">    System.out.printf(<span class="string">&quot;Number of Strongly Connected Components: %d\n&quot;</span>, solver.sccCount());</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; scc : multimap.values()) &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Nodes: &quot;</span> + scc + <span class="string">&quot; form a Strongly Connected Component.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h3><p><a href="https://www.luogu.com.cn/problem/P2002">å¯¹åº”æ´›è°·é¢˜ç›®</a><br>å¦‚æœSCCä¹‹é—´æœ‰è¾¹ç›¸é‚»ï¼Œåªéœ€é€šçŸ¥ä¸€ä¸ªSCCå³å¯ã€‚<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mxlen = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> pre[mxlen],last[mxlen/<span class="number">5</span>],other[mxlen],l;</span><br><span class="line"><span class="type">int</span> cnt,sccCount;</span><br><span class="line"><span class="type">int</span> dfn[mxlen/<span class="number">5</span>],low[mxlen/<span class="number">5</span>],onStack[mxlen/<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> sccFlags[mxlen/<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> sccIndice[mxlen/<span class="number">5</span>];</span><br><span class="line">stack&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    l++;</span><br><span class="line">    pre[l]=last[x];</span><br><span class="line">    last[x]=l;</span><br><span class="line">    other[l]=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">tarjan</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    cnt++;</span><br><span class="line">    dfn[x]=low[x]=cnt;</span><br><span class="line">    onStack[x]=<span class="number">1</span>;</span><br><span class="line">    s.<span class="built_in">push</span>(x);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> p=last[x];p;p=pre[p])&#123;</span><br><span class="line">        <span class="type">int</span> y=other[p];</span><br><span class="line">        <span class="keyword">if</span>(!dfn[y])&#123;</span><br><span class="line">            <span class="built_in">tarjan</span>(y);</span><br><span class="line">            low[x]=<span class="built_in">min</span>(low[x],low[y]);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(onStack[y])&#123;</span><br><span class="line">            low[x]=<span class="built_in">min</span>(low[x],dfn[y]);</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dfn[x]==low[x])&#123;</span><br><span class="line">        sccCount++;</span><br><span class="line">        <span class="keyword">while</span>(s.<span class="built_in">top</span>()!=x)&#123;</span><br><span class="line">            sccIndice[s.<span class="built_in">top</span>()]=sccCount;</span><br><span class="line">            onStack[s.<span class="built_in">top</span>()]=<span class="number">0</span>;</span><br><span class="line">            s.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        sccIndice[x]=sccCount;</span><br><span class="line">        onStack[x]=<span class="number">0</span>;</span><br><span class="line">        s.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">checkPropagation</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> p=last[i];p;p=pre[p])&#123;</span><br><span class="line">            <span class="type">int</span> y=other[p];</span><br><span class="line">            <span class="keyword">if</span>(sccIndice[i]!=sccIndice[y])&#123;</span><br><span class="line">                sccFlags[sccIndice[y]]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="built_in">add</span>(x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!dfn[i]) <span class="built_in">tarjan</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">checkPropagation</span>();</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=sccCount;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!sccFlags[i]) ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tarjan </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 2 1-20</title>
      <link href="/2024/04/14/verbal-advantage-level-2-1-20/"/>
      <url>/2024/04/14/verbal-advantage-level-2-1-20/</url>
      
        <content type="html"><![CDATA[<h1 id="word-1-10"><a href="#word-1-10" class="headerlink" title="word 1-10"></a>word 1-10</h1><h2 id="word-1-advocate-æå€¡ï¼Œæ‹¥æŠ¤ï¼Œä¸»å¼ "><a href="#word-1-advocate-æå€¡ï¼Œæ‹¥æŠ¤ï¼Œä¸»å¼ " class="headerlink" title="word 1: advocate æå€¡ï¼Œæ‹¥æŠ¤ï¼Œä¸»å¼ "></a>word 1: <strong>advocate</strong> æå€¡ï¼Œæ‹¥æŠ¤ï¼Œä¸»å¼ </h2><p>Similarly, many are now aware of this polarized notion of the field and some have begun to advocate possible alternatives.</p><h2 id="word-2-delegate-å§”æ‰˜ï¼Œæ‰˜ä»˜"><a href="#word-2-delegate-å§”æ‰˜ï¼Œæ‰˜ä»˜" class="headerlink" title="word 2: delegate å§”æ‰˜ï¼Œæ‰˜ä»˜"></a>word 2: <strong>delegate</strong> å§”æ‰˜ï¼Œæ‰˜ä»˜</h2><p>However, these delegates saw their efforts as serving purposes beyond profit generation.</p><h2 id="word-3-unprecedented-å‰æ‰€æœªæœ‰çš„ï¼Œå²æ— å‰ä¾‹çš„"><a href="#word-3-unprecedented-å‰æ‰€æœªæœ‰çš„ï¼Œå²æ— å‰ä¾‹çš„" class="headerlink" title="word 3: unprecedented å‰æ‰€æœªæœ‰çš„ï¼Œå²æ— å‰ä¾‹çš„"></a>word 3: <strong>unprecedented</strong> å‰æ‰€æœªæœ‰çš„ï¼Œå²æ— å‰ä¾‹çš„</h2><p>With the surge of population and economic activity during the past two generations or so, the environment has come under unprecedented stress.</p><h2 id="word-4-poignant-å°–é”çš„ï¼Œå¼ºçƒˆçš„ï¼Œé…¸æ¥šçš„"><a href="#word-4-poignant-å°–é”çš„ï¼Œå¼ºçƒˆçš„ï¼Œé…¸æ¥šçš„" class="headerlink" title="word 4: poignant å°–é”çš„ï¼Œå¼ºçƒˆçš„ï¼Œé…¸æ¥šçš„"></a>word 4: <strong>poignant</strong> å°–é”çš„ï¼Œå¼ºçƒˆçš„ï¼Œé…¸æ¥šçš„</h2><p>The womenâ€™s stories are at once poignant and remarkable.</p><h2 id="word-5-nebulous-æœ¦èƒ§çš„ï¼Œæ¨¡ç³Šçš„"><a href="#word-5-nebulous-æœ¦èƒ§çš„ï¼Œæ¨¡ç³Šçš„" class="headerlink" title="word 5: nebulous æœ¦èƒ§çš„ï¼Œæ¨¡ç³Šçš„"></a>word 5: <strong>nebulous</strong> æœ¦èƒ§çš„ï¼Œæ¨¡ç³Šçš„</h2><p>The authors admit that their subject matter is nebulous and its meanings ambiguous.</p><h2 id="word-6-clandestine-ç§˜å¯†çš„ï¼Œæš—ä¸­çš„"><a href="#word-6-clandestine-ç§˜å¯†çš„ï¼Œæš—ä¸­çš„" class="headerlink" title="word 6: clandestine ç§˜å¯†çš„ï¼Œæš—ä¸­çš„"></a>word 6: <strong>clandestine</strong> ç§˜å¯†çš„ï¼Œæš—ä¸­çš„</h2><p>They have wanted war, they have been waging it upon us for three years, but in a clandestine, hypocritical, roundabout manner.</p><h2 id="word-7-tirade-ï¼ˆæ¿€çƒˆçš„ï¼‰é•¿ç¯‡æ¼”è¯´"><a href="#word-7-tirade-ï¼ˆæ¿€çƒˆçš„ï¼‰é•¿ç¯‡æ¼”è¯´" class="headerlink" title="word 7: tirade ï¼ˆæ¿€çƒˆçš„ï¼‰é•¿ç¯‡æ¼”è¯´"></a>word 7: <strong>tirade</strong> ï¼ˆæ¿€çƒˆçš„ï¼‰é•¿ç¯‡æ¼”è¯´</h2><p>The whole of his speech has been directed as a tirade against and an attack upon trade unionism.</p><h2 id="word-8-recur-é‡ç°"><a href="#word-8-recur-é‡ç°" class="headerlink" title="word 8: recur é‡ç°"></a>word 8: <strong>recur</strong> é‡ç°</h2><p>Yet in the midst of this diversity, at least four themes recur.</p><h2 id="word-9-tacit-ç¼„é»˜çš„ï¼Œé»˜è®¸çš„"><a href="#word-9-tacit-ç¼„é»˜çš„ï¼Œé»˜è®¸çš„" class="headerlink" title="word 9: tacit ç¼„é»˜çš„ï¼Œé»˜è®¸çš„"></a>word 9: <strong>tacit</strong> ç¼„é»˜çš„ï¼Œé»˜è®¸çš„</h2><p>There is a tacit but quite unjustified assumption in traditional grammar that nouns can appear in adjunct function only when accompanied by an explicit dependent.</p><h2 id="word-10-allegation-å®£ç§°ï¼Œæ–­è¨€ï¼ŒæŒ‡æ§"><a href="#word-10-allegation-å®£ç§°ï¼Œæ–­è¨€ï¼ŒæŒ‡æ§" class="headerlink" title="word 10: allegation å®£ç§°ï¼Œæ–­è¨€ï¼ŒæŒ‡æ§"></a>word 10: <strong>allegation</strong> å®£ç§°ï¼Œæ–­è¨€ï¼ŒæŒ‡æ§</h2><p>Surprisingly, the source for this serious allegation is not identified.</p><h1 id="word-11-20"><a href="#word-11-20" class="headerlink" title="word 11-20"></a>word 11-20</h1><h2 id="word-11-gullible-è½»ä¿¡çš„ï¼Œæ˜“å—éª—çš„"><a href="#word-11-gullible-è½»ä¿¡çš„ï¼Œæ˜“å—éª—çš„" class="headerlink" title="word 11: gullible è½»ä¿¡çš„ï¼Œæ˜“å—éª—çš„"></a>word 11: <strong>gullible</strong> è½»ä¿¡çš„ï¼Œæ˜“å—éª—çš„</h2><p>Not only are the public often assumed to be a trifle gullible, they are also portrayed as empty vessels.</p><h2 id="word-12-benign-å’Œè”¼çš„ï¼Œè‰¯æ€§çš„ï¼Œå‰åˆ©çš„"><a href="#word-12-benign-å’Œè”¼çš„ï¼Œè‰¯æ€§çš„ï¼Œå‰åˆ©çš„" class="headerlink" title="word 12: benign å’Œè”¼çš„ï¼Œè‰¯æ€§çš„ï¼Œå‰åˆ©çš„"></a>word 12: <strong>benign</strong> å’Œè”¼çš„ï¼Œè‰¯æ€§çš„ï¼Œå‰åˆ©çš„</h2><p>The chance of malignant degeneration in a benign papillioma is not well understood.</p><h2 id="word-13-peripheral-å¤–å›´çš„ï¼Œä¸é‡è¦çš„"><a href="#word-13-peripheral-å¤–å›´çš„ï¼Œä¸é‡è¦çš„" class="headerlink" title="word 13: peripheral å¤–å›´çš„ï¼Œä¸é‡è¦çš„"></a>word 13: <strong>peripheral</strong> å¤–å›´çš„ï¼Œä¸é‡è¦çš„</h2><p>The book contains a great deal of peripheral detail.</p><h2 id="word-14-rebuff-æ–­ç„¶æ‹’ç»ï¼Œå›ç»"><a href="#word-14-rebuff-æ–­ç„¶æ‹’ç»ï¼Œå›ç»" class="headerlink" title="word 14: rebuff æ–­ç„¶æ‹’ç»ï¼Œå›ç»"></a>word 14: <strong>rebuff</strong> æ–­ç„¶æ‹’ç»ï¼Œå›ç»</h2><p>She rebuffed all suggestions that she should resign.</p><h2 id="word-15-animosity-æ•Œæ„ï¼Œä»‡æ¨"><a href="#word-15-animosity-æ•Œæ„ï¼Œä»‡æ¨" class="headerlink" title="word 15: animosity æ•Œæ„ï¼Œä»‡æ¨"></a>word 15: <strong>animosity</strong> æ•Œæ„ï¼Œä»‡æ¨</h2><p>Of course weâ€™re competitive, but thereâ€™s no personal animosity between us.</p><h2 id="word-16-tenuous-çº¤ç»†çš„ï¼Œè„†å¼±çš„"><a href="#word-16-tenuous-çº¤ç»†çš„ï¼Œè„†å¼±çš„" class="headerlink" title="word 16: tenuous çº¤ç»†çš„ï¼Œè„†å¼±çš„"></a>word 16: <strong>tenuous</strong> çº¤ç»†çš„ï¼Œè„†å¼±çš„</h2><p>The police have only found a tenuous connection between the two robberies.</p><h2 id="word-17-complacent-è‡ªæ»¡çš„ï¼Œæ²¾æ²¾è‡ªå–œçš„"><a href="#word-17-complacent-è‡ªæ»¡çš„ï¼Œæ²¾æ²¾è‡ªå–œçš„" class="headerlink" title="word 17: complacent è‡ªæ»¡çš„ï¼Œæ²¾æ²¾è‡ªå–œçš„"></a>word 17: <strong>complacent</strong> è‡ªæ»¡çš„ï¼Œæ²¾æ²¾è‡ªå–œçš„</h2><p>We canâ€™t afford to become complacent about any of our products.</p><h2 id="word-18-acme-é¡¶ç«¯ï¼Œæœ€é«˜ç‚¹"><a href="#word-18-acme-é¡¶ç«¯ï¼Œæœ€é«˜ç‚¹" class="headerlink" title="word 18: acme é¡¶ç«¯ï¼Œæœ€é«˜ç‚¹"></a>word 18: <strong>acme</strong> é¡¶ç«¯ï¼Œæœ€é«˜ç‚¹</h2><p>To act on this world-famous stage is surely the acme of any actorâ€™s career.</p><h2 id="word-19-defunct-å¤±æ•ˆçš„ï¼Œä¸åœ¨ä¸–çš„"><a href="#word-19-defunct-å¤±æ•ˆçš„ï¼Œä¸åœ¨ä¸–çš„" class="headerlink" title="word 19: defunct å¤±æ•ˆçš„ï¼Œä¸åœ¨ä¸–çš„"></a>word 19: <strong>defunct</strong> å¤±æ•ˆçš„ï¼Œä¸åœ¨ä¸–çš„</h2><p>(humorous) I think this TV is defunct!</p><h2 id="word-20-abet-æ”¯æŒï¼Œç…½åŠ¨ï¼Œæ•™å”†"><a href="#word-20-abet-æ”¯æŒï¼Œç…½åŠ¨ï¼Œæ•™å”†" class="headerlink" title="word 20: abet æ”¯æŒï¼Œç…½åŠ¨ï¼Œæ•™å”†"></a>word 20: <strong>abet</strong> æ”¯æŒï¼Œç…½åŠ¨ï¼Œæ•™å”†</h2><p>His accountant had aided and abetted him in the fraud.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>macç”µè„‘vscodeçš„c++è¿è¡Œé…ç½®</title>
      <link href="/2024/04/13/mac%E7%94%B5%E8%84%91vscode%E7%9A%84c-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/04/13/mac%E7%94%B5%E8%84%91vscode%E7%9A%84c-%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æ¢äº†ç”µè„‘ï¼Œvscodeçš„ç¯å¢ƒæ˜¯é‡æ–°é…çš„ï¼Œé‡åˆ°äº†äº›è®¸é—®é¢˜ã€‚</p><h1 id="1-Code-Runner-å¯¹äºC-çš„ä¸€äº›å‡½æ•°ä¸è¯†åˆ«"><a href="#1-Code-Runner-å¯¹äºC-çš„ä¸€äº›å‡½æ•°ä¸è¯†åˆ«" class="headerlink" title="1. Code Runner å¯¹äºC++çš„ä¸€äº›å‡½æ•°ä¸è¯†åˆ«"></a>1. Code Runner å¯¹äºC++çš„ä¸€äº›å‡½æ•°ä¸è¯†åˆ«</h1><p>è¿™æ˜¯å› ä¸ºcode runneré»˜è®¤æ‰§è¡Œå‘½ä»¤é‡Œæ²¡æœ‰æ·»åŠ c++17çš„é€‰é¡¹ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š  </p><ol><li>æ‰“å¼€vscodeè®¾ç½®ï¼Œæœç´¢<code>code runner</code>ï¼Œæ‰¾åˆ°<code>Code-runner: Executor Map</code>ï¼Œç‚¹å‡»<code>edit in settings.json</code>ã€‚</li><li>Find the <code>cpp</code> and add <code>-std=c++17</code> after <code>cd $dir &amp;&amp; g++</code> Like this <code>&quot;cpp&quot;: &quot;cd $dir &amp;&amp; g++ -std=c++17 $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</code>  <h1 id="2-Code-Runner-è¿è¡ŒC-æ˜¯åœ¨OUTPUTé‡Œè¿è¡Œçš„ï¼Œä¸èƒ½é€šè¿‡é”®ç›˜è¾“å…¥æ•°æ®"><a href="#2-Code-Runner-è¿è¡ŒC-æ˜¯åœ¨OUTPUTé‡Œè¿è¡Œçš„ï¼Œä¸èƒ½é€šè¿‡é”®ç›˜è¾“å…¥æ•°æ®" class="headerlink" title="2. Code Runner è¿è¡ŒC++æ˜¯åœ¨OUTPUTé‡Œè¿è¡Œçš„ï¼Œä¸èƒ½é€šè¿‡é”®ç›˜è¾“å…¥æ•°æ®"></a>2. Code Runner è¿è¡ŒC++æ˜¯åœ¨OUTPUTé‡Œè¿è¡Œçš„ï¼Œä¸èƒ½é€šè¿‡é”®ç›˜è¾“å…¥æ•°æ®</h1>è§£å†³æ–¹æ¡ˆï¼š<br>æ‰“å¼€vscodeè®¾ç½®ï¼Œæœç´¢<code>code runner</code>ï¼Œå‹¾é€‰<code>Code-runner: Run In Terminal</code><h1 id="3-vscode-ä¸è¯†åˆ«-include-lt-bits-stdc-h-gt"><a href="#3-vscode-ä¸è¯†åˆ«-include-lt-bits-stdc-h-gt" class="headerlink" title="3. vscode ä¸è¯†åˆ«#include&lt;bits/stdc++.h&gt;"></a>3. vscode ä¸è¯†åˆ«<code>#include&lt;bits/stdc++.h&gt;</code></h1><h2 id="æˆ‘æœ‰é—®è¿‡chatgptå…³äºä¸ºä»€ä¹ˆmacæ²¡æœ‰è¿™ä¸ªåº“ï¼Œå›ç­”æ˜¯è¿™æ ·çš„ï¼š"><a href="#æˆ‘æœ‰é—®è¿‡chatgptå…³äºä¸ºä»€ä¹ˆmacæ²¡æœ‰è¿™ä¸ªåº“ï¼Œå›ç­”æ˜¯è¿™æ ·çš„ï¼š" class="headerlink" title="æˆ‘æœ‰é—®è¿‡chatgptå…³äºä¸ºä»€ä¹ˆmacæ²¡æœ‰è¿™ä¸ªåº“ï¼Œå›ç­”æ˜¯è¿™æ ·çš„ï¼š"></a>æˆ‘æœ‰é—®è¿‡chatgptå…³äºä¸ºä»€ä¹ˆmacæ²¡æœ‰è¿™ä¸ªåº“ï¼Œå›ç­”æ˜¯è¿™æ ·çš„ï¼š</h2><code>#include&lt;bits/stdc++.h&gt;</code> æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ C++ å¤´æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†å¸¸ç”¨çš„æ ‡å‡†åº“å’Œä¸€äº›å¸¸è§çš„æ ‡å‡†å¤´æ–‡ä»¶ã€‚åœ¨ä¸€äº›ç¼–è¯‘å™¨å’Œç¯å¢ƒä¸­ï¼Œè¿™ä¸ªå¤´æ–‡ä»¶æ˜¯å­˜åœ¨çš„ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç¯å¢ƒéƒ½æ”¯æŒå®ƒã€‚</li></ol><p>åœ¨ macOS ä¸Šï¼Œé€šå¸¸ä½¿ç”¨çš„æ˜¯ <strong>Clang</strong> æˆ–è€… GNU ç¼–è¯‘å™¨é›†åˆä¸­çš„ Clangã€‚Clang æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ C++ ç¼–è¯‘å™¨ï¼Œå®ƒæ”¯æŒå¤§å¤šæ•° C++11ã€C++14ã€C++17 å’Œéƒ¨åˆ† C++20 ç‰¹æ€§ï¼Œä½†å¹¶ä¸æä¾› <code>#include&lt;bits/stdc++.h&gt;</code> è¿™ä¸ªå¤´æ–‡ä»¶ã€‚</p><p>è¿™ä¸ªå¤´æ–‡ä»¶é€šå¸¸å‡ºç°åœ¨ä¸€äº› Windows å¹³å°ä¸Šçš„ç¼–è¯‘å™¨ï¼ˆæ¯”å¦‚ MinGW å’Œ Visual C++ï¼‰ä¸­ï¼Œç”¨äºæ–¹ä¾¿åŒ…å«æ‰€æœ‰æ ‡å‡†åº“çš„å¤´æ–‡ä»¶ã€‚ä½†æ˜¯åœ¨å…¶ä»–å¹³å°ï¼Œæ¯”å¦‚ macOS ä¸Šï¼Œé€šå¸¸éœ€è¦æ˜ç¡®åœ°åŒ…å«æ‰€éœ€çš„æ ‡å‡†åº“å¤´æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>&lt;iostream&gt;</code>, <code>&lt;vector&gt;</code>, <code>&lt;algorithm&gt;</code> ç­‰ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨ macOS ä¸Šç¼–å†™ C++ ä»£ç æ—¶ï¼Œä½ éœ€è¦æ ¹æ®å…·ä½“éœ€è¦ï¼Œæ˜¾å¼åœ°åŒ…å«ä½ éœ€è¦çš„æ ‡å‡†åº“å¤´æ–‡ä»¶ï¼Œè€Œä¸ä¾èµ–äº <code>#include&lt;bits/stdc++.h&gt;</code>ã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>å®é™…ä¸Šä¸‡èƒ½å¤´ä¸å°±æ˜¯æŠŠæ‰€æœ‰åº“éƒ½importä¸€éè€Œå·²ã€‚è§£å†³æ–¹æ¡ˆæˆ‘çœ‹çš„è¿™ä¸€ç¯‡<a href="https://www.cnblogs.com/lipoicyclic/p/14623307.html">åšå®¢</a>ã€‚æˆ‘åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–äº†ä¸€éƒ¨åˆ†æ­¥éª¤ï¼Œæ›´åŠ ç®€æ´ã€‚</p><ol><li>ç»ˆç«¯ä¸­è¾“å…¥<code>echo | g++ -v -x c++ -E -</code>, å…¶ä¸­<code>/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include</code> å³ä¸ºæˆ‘ä»¬è¦æ‰¾çš„è·¯å¾„ã€‚</li><li>ä¿®æ”¹includeæ–‡ä»¶å¤¹çš„è®¿é—®æƒé™ä¸ºè¯»å†™ã€‚<code>sudo chmod 777 /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include</code> </li><li>ç›´æ¥<code>cd /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include</code></li><li>åˆ›å»º<code>bits</code>æ–‡ä»¶å¤¹å¹¶è¿›å…¥ã€‚<code>mkdir bits</code>,<code>cd bits/</code></li><li>åˆ›å»º<code>stdc++.h</code>ï¼Œ<code>touch stdc++.h</code> </li><li>æ‰“å¼€åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶ï¼Œ<code>open stdc++.h</code>ï¼Œè¿™æ—¶åº”è¯¥æ˜¯é»˜è®¤vscodeè¿›è¡Œæ‰“å¼€çš„ã€‚è¿›è¡Œç¼–è¾‘ï¼š  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ includes used for precompiling -*- C++ -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Copyright (C) 2003-2014 Free Software Foundation, Inc.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// This file is part of the GNU ISO C++ Library.  This library is free</span></span><br><span class="line"><span class="comment">// software; you can redistribute it and/or modify it under the</span></span><br><span class="line"><span class="comment">// terms of the GNU General Public License as published by the</span></span><br><span class="line"><span class="comment">// Free Software Foundation; either version 3, or (at your option)</span></span><br><span class="line"><span class="comment">// any later version.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful,</span></span><br><span class="line"><span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="comment">// GNU General Public License for more details.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Under Section 7 of GPL version 3, you are granted additional</span></span><br><span class="line"><span class="comment">// permissions described in the GCC Runtime Library Exception, version</span></span><br><span class="line"><span class="comment">// 3.1, as published by the Free Software Foundation.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// You should have received a copy of the GNU General Public License and</span></span><br><span class="line"><span class="comment">// a copy of the GCC Runtime Library Exception along with this program;</span></span><br><span class="line"><span class="comment">// see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see</span></span><br><span class="line"><span class="comment">// &lt;http://www.gnu.org/licenses/&gt;.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/** @file stdc++.h</span></span><br><span class="line"><span class="comment"> *  This is an implementation file for a precompiled header.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 17.4.1.2 Headers</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _GLIBCXX_NO_ASSERT</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cerrno&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfloat&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ciso646&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;clocale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csetjmp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;csignal&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdarg&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstddef&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ccomplex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cfenv&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cinttypes&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdbool&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctgmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwchar&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cwctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// C++</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ios&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iosfwd&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;istream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;new&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;streambuf&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;valarray&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;forward_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ratio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;regex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;scoped_allocator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;system_error&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeindex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;type_traits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>æœ€åä¿å­˜é€€å‡ºå³å¯ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> mac </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaé¢è¯•å‡†å¤‡æ•´ç†(äºŒ)</title>
      <link href="/2024/04/11/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%BA%8C/"/>
      <url>/2024/04/11/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="1-ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿åœ¨å®é™…ä¸­å¦‚ä½•å¤„ç†"><a href="#1-ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿åœ¨å®é™…ä¸­å¦‚ä½•å¤„ç†" class="headerlink" title="1. ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿åœ¨å®é™…ä¸­å¦‚ä½•å¤„ç†"></a>1. ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿åœ¨å®é™…ä¸­å¦‚ä½•å¤„ç†</h2><p>åè¯è§£é‡Šï¼š  </p><ol><li><p><strong>ç¼“å­˜é›ªå´©ï¼ˆCache Avalancheï¼‰</strong>ï¼šæŒ‡åœ¨ç¼“å­˜ä¸­å¤§é‡çš„ç¼“å­˜æ¡ç›®åœ¨åŒä¸€æ—¶é—´æ®µå†…å¤±æ•ˆæˆ–è€…è¿‡æœŸï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚ç›´æ¥è®¿é—®åº•å±‚å­˜å‚¨ç³»ç»Ÿï¼ˆå¦‚æ•°æ®åº“ï¼‰ï¼Œä»è€Œé€ æˆç³»ç»Ÿæ€§èƒ½æ€¥å‰§ä¸‹é™æˆ–è€…å´©æºƒçš„ç°è±¡ã€‚</p></li><li><p><strong>ç¼“å­˜ç©¿é€ï¼ˆCache Penetrationï¼‰</strong>ï¼šæŒ‡æ¶æ„æˆ–è€…éæ³•çš„è¯·æ±‚ç›´æ¥ç©¿è¿‡ç¼“å­˜å±‚ï¼Œè®¿é—®åº•å±‚å­˜å‚¨ç³»ç»Ÿï¼Œå› ä¸ºç¼“å­˜å±‚æ— æ³•å‘½ä¸­ä»»ä½•ç¼“å­˜æ•°æ®ã€‚é€šå¸¸æ˜¯ç”±äºæŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®æˆ–è€…æ¶æ„æ„é€ çš„æŸ¥è¯¢æ¡ä»¶å¯¼è‡´ã€‚</p></li><li><p><strong>ç¼“å­˜å‡»ç©¿ï¼ˆCache Breakdownï¼‰</strong>ï¼šæŒ‡åœ¨ç¼“å­˜ä¸­å­˜åœ¨çš„æ•°æ®ï¼Œåœ¨å³å°†è¿‡æœŸæˆ–è€…å¤±æ•ˆæ—¶ï¼Œè¢«å¤§é‡çš„è¯·æ±‚åŒæ—¶è®¿é—®ï¼Œå¯¼è‡´ç¼“å­˜å¤±æ•ˆï¼Œç›´æ¥å‡»ç©¿ç¼“å­˜å±‚ï¼Œè®¿é—®åº•å±‚å­˜å‚¨ç³»ç»Ÿã€‚</p></li></ol><p>å¦‚ä½•å¤„ç†è¿™äº›é—®é¢˜ï¼š</p><ul><li><p><strong>ç¼“å­˜é›ªå´©å¤„ç†æ–¹æ³•</strong>ï¼š</p><ul><li>è®¾ç½®åˆç†çš„ç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œé¿å…æ‰€æœ‰ç¼“å­˜åŒæ—¶å¤±æ•ˆã€‚</li><li>å®ç°ç¼“å­˜é¢„çƒ­ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆå‰æå‰åŠ è½½æ•°æ®åˆ°ç¼“å­˜ä¸­ã€‚</li><li>ä½¿ç”¨å¤šçº§ç¼“å­˜æ¶æ„ï¼Œå¦‚æœ¬åœ°ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜ï¼Œé™ä½å•ç‚¹æ•…éšœé£é™©ã€‚</li><li>å¼•å…¥ç¼“å­˜é”å®šæœºåˆ¶ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆæ—¶åªå…è®¸ä¸€ä¸ªè¯·æ±‚é‡æ–°åŠ è½½ç¼“å­˜æ•°æ®ï¼Œå…¶ä»–è¯·æ±‚ç­‰å¾…ã€‚</li></ul></li><li><p><strong>ç¼“å­˜ç©¿é€å¤„ç†æ–¹æ³•</strong>ï¼š</p><ul><li>å¯¹äºæŸ¥è¯¢æ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„æ•°æ®ï¼Œä¹Ÿå°†å…¶ç¼“å­˜ï¼Œä½†æ˜¯è®¾ç½®ä¸€ä¸ªè¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´ï¼Œé¿å…æ”»å‡»è€…é¢‘ç¹æŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®å¯¼è‡´å¤§é‡è¯·æ±‚ç›´æ¥å‡»ç©¿ç¼“å­˜åˆ°è¾¾æ•°æ®åº“ã€‚</li><li>ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ç­‰æŠ€æœ¯å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œè¿‡æ»¤æ‰æ˜æ˜¾æ— æ•ˆçš„è¯·æ±‚ã€‚</li></ul></li><li><p><strong>ç¼“å­˜å‡»ç©¿å¤„ç†æ–¹æ³•</strong>ï¼š</p><ul><li>å¯¹äºçƒ­ç‚¹æ•°æ®æˆ–è€…é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼Œå¯ä»¥è®¾ç½®æ°¸ä¸è¿‡æœŸï¼Œæˆ–è€…é€šè¿‡æ‰‹åŠ¨æ›´æ–°ç¼“å­˜æ¥ç¡®ä¿æ•°æ®ä¸ä¼šè¿‡æœŸã€‚</li><li>å¼•å…¥äº’æ–¥é”æˆ–è€…åˆ†å¸ƒå¼é”ï¼Œä¿è¯åœ¨ç¼“å­˜å¤±æ•ˆæ—¶åªæœ‰ä¸€ä¸ªè¯·æ±‚èƒ½å¤Ÿé‡æ–°åŠ è½½æ•°æ®ï¼Œå…¶ä»–è¯·æ±‚ç­‰å¾…ã€‚</li></ul></li></ul><p>ä»¥ä¸Šå¤„ç†æ–¹æ³•å¯ä»¥æ ¹æ®å…·ä½“åœºæ™¯å’Œéœ€æ±‚è¿›è¡Œç»„åˆä½¿ç”¨ï¼Œä»¥å°½å¯èƒ½åœ°å‡å°‘ç¼“å­˜ç›¸å…³é—®é¢˜å¯¹ç³»ç»Ÿç¨³å®šæ€§å’Œæ€§èƒ½çš„å½±å“ã€‚</p><h2 id="2-Mysql-çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ"><a href="#2-Mysql-çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="2. Mysql çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ"></a>2. Mysql çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ</h2><p>MySQLæ”¯æŒå››ç§éš”ç¦»çº§åˆ«ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol><li><p><strong>è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰</strong>ï¼šæœ€ä½çš„éš”ç¦»çº§åˆ«ã€‚åœ¨è¿™ä¸ªçº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥çœ‹åˆ°å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ä¿®æ”¹ã€‚è¿™æ„å‘³ç€å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹å¯èƒ½ä¼šå¯¼è‡´è„è¯»ï¼ˆDirty Readï¼‰é—®é¢˜ã€‚</p></li><li><p><strong>è¯»å·²æäº¤ï¼ˆRead Committedï¼‰</strong>ï¼šè¿™æ˜¯MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«ã€‚åœ¨è¿™ä¸ªçº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åªèƒ½çœ‹åˆ°å·²ç»æäº¤çš„æ•°æ®ä¿®æ”¹ã€‚å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹ä¸ä¼šè¢«å½“å‰äº‹åŠ¡çœ‹åˆ°ï¼Œè¿™å¯ä»¥é¿å…è„è¯»é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½å¯¼è‡´ä¸å¯é‡å¤è¯»ï¼ˆNon-repeatable Readï¼‰é—®é¢˜ã€‚</p></li><li><p><strong>å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰</strong>ï¼šåœ¨è¿™ä¸ªçº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡ŒæœŸé—´å¤šæ¬¡è¯»å–åŒä¸€è¡Œæ•°æ®æ—¶ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€è‡´çš„ã€‚å³ä½¿å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œå½“å‰äº‹åŠ¡åœ¨åŒä¸€äº‹åŠ¡å†…è¯»å–æ•°æ®æ—¶ä¹Ÿä¸ä¼šçœ‹åˆ°å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹ã€‚è¿™å¯ä»¥é¿å…ä¸å¯é‡å¤è¯»é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½å¯¼è‡´å¹»è¯»ï¼ˆPhantom Readï¼‰é—®é¢˜ã€‚</p></li><li><p><strong>ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰</strong>ï¼šè¿™æ˜¯æœ€é«˜çš„éš”ç¦»çº§åˆ«ã€‚åœ¨è¿™ä¸ªçº§åˆ«ä¸‹ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½ä¼šåœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ—¶é—´æ®µå†…æ‰§è¡Œï¼Œå½¼æ­¤ä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°ã€‚è¿™å¯ä»¥é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ç­‰æ‰€æœ‰å¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯ä¼šé™ä½å¹¶å‘æ€§èƒ½ï¼Œå› ä¸ºäº‹åŠ¡éœ€è¦ä¸²è¡Œæ‰§è¡Œã€‚</p></li></ol><p>é€‰æ‹©åˆé€‚çš„éš”ç¦»çº§åˆ«å–å†³äºåº”ç”¨çš„éœ€æ±‚ä»¥åŠå¯¹å¹¶å‘æ€§èƒ½å’Œæ•°æ®ä¸€è‡´æ€§çš„è¦æ±‚ã€‚</p><h2 id="3-mysqlçš„å¤åˆ¶åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#3-mysqlçš„å¤åˆ¶åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="3. mysqlçš„å¤åˆ¶åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>3. mysqlçš„å¤åˆ¶åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>MySQLçš„å¤åˆ¶æ˜¯æŒ‡å°†ä¸€ä¸ªMySQLæ•°æ®åº“çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªMySQLå®ä¾‹ä¸Šçš„è¿‡ç¨‹ï¼Œå…¶åŸºæœ¬åŸç†å¦‚ä¸‹ï¼š</p><ol><li><p><strong>ä¸»ä»å¤åˆ¶æ¶æ„</strong>ï¼šMySQLå¤åˆ¶åŸºäºä¸»ä»ï¼ˆMaster-Slaveï¼‰æ¶æ„ã€‚åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œä¸€ä¸ªMySQLå®ä¾‹ä½œä¸ºä¸»æœåŠ¡å™¨ï¼ˆMasterï¼‰ï¼Œè´Ÿè´£æ¥æ”¶å®¢æˆ·ç«¯çš„å†™æ“ä½œï¼ˆINSERTã€UPDATEã€DELETEç­‰ï¼‰ï¼Œè€Œå…¶ä»–MySQLå®ä¾‹ä½œä¸ºä»æœåŠ¡å™¨ï¼ˆSlaveï¼‰ï¼Œè´Ÿè´£æ¥æ”¶ä¸»æœåŠ¡å™¨çš„å†™æ“ä½œå¹¶å¤åˆ¶å…¶æ•°æ®ã€‚</p></li><li><p><strong>äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary Logï¼‰</strong>ï¼šä¸»æœåŠ¡å™¨ä¸Šçš„æ•°æ®æ›´æ”¹æ“ä½œä¼šè¢«è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ä¸­ï¼Œè¿™äº›æ—¥å¿—è®°å½•äº†å¯¹æ•°æ®çš„æ‰€æœ‰ä¿®æ”¹æ“ä½œï¼ŒåŒ…æ‹¬å¯¹æ•°æ®çš„å¢ã€åˆ ã€æ”¹ç­‰ã€‚äºŒè¿›åˆ¶æ—¥å¿—æ˜¯ä¸»ä»å¤åˆ¶çš„å…³é”®ï¼Œä»æœåŠ¡å™¨é€šè¿‡è¯»å–ä¸»æœåŠ¡å™¨ä¸Šçš„äºŒè¿›åˆ¶æ—¥å¿—æ¥è·å–éœ€è¦å¤åˆ¶çš„æ•°æ®å˜æ›´ã€‚</p></li><li><p><strong>å¤åˆ¶çº¿ç¨‹</strong>ï¼šä»æœåŠ¡å™¨ä¸Šä¼šå¯åŠ¨ä¸€ä¸ªå¤åˆ¶çº¿ç¨‹ï¼ˆReplication Threadï¼‰ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£è¿æ¥åˆ°ä¸»æœåŠ¡å™¨ï¼Œå¹¶è·å–ä¸»æœåŠ¡å™¨ä¸Šçš„äºŒè¿›åˆ¶æ—¥å¿—ã€‚ä»æœåŠ¡å™¨ä¸Šçš„å¤åˆ¶çº¿ç¨‹ä¼šè§£æä¸»æœåŠ¡å™¨ä¸Šçš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå¹¶å°†å…¶ä¸­çš„æ•°æ®å˜æ›´æ“ä½œåº”ç”¨åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­ï¼Œä»è€Œä¿æŒä¸ä¸»æœåŠ¡å™¨ä¸Šç›¸åŒçš„æ•°æ®çŠ¶æ€ã€‚</p></li><li><p><strong>å¤åˆ¶è¿‡ç¨‹</strong>ï¼šå¤åˆ¶è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚é¦–å…ˆæ˜¯å¤åˆ¶çš„åˆå§‹åŒ–é˜¶æ®µï¼Œä»æœåŠ¡å™¨è¿æ¥åˆ°ä¸»æœåŠ¡å™¨å¹¶è¯·æ±‚äºŒè¿›åˆ¶æ—¥å¿—çš„ä½ç½®ï¼Œç„¶åä»æœåŠ¡å™¨æ ¹æ®ä¸»æœåŠ¡å™¨ä¸Šçš„äºŒè¿›åˆ¶æ—¥å¿—ä½ç½®å¼€å§‹å¤åˆ¶æ•°æ®ã€‚å…¶æ¬¡æ˜¯å¤åˆ¶çš„æŒç»­é˜¶æ®µï¼Œä»æœåŠ¡å™¨æŒç»­åœ°è¯»å–ä¸»æœåŠ¡å™¨ä¸Šçš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå°†æ•°æ®å˜æ›´æ“ä½œåº”ç”¨åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­ï¼Œä¿æŒä¸ä¸»æœåŠ¡å™¨æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p></li></ol><p>é€šè¿‡ä»¥ä¸ŠåŸç†ï¼ŒMySQLçš„å¤åˆ¶å®ç°äº†æ•°æ®åœ¨ä¸åŒMySQLå®ä¾‹ä¹‹é—´çš„åŒæ­¥ï¼Œä»è€Œæä¾›äº†æ•°æ®çš„å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ä»¥åŠæ•…éšœæ¢å¤ç­‰åŠŸèƒ½ã€‚</p><h2 id="4-mysqlèšç°‡å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#4-mysqlèšç°‡å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="4. mysqlèšç°‡å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a>4. mysqlèšç°‡å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</h2><p>åœ¨MySQLä¸­ï¼Œèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•æ˜¯ä¸¤ç§ä¸åŒç±»å‹çš„ç´¢å¼•ç»“æ„ï¼Œå®ƒä»¬åœ¨æ•°æ®å­˜å‚¨å’Œè®¿é—®æ–¹å¼ä¸Šæœ‰ç€æ˜¾è‘—çš„åŒºåˆ«ã€‚</p><ol><li><p><strong>èšç°‡ç´¢å¼•ï¼ˆClustered Indexï¼‰</strong>ï¼š</p><ul><li>èšç°‡ç´¢å¼•ä¸­ï¼Œç´¢å¼•å’Œæ•°æ®è¡Œå­˜å‚¨åœ¨åŒä¸€ä¸ªBæ ‘ï¼ˆæˆ–B+æ ‘ï¼‰ç»“æ„ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ç´¢å¼•çš„å¶å­èŠ‚ç‚¹åŒ…å«äº†å®é™…çš„æ•°æ®è¡Œã€‚åœ¨MySQLä¸­ï¼ŒInnoDBå­˜å‚¨å¼•æ“çš„ä¸»é”®ç´¢å¼•å°±æ˜¯ä¸€ä¸ªèšç°‡ç´¢å¼•ã€‚</li><li>ç”±äº<strong>æ•°æ®è¡Œå’Œç´¢å¼•åœ¨ç‰©ç†ä¸Šå­˜å‚¨åœ¨ä¸€èµ·</strong>ï¼Œå› æ­¤é€šè¿‡èšç°‡ç´¢å¼•è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ï¼Œå¯ä»¥ç›´æ¥å®šä½åˆ°æ•°æ®æ‰€åœ¨çš„ç£ç›˜é¡µï¼Œå‡å°‘äº†é¢å¤–çš„IOæ“ä½œï¼Œå› æ­¤æŸ¥è¯¢æ•ˆç‡æ›´é«˜ã€‚</li><li>èšç°‡ç´¢å¼•çš„ç¼ºç‚¹æ˜¯ï¼Œå½“è¡¨ä¸­çš„æ•°æ®è¡Œè¢«é¢‘ç¹æ›´æ–°æ—¶ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®é¡µçš„åˆ†è£‚å’Œé‡æ–°ç»„ç»‡ï¼Œå¢åŠ äº†ç»´æŠ¤ç´¢å¼•çš„æˆæœ¬ã€‚</li></ul></li><li><p><strong>éèšç°‡ç´¢å¼•ï¼ˆNon-Clustered Indexï¼‰</strong>ï¼š</p><ul><li>éèšç°‡ç´¢å¼•ä¸­ï¼Œ<strong>ç´¢å¼•å’Œæ•°æ®è¡Œæ˜¯åˆ†å¼€å­˜å‚¨çš„</strong>ã€‚ç´¢å¼•çš„å¶å­èŠ‚ç‚¹åŒ…å«äº†æŒ‡å‘å¯¹åº”æ•°æ®è¡Œçš„æŒ‡é’ˆï¼ˆæˆ–è€…å«å¼•ç”¨ï¼‰ï¼Œè€Œæ•°æ®è¡Œå­˜å‚¨åœ¨å¦å¤–çš„ä½ç½®ã€‚åœ¨MySQLä¸­ï¼ŒInnoDBå­˜å‚¨å¼•æ“çš„æ™®é€šç´¢å¼•ï¼ˆéä¸»é”®ç´¢å¼•ï¼‰å°±æ˜¯éèšç°‡ç´¢å¼•ã€‚</li><li>å½“ä½¿ç”¨éèšç°‡ç´¢å¼•è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ï¼Œé¦–å…ˆé€šè¿‡ç´¢å¼•æ‰¾åˆ°å¯¹åº”æ•°æ®è¡Œçš„æŒ‡é’ˆï¼Œç„¶åå†æ ¹æ®æŒ‡é’ˆè®¿é—®å®é™…çš„æ•°æ®è¡Œï¼Œå› æ­¤éœ€è¦å¤šä¸€æ¬¡IOæ“ä½œï¼Œç›¸æ¯”äºèšç°‡ç´¢å¼•æ¥è¯´ï¼ŒæŸ¥è¯¢æ•ˆç‡è¾ƒä½ã€‚</li><li>éèšç°‡ç´¢å¼•çš„ä¼˜ç‚¹æ˜¯ï¼Œç”±äºç´¢å¼•å’Œæ•°æ®è¡Œåˆ†å¼€å­˜å‚¨ï¼Œå½“æ•°æ®è¡Œå‘ç”Ÿæ›´æ–°æ—¶ï¼Œä¸ä¼šå½±å“åˆ°ç´¢å¼•çš„ç»“æ„ï¼Œå› æ­¤ç»´æŠ¤ç´¢å¼•çš„æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚</li></ul></li></ol><p>æ€»çš„æ¥è¯´ï¼Œèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•åœ¨æ•°æ®å­˜å‚¨å’Œè®¿é—®æ–¹å¼ä¸Šæœ‰ç€æ˜æ˜¾çš„åŒºåˆ«ï¼Œé€‰æ‹©åˆé€‚çš„ç´¢å¼•ç±»å‹å–å†³äºåº”ç”¨çš„éœ€æ±‚å’ŒæŸ¥è¯¢æ¨¡å¼ã€‚</p><h2 id="5-mysqlç´¢å¼•çš„åŸºæœ¬åŸç†"><a href="#5-mysqlç´¢å¼•çš„åŸºæœ¬åŸç†" class="headerlink" title="5. mysqlç´¢å¼•çš„åŸºæœ¬åŸç†"></a>5. mysqlç´¢å¼•çš„åŸºæœ¬åŸç†</h2><p>MySQLç´¢å¼•çš„åŸºæœ¬åŸç†æ˜¯é€šè¿‡åˆ›å»ºç´¢å¼•æ•°æ®ç»“æ„æ¥åŠ å¿«æ•°æ®åº“çš„æŸ¥è¯¢é€Ÿåº¦ã€‚ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå®ƒå­˜å‚¨äº†åˆ—å€¼å’Œè¿™äº›åˆ—å€¼å¯¹åº”çš„è¡Œçš„ä½ç½®ï¼Œä½¿å¾—æ•°æ®åº“ç³»ç»Ÿå¯ä»¥æ›´å¿«åœ°å®šä½å’Œæ£€ç´¢æ•°æ®ã€‚</p><p>ä»¥ä¸‹æ˜¯MySQLç´¢å¼•çš„åŸºæœ¬åŸç†ï¼š</p><ol><li><p><strong>B-Treeç´¢å¼•</strong>ï¼šMySQLé€šå¸¸ä½¿ç”¨B-Treeï¼ˆå¹³è¡¡æ ‘ï¼‰ç´¢å¼•æ¥å®ç°ç´¢å¼•ã€‚B-Treeæ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘ï¼Œå®ƒèƒ½å¤Ÿå¿«é€Ÿåœ°å®šä½åˆ°æŒ‡å®šå€¼ã€‚B-Treeç´¢å¼•å°†æ•°æ®æŒ‰ç…§æ’åºè§„åˆ™å­˜å‚¨åœ¨æ ‘ç»“æ„ä¸­ï¼Œä½¿å¾—æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«æœ‰åºçš„é”®å€¼å¯¹ã€‚è¿™æ ·ä¸€æ¥ï¼ŒMySQLå¯ä»¥é€šè¿‡è¿™ä¸ªæ ‘ç»“æ„å¿«é€Ÿåœ°å®šä½åˆ°æ‰€éœ€çš„æ•°æ®ã€‚</p></li><li><p><strong>å”¯ä¸€æ€§</strong>ï¼šç´¢å¼•å¯ä»¥æ˜¯å”¯ä¸€çš„æˆ–éå”¯ä¸€çš„ã€‚å”¯ä¸€ç´¢å¼•ç¡®ä¿ç´¢å¼•åˆ—ä¸­çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ„å‘³ç€åœ¨æŸ¥è¯¢æ—¶å¯ä»¥é€šè¿‡ç´¢å¼•å¿«é€Ÿå®šä½åˆ°å”¯ä¸€çš„è¡Œã€‚éå”¯ä¸€ç´¢å¼•å…è®¸ç´¢å¼•åˆ—ä¸­å­˜åœ¨é‡å¤å€¼ï¼Œä½†åŒæ ·å¯ä»¥åŠ é€ŸæŸ¥è¯¢ã€‚</p></li><li><p><strong>è¦†ç›–ç´¢å¼•</strong>ï¼šå½“æŸ¥è¯¢çš„åˆ—éƒ½åŒ…å«åœ¨ç´¢å¼•ä¸­æ—¶ï¼ŒMySQLå¯ä»¥ç›´æ¥ä»ç´¢å¼•ä¸­è·å–æ‰€éœ€çš„æ•°æ®ï¼Œè€Œæ— éœ€å†å»æŸ¥æ‰¾æ•°æ®è¡Œã€‚è¿™æ ·çš„ç´¢å¼•ç§°ä¸ºè¦†ç›–ç´¢å¼•ï¼Œå¯ä»¥å¤§å¤§å‡å°‘æ•°æ®åº“è®¿é—®çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚</p></li><li><p><strong>ç´¢å¼•é€‰æ‹©æ€§</strong>ï¼šç´¢å¼•çš„é€‰æ‹©æ€§æ˜¯æŒ‡ç´¢å¼•åˆ—ä¸­ä¸åŒå€¼çš„ä¸ªæ•°ä¸è¡¨ä¸­è®°å½•æ€»æ•°çš„æ¯”å€¼ã€‚é€‰æ‹©æ€§è¶Šé«˜ï¼Œæ„å‘³ç€ç´¢å¼•è¶Šèƒ½å‡†ç¡®åœ°è¿‡æ»¤æ•°æ®ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé€‰æ‹©æ€§åœ¨30%åˆ°70%ä¹‹é—´æ˜¯æ¯”è¾ƒç†æƒ³çš„ã€‚</p></li><li><p><strong>ç´¢å¼•ä¼˜åŒ–</strong>ï¼šå¯¹äºå¤§å‹è¡¨å’Œé¢‘ç¹æŸ¥è¯¢çš„åˆ—ï¼Œå»ºç«‹ç´¢å¼•å¯ä»¥æ˜¾è‘—æé«˜æŸ¥è¯¢æ€§èƒ½ã€‚ä½†è¿‡å¤šçš„ç´¢å¼•å¯èƒ½ä¼šå¢åŠ æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œçš„æˆæœ¬ï¼Œå› ä¸ºæ¯æ¬¡ä¿®æ”¹æ•°æ®éƒ½éœ€è¦æ›´æ–°ç´¢å¼•ã€‚å› æ­¤ï¼Œåœ¨å»ºç«‹ç´¢å¼•æ—¶éœ€è¦æƒè¡¡æŸ¥è¯¢æ€§èƒ½å’Œæ•°æ®ä¿®æ”¹æˆæœ¬ã€‚</p></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒMySQLç´¢å¼•çš„åŸºæœ¬åŸç†æ˜¯åˆ©ç”¨B-Treeç­‰æ•°æ®ç»“æ„æ¥åŠ é€Ÿæ•°æ®çš„å®šä½å’Œæ£€ç´¢ï¼Œä»è€Œæé«˜æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">| Storage Engine | Permitted Indexes   |</span><br><span class="line">|----------------|----------------------|</span><br><span class="line">| Aria           | BTREE, RTREE         |</span><br><span class="line">| MyISAM         | BTREE, RTREE         |</span><br><span class="line">| InnoDB         | BTREE                |</span><br><span class="line">| MEMORY/HEAP    | HASH, BTREE          |</span><br></pre></td></tr></table></figure><p><strong>InnoDBå­˜å‚¨å¼•æ“é»˜è®¤B+Treeç´¢å¼•</strong><br><strong>Memoryå­˜å‚¨å¼•æ“é»˜è®¤Hashç´¢å¼•</strong><br>MySQLæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œæ¯ç§å¼•æ“éƒ½æœ‰å…¶è‡ªå·±çš„ç‰¹ç‚¹ã€ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯MySQLå¸¸è§çš„å‡ ç§å­˜å‚¨å¼•æ“ï¼š</p><ol><li><p><strong>InnoDB</strong>ï¼šInnoDBæ˜¯MySQLçš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„å­˜å‚¨å¼•æ“ä¹‹ä¸€ã€‚å®ƒæ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”å®šå’Œå¤–é”®çº¦æŸï¼Œæä¾›äº†è¾ƒé«˜çš„æ•°æ®å®Œæ•´æ€§å’Œå¹¶å‘æ€§èƒ½ã€‚InnoDBé€‚ç”¨äºéœ€è¦è¾ƒé«˜å¹¶å‘æ€§å’Œæ•°æ®å®Œæ•´æ€§çš„åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚åœ¨çº¿äº¤æ˜“å¤„ç†ï¼ˆOLTPï¼‰ç³»ç»Ÿã€‚</p></li><li><p><strong>MyISAM</strong>ï¼šMyISAMæ˜¯MySQLçš„å¦ä¸€ç§å¸¸ç”¨å­˜å‚¨å¼•æ“ï¼Œå®ƒå…·æœ‰è¾ƒé«˜çš„æ’å…¥å’ŒæŸ¥è¯¢é€Ÿåº¦ï¼Œé€‚ç”¨äºè¯»å¯†é›†å‹åº”ç”¨ã€‚ä½†æ˜¯ï¼ŒMyISAMä¸æ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”å®šï¼Œå¹¶ä¸”åœ¨å´©æºƒæ—¶æ•°æ®æ¢å¤èƒ½åŠ›è¾ƒå·®ã€‚å› æ­¤ï¼Œå®ƒé€‚ç”¨äºå¯¹æ•°æ®å®Œæ•´æ€§è¦æ±‚ä¸é«˜ã€è¯»æ“ä½œé¢‘ç¹ã€å†™æ“ä½œè¾ƒå°‘çš„åœºæ™¯ï¼Œä¾‹å¦‚æ•°æ®ä»“åº“æˆ–æ—¥å¿—åˆ†æç³»ç»Ÿã€‚</p></li><li><p><strong>MEMORY (HEAP)</strong>ï¼šMEMORYå­˜å‚¨å¼•æ“å°†è¡¨æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤å…·æœ‰éå¸¸é«˜çš„è¯»å†™é€Ÿåº¦ã€‚ä½†æ˜¯ï¼Œç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤åœ¨é‡å¯æœåŠ¡å™¨æˆ–å…³é—­MySQLæ—¶ï¼Œæ•°æ®ä¼šä¸¢å¤±ã€‚MEMORYå­˜å‚¨å¼•æ“é€‚ç”¨äºä¸´æ—¶è¡¨ã€ç¼“å­˜è¡¨å’Œéœ€è¦å¿«é€Ÿè®¿é—®çš„ä¸´æ—¶æ•°æ®å­˜å‚¨åœºæ™¯ã€‚</p></li><li><p><strong>CSV</strong>ï¼šCSVå­˜å‚¨å¼•æ“å°†æ•°æ®å­˜å‚¨åœ¨é€—å·åˆ†éš”å€¼ï¼ˆCSVï¼‰æ ¼å¼çš„æ–‡ä»¶ä¸­ï¼Œé€‚ç”¨äºæ•°æ®äº¤æ¢å’Œå¯¼å…¥å¯¼å‡ºæ“ä½œã€‚</p></li><li><p><strong>Archive</strong>ï¼šArchiveå­˜å‚¨å¼•æ“ç”¨äºå­˜å‚¨å¤§é‡å†å²æ•°æ®ï¼Œå®ƒé‡‡ç”¨å‹ç¼©ç®—æ³•å¯¹æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œä»è€ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚Archiveå­˜å‚¨å¼•æ“é€‚ç”¨äºåªéœ€å¶å°”è®¿é—®çš„å½’æ¡£æ•°æ®å­˜å‚¨åœºæ™¯ã€‚</p></li><li><p><strong>NDB Cluster</strong>ï¼šNDB Clusterå­˜å‚¨å¼•æ“æ˜¯MySQL Clusterçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›äº†é«˜å¯ç”¨æ€§ã€é«˜æ€§èƒ½å’Œåˆ†å¸ƒå¼å­˜å‚¨çš„ç‰¹æ€§ã€‚NDB Clusteré€‚ç”¨äºéœ€è¦åˆ†å¸ƒå¼æ•°æ®åº“å’Œå®æ—¶æ•°æ®è®¿é—®çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚ç”µè¯ç½‘ç»œã€ç½‘ç»œæ¸¸æˆç­‰ã€‚</p></li></ol><p>æ¯ç§å­˜å‚¨å¼•æ“éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“éœ€è¦æ ¹æ®åº”ç”¨çš„éœ€æ±‚å’Œç‰¹ç‚¹è¿›è¡Œç»¼åˆè€ƒè™‘ã€‚</p><h2 id="6-B-æ ‘åœ¨å®ç°ç´¢å¼•ä¸Šçš„ä¼˜åŠ¿ä»¥åŠè¿‡ç¨‹"><a href="#6-B-æ ‘åœ¨å®ç°ç´¢å¼•ä¸Šçš„ä¼˜åŠ¿ä»¥åŠè¿‡ç¨‹" class="headerlink" title="6. B+æ ‘åœ¨å®ç°ç´¢å¼•ä¸Šçš„ä¼˜åŠ¿ä»¥åŠè¿‡ç¨‹"></a>6. B+æ ‘åœ¨å®ç°ç´¢å¼•ä¸Šçš„ä¼˜åŠ¿ä»¥åŠè¿‡ç¨‹</h2><p>B+æ ‘æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå®ç°ç´¢å¼•ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ol><li><p><strong>é«˜æ•ˆçš„æŸ¥æ‰¾æ“ä½œï¼š</strong> B+æ ‘çš„ç»“æ„ä½¿å¾—åœ¨å…¶ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ï¼Œå…¶ä¸­næ˜¯æ•°æ®çš„æ•°é‡ã€‚è¿™æ„å‘³ç€æ— è®ºæ•°æ®é‡å¤šå¤§ï¼Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯å¯æ§çš„ï¼Œå¹¶ä¸”éšç€æ•°æ®é‡å¢é•¿çš„å¢é•¿é€Ÿç‡å¾ˆæ…¢ã€‚</p></li><li><p><strong>æœ‰åºæ€§ï¼š</strong> B+æ ‘æ˜¯ä¸€ç§æœ‰åºæ ‘ï¼Œå› æ­¤åœ¨èŒƒå›´æŸ¥è¯¢æ—¶éå¸¸é«˜æ•ˆã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦åœ¨ä¸€ä¸ªæœ‰åºçš„æ•°æ®é›†åˆä¸­æŸ¥æ‰¾æ‰€æœ‰åœ¨æŸä¸ªèŒƒå›´å†…çš„å…ƒç´ ï¼Œé‚£ä¹ˆB+æ ‘å¯ä»¥è¿…é€Ÿå®šä½åˆ°è¯¥èŒƒå›´å†…çš„æ‰€æœ‰æ•°æ®ã€‚</p></li><li><p><strong>å¯é¢„æµ‹çš„IOè®¿é—®ï¼š</strong> B+æ ‘çš„ç»“æ„ä½¿å¾—åœ¨ç£ç›˜ä¸Šè¿›è¡ŒIOè®¿é—®æ—¶ï¼Œè®¿é—®çš„æ¬¡æ•°å¯é¢„æµ‹ä¸”è¾ƒå°‘ã€‚è¿™æ˜¯å› ä¸ºB+æ ‘çš„èŠ‚ç‚¹é€šå¸¸å¤§å°å›ºå®šï¼Œå¹¶ä¸”æ ‘çš„é«˜åº¦ç›¸å¯¹è¾ƒä½ï¼Œè¿™å‡å°‘äº†éœ€è¦åœ¨ç£ç›˜ä¸Šè¿›è¡Œçš„IOæ¬¡æ•°ã€‚</p></li><li><p><strong>æ”¯æŒèŒƒå›´æŸ¥è¯¢å’Œæ’åºï¼š</strong> ç”±äºB+æ ‘æ˜¯æœ‰åºçš„ï¼Œå› æ­¤æ”¯æŒåœ¨èŒƒå›´å†…æŸ¥è¯¢å’Œæ’åºæ“ä½œã€‚è¿™å¯¹äºæ•°æ®åº“ç³»ç»Ÿä¸­è®¸å¤šç±»å‹çš„æŸ¥è¯¢éå¸¸é‡è¦ã€‚</p></li></ol><p>B+æ ‘çš„å®ç°è¿‡ç¨‹é€šå¸¸åˆ†ä¸ºæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰åŸºæœ¬æ“ä½œã€‚ä¸‹é¢æ˜¯B+æ ‘çš„åŸºæœ¬å®ç°è¿‡ç¨‹ï¼š</p><ol><li><p><strong>æ’å…¥æ“ä½œï¼š</strong></p><ul><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æ ‘å‘ä¸‹éå†ï¼Œæ‰¾åˆ°åˆé€‚çš„å¶å­èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå¶å­èŠ‚ç‚¹æ²¡æœ‰æ»¡ï¼Œåˆ™å°†æ–°å…ƒç´ æ’å…¥å…¶ä¸­ï¼Œç„¶åå¯¹æ ‘è¿›è¡Œå¿…è¦çš„è°ƒæ•´ä»¥ä¿æŒB+æ ‘çš„æ€§è´¨ã€‚</li><li>å¦‚æœå¶å­èŠ‚ç‚¹å·²æ»¡ï¼Œåˆ™è¿›è¡Œåˆ†è£‚æ“ä½œï¼Œå°†èŠ‚ç‚¹ä¸€åˆ†ä¸ºäºŒï¼Œå¹¶å°†ä¸­é—´å€¼æå‡åˆ°çˆ¶èŠ‚ç‚¹ä¸­ã€‚ç„¶åå¯¹æ ‘è¿›è¡Œå¿…è¦çš„è°ƒæ•´ä»¥ä¿æŒB+æ ‘çš„æ€§è´¨ã€‚</li></ul></li><li><p><strong>åˆ é™¤æ“ä½œï¼š</strong></p><ul><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æ ‘å‘ä¸‹éå†ï¼Œæ‰¾åˆ°è¦åˆ é™¤çš„å…ƒç´ æ‰€åœ¨çš„å¶å­èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå¶å­èŠ‚ç‚¹ä¸­å­˜åœ¨è¦åˆ é™¤çš„å…ƒç´ ï¼Œåˆ™åˆ é™¤è¯¥å…ƒç´ ï¼Œå¹¶å¯¹æ ‘è¿›è¡Œå¿…è¦çš„è°ƒæ•´ä»¥ä¿æŒB+æ ‘çš„æ€§è´¨ã€‚</li><li>å¦‚æœåˆ é™¤å…ƒç´ åï¼ŒèŠ‚ç‚¹çš„å…ƒç´ ä¸ªæ•°å°äºæŸä¸ªé˜ˆå€¼ï¼Œåˆ™è¿›è¡Œåˆå¹¶æˆ–è€…å€Ÿç”¨å…„å¼ŸèŠ‚ç‚¹çš„æ“ä½œï¼Œä»¥ä¿æŒæ ‘çš„å¹³è¡¡ã€‚</li></ul></li><li><p><strong>æŸ¥æ‰¾æ“ä½œï¼š</strong></p><ul><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æ ‘å‘ä¸‹éå†ï¼Œæ ¹æ®èŠ‚ç‚¹ä¸­çš„é”®å€¼è¿›è¡Œæ¯”è¾ƒï¼Œç¡®å®šè¦æŸ¥æ‰¾çš„å…ƒç´ ä½äºå“ªä¸ªå­æ ‘ä¸­ã€‚</li><li>å¦‚æœæŸ¥æ‰¾çš„å…ƒç´ ä½äºå¶å­èŠ‚ç‚¹ä¸­ï¼Œåˆ™ç›´æ¥åœ¨å¶å­èŠ‚ç‚¹ä¸­æŸ¥æ‰¾ã€‚</li><li>å¦‚æœæŸ¥æ‰¾çš„å…ƒç´ ä¸åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œåˆ™ç»§ç»­å‘ä¸‹éå†ã€‚</li></ul></li></ol><p>é€šè¿‡è¿™äº›åŸºæœ¬æ“ä½œï¼ŒB+æ ‘å¯ä»¥ä¿æŒå…¶æœ‰åºæ€§å’Œå¹³è¡¡æ€§ï¼Œä»è€Œæä¾›é«˜æ•ˆçš„ç´¢å¼•æ”¯æŒã€‚</p><h2 id="7-mysqlé”çš„ç±»å‹æœ‰å“ªäº›"><a href="#7-mysqlé”çš„ç±»å‹æœ‰å“ªäº›" class="headerlink" title="7. mysqlé”çš„ç±»å‹æœ‰å“ªäº›"></a>7. mysqlé”çš„ç±»å‹æœ‰å“ªäº›</h2><p><a href="https://juejin.cn/post/6931752749545553933">https://juejin.cn/post/6931752749545553933</a></p><h2 id="8-mysqlä¸ºä»€ä¹ˆéœ€è¦ä¸»ä»åŒæ­¥"><a href="#8-mysqlä¸ºä»€ä¹ˆéœ€è¦ä¸»ä»åŒæ­¥" class="headerlink" title="8. mysqlä¸ºä»€ä¹ˆéœ€è¦ä¸»ä»åŒæ­¥"></a>8. mysqlä¸ºä»€ä¹ˆéœ€è¦ä¸»ä»åŒæ­¥</h2><p>MySQLä¸»ä»åŒæ­¥æ˜¯ä¸€ç§æ•°æ®åº“å¤åˆ¶æŠ€æœ¯ï¼Œé€šè¿‡åœ¨ä¸»æ•°æ®åº“ä¸Šçš„æ›´æ”¹åŒæ­¥åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªä»æ•°æ®åº“ä¸Šï¼Œä»¥ç¡®ä¿æ•°æ®çš„å†—ä½™å¤‡ä»½ã€æé«˜ç³»ç»Ÿå¯ç”¨æ€§ã€å¢åŠ è¯»å–æ€§èƒ½ã€ä»¥åŠæä¾›ç¾éš¾æ¢å¤èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯ä¸»ä»åŒæ­¥çš„ä¸€äº›é‡è¦ç”¨é€”å’ŒåŸå› ï¼š</p><ol><li><p><strong>æ•°æ®å¤‡ä»½å’Œå†—ä½™ï¼š</strong> ä¸»ä»åŒæ­¥å¯ä»¥åœ¨ä»æ•°æ®åº“ä¸Šåˆ›å»ºä¸»æ•°æ®åº“çš„å‰¯æœ¬ï¼Œä»è€Œå®ç°æ•°æ®çš„å†—ä½™å¤‡ä»½ã€‚å¦‚æœä¸»æ•°æ®åº“å‘ç”Ÿæ•…éšœï¼Œä»æ•°æ®åº“å¯ä»¥å¿«é€Ÿæ¥ç®¡æœåŠ¡ï¼Œä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œæ•°æ®çš„å®‰å…¨ã€‚</p></li><li><p><strong>è¯»å†™åˆ†ç¦»ï¼š</strong> ä¸»ä»åŒæ­¥å…è®¸åœ¨ä»æ•°æ®åº“ä¸Šè¿›è¡Œè¯»æ“ä½œï¼Œä»è€Œåˆ†æ‹…ä¸»æ•°æ®åº“çš„è¯»å–è´Ÿè½½ã€‚è¿™æ ·å¯ä»¥æé«˜ç³»ç»Ÿçš„è¯»å–æ€§èƒ½å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</p></li><li><p><strong>ç¾éš¾æ¢å¤ï¼š</strong> å¦‚æœä¸»æ•°æ®åº“å‘ç”Ÿæ•…éšœæˆ–æ•°æ®ä¸¢å¤±ï¼Œä»æ•°æ®åº“å¯ä»¥ä½œä¸ºå¤‡ä»½æ•°æ®æºï¼Œç”¨äºç¾éš¾æ¢å¤å’Œæ•°æ®ä¿®å¤ã€‚</p></li><li><p><strong>åˆ†å¸ƒå¼æ•°æ®å¤„ç†ï¼š</strong> ä¸»ä»åŒæ­¥å¯ä»¥ç”¨äºåˆ†å¸ƒå¼æ•°æ®å¤„ç†ï¼Œå…è®¸åœ¨ä¸åŒåœ°ç†ä½ç½®æˆ–ç½‘ç»œç¯å¢ƒä¸‹çš„æ•°æ®åº“ä¹‹é—´åŒæ­¥æ•°æ®ï¼Œä»è€Œå®ç°åˆ†å¸ƒå¼è®¡ç®—å’Œæ•°æ®åˆ†æã€‚</p></li><li><p><strong>æ•°æ®åº“å‡çº§å’Œè¿ç§»ï¼š</strong> ä¸»ä»åŒæ­¥å¯ä»¥åœ¨æ•°æ®åº“å‡çº§æˆ–è¿ç§»è¿‡ç¨‹ä¸­ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ï¼Œé™ä½ç³»ç»Ÿåœæœºæ—¶é—´å’Œé£é™©ã€‚</p></li><li><p><strong>æ•°æ®åˆ†å‘ï¼š</strong> ä¸»ä»åŒæ­¥å¯ä»¥ç”¨äºå°†æ•°æ®åˆ†å‘åˆ°å¤šä¸ªåœ°ç†ä½ç½®æˆ–ä¸åŒçš„åº”ç”¨ç³»ç»Ÿä¸­ï¼Œå®ç°æ•°æ®å…±äº«å’Œæ•°æ®é›†æˆã€‚</p></li></ol><p>æ€»ä¹‹ï¼ŒMySQLä¸»ä»åŒæ­¥æ˜¯ä¸€ç§é‡è¦çš„æ•°æ®åº“å¤åˆ¶æŠ€æœ¯ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€å¯é æ€§å’Œæ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¸ºæ•°æ®ç®¡ç†å’Œåº”ç”¨å¼€å‘æä¾›æ›´å¤šçš„çµæ´»æ€§å’Œä¾¿åˆ©æ€§ã€‚</p><h2 id="9-mysqlæ‰§è¡Œè®¡åˆ’æ€ä¹ˆçœ‹"><a href="#9-mysqlæ‰§è¡Œè®¡åˆ’æ€ä¹ˆçœ‹" class="headerlink" title="9. mysqlæ‰§è¡Œè®¡åˆ’æ€ä¹ˆçœ‹"></a>9. mysqlæ‰§è¡Œè®¡åˆ’æ€ä¹ˆçœ‹</h2><p>åœ¨MySQLä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>EXPLAIN</code>è¯­å¥æ¥æŸ¥çœ‹æŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’ã€‚æ‰§è¡Œè®¡åˆ’æ˜¯MySQLæŸ¥è¯¢ä¼˜åŒ–å™¨æ ¹æ®è¡¨ç»“æ„ã€ç´¢å¼•æƒ…å†µç­‰ä¿¡æ¯ï¼Œé¢„ä¼°çš„æŸ¥è¯¢æ‰§è¡Œè¿‡ç¨‹ã€‚é€šè¿‡æ‰§è¡Œè®¡åˆ’ï¼Œä½ å¯ä»¥äº†è§£æŸ¥è¯¢æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Œä»¥åŠMySQLæ˜¯å¦‚ä½•é€‰æ‹©ä½¿ç”¨ç´¢å¼•ã€è¿æ¥æ–¹å¼ç­‰æ¥æ‰§è¡ŒæŸ¥è¯¢çš„ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨<code>EXPLAIN</code>è¯­å¥æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’çš„åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> your_table <span class="keyword">WHERE</span> your_condition;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>your_table</code>æ˜¯è¦æŸ¥è¯¢çš„è¡¨åï¼Œ<code>your_condition</code>æ˜¯æŸ¥è¯¢æ¡ä»¶ã€‚</p><p>æ‰§è¡Œè¯¥<code>EXPLAIN</code>è¯­å¥åï¼ŒMySQLä¼šè¿”å›ä¸€å¼ æŸ¥è¯¢è®¡åˆ’è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†æŸ¥è¯¢çš„æ‰§è¡Œæ­¥éª¤ã€ä½¿ç”¨çš„ç´¢å¼•ã€æ¯ä¸€æ­¥çš„ä¼°ç®—è¡Œæ•°ç­‰ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ‰§è¡Œè®¡åˆ’å­—æ®µå«ä¹‰ï¼š</p><ul><li><code>id</code>: æŸ¥è¯¢æ‰§è¡Œæ­¥éª¤çš„é¡ºåºï¼Œä»ä¸Šåˆ°ä¸‹é€’å¢ã€‚</li><li><code>select_type</code>: æŸ¥è¯¢çš„ç±»å‹ï¼Œå¦‚<code>SIMPLE</code>ã€<code>PRIMARY</code>ã€<code>SUBQUERY</code>ç­‰ã€‚</li><li><code>table</code>: æ­¤è¡Œæ­£åœ¨è®¿é—®çš„è¡¨ã€‚</li><li><code>type</code>: è¡¨ç¤ºæŸ¥è¯¢çš„è®¿é—®ç±»å‹ï¼Œå¦‚<code>ALL</code>ã€<code>INDEX</code>ã€<code>RANGE</code>ã€<code>REF</code>ç­‰ã€‚è®¿é—®ç±»å‹çš„å¥½åå†³å®šäº†æŸ¥è¯¢çš„æ€§èƒ½ã€‚</li><li><code>possible_keys</code>: å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ã€‚</li><li><code>key</code>: å®é™…ç”¨åˆ°çš„ç´¢å¼•ã€‚</li><li><code>key_len</code>: ç´¢å¼•çš„é•¿åº¦ã€‚</li><li><code>ref</code>: è¡¨ç¤ºå“ªä¸ªåˆ—æˆ–å¸¸é‡ä¸ç´¢å¼•ä¸€èµ·ä½¿ç”¨ã€‚</li><li><code>rows</code>: ä¼°è®¡æ£€ç´¢å‡ºçš„è¡Œæ•°ã€‚</li><li><code>Extra</code>: é¢å¤–ä¿¡æ¯ï¼Œå¦‚<code>Using where</code>ã€<code>Using index</code>ç­‰ã€‚</li></ul><p>é€šè¿‡åˆ†ææ‰§è¡Œè®¡åˆ’ï¼Œä½ å¯ä»¥è¯„ä¼°æŸ¥è¯¢çš„æ€§èƒ½ï¼Œä¼˜åŒ–æŸ¥è¯¢è¯­å¥ä»¥æé«˜æ•°æ®åº“çš„æ€§èƒ½ã€‚é€šå¸¸çš„ä¼˜åŒ–æ–¹å¼åŒ…æ‹¬åˆ›å»ºåˆé€‚çš„ç´¢å¼•ã€ä¼˜åŒ–æŸ¥è¯¢è¯­å¥ç­‰ã€‚</p><h2 id="10-GCå¦‚ä½•åˆ¤æ–­å¯¹è±¡å¯ä»¥è¢«å›æ”¶"><a href="#10-GCå¦‚ä½•åˆ¤æ–­å¯¹è±¡å¯ä»¥è¢«å›æ”¶" class="headerlink" title="10. GCå¦‚ä½•åˆ¤æ–­å¯¹è±¡å¯ä»¥è¢«å›æ”¶"></a>10. GCå¦‚ä½•åˆ¤æ–­å¯¹è±¡å¯ä»¥è¢«å›æ”¶</h2><p>åœ¨Javaä¸­ï¼Œåƒåœ¾æ”¶é›†å™¨ï¼ˆGarbage Collectorï¼ŒGCï¼‰é€šè¿‡ä¸€äº›ç­–ç•¥æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯ä»¥è¢«å›æ”¶ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯å›æ”¶çš„æ¡ä»¶ï¼š</p><ol><li><p><strong>å¼•ç”¨è®¡æ•°æ³•ï¼ˆReference Countingï¼‰ï¼š</strong> è¯¥æ–¹æ³•å¹¶ä¸å¸¸ç”¨ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ç§ç®€å•çš„åƒåœ¾å›æ”¶ç®—æ³•ã€‚å¯¹è±¡è¢«åˆ†é…ä¸€å®šæ•°é‡çš„å¼•ç”¨è®¡æ•°ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸ºé›¶æ—¶ï¼Œè¯´æ˜å¯¹è±¡ä¸å†è¢«å¼•ç”¨ï¼Œå¯ä»¥è¢«å›æ”¶ã€‚ä½†è¿™ç§æ–¹æ³•ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p></li><li><p><strong>å¯è¾¾æ€§åˆ†æï¼ˆReachability Analysisï¼‰ï¼š</strong> Javaçš„ä¸»è¦åƒåœ¾æ”¶é›†å™¨ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚å¯è¾¾æ€§åˆ†ææ˜¯åŸºäºâ€œGC Rootsâ€å¯¹è±¡ä½œä¸ºèµ·å§‹ç‚¹ï¼Œç„¶åé€šè¿‡ä¸€ç³»åˆ—çš„å¼•ç”¨é“¾ï¼ˆå¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼‰æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯ä»¥è¢«è®¿é—®ã€‚å¦‚æœå¯¹è±¡ä¸å¯é€šè¿‡ä»»ä½•å¼•ç”¨é“¾ä¸â€œGC Rootsâ€å¯¹è±¡è¿æ¥ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸å¯è¾¾çš„ï¼Œå¯ä»¥è¢«å›æ”¶ã€‚</p></li><li><p><strong>æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼ˆMark and Sweepï¼‰ï¼š</strong> è¿™æ˜¯ä¸€ç§åŸºäºå¯è¾¾æ€§åˆ†æçš„åƒåœ¾å›æ”¶ç®—æ³•ã€‚åœ¨æ ‡è®°é˜¶æ®µï¼Œåƒåœ¾æ”¶é›†å™¨æ ‡è®°æ‰€æœ‰ä¸â€œGC Rootsâ€å¯¹è±¡ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„å¯¹è±¡ã€‚åœ¨æ¸…é™¤é˜¶æ®µï¼Œåƒåœ¾æ”¶é›†å™¨æ¸…é™¤æ‰€æœ‰æœªæ ‡è®°çš„å¯¹è±¡ï¼Œå³ä¸å¯è¾¾çš„å¯¹è±¡ã€‚</p></li><li><p><strong>å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼‰å’Œæ ‡è®°-æ•´ç†ç®—æ³•ï¼ˆMark and Compactï¼‰ï¼š</strong> è¿™ä¸¤ç§ç®—æ³•é€šå¸¸ç”¨äºæ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œå…¶åŸºæœ¬æ€æƒ³ä¸æ ‡è®°-æ¸…é™¤ç®—æ³•ç±»ä¼¼ï¼Œä½†å®ç°æ–¹å¼ä¸åŒã€‚å¤åˆ¶ç®—æ³•å°†å†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œå½“è¯¥éƒ¨åˆ†å†…å­˜æ»¡æ—¶ï¼Œå°†å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€éƒ¨åˆ†ä¸­ï¼Œå¹¶æ¸…é™¤éå­˜æ´»å¯¹è±¡ã€‚æ ‡è®°-æ•´ç†ç®—æ³•åˆ™æ˜¯åœ¨æ ‡è®°-æ¸…é™¤çš„åŸºç¡€ä¸Šï¼Œå°†å­˜æ´»å¯¹è±¡æ•´ç†åˆ°å†…å­˜çš„ä¸€ç«¯ï¼Œä»¥å‡å°‘å†…å­˜ç¢ç‰‡ã€‚</p></li></ol><p>æ€»çš„æ¥è¯´ï¼ŒGCåˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶çš„ä¸»è¦ä¾æ®æ˜¯å¯¹è±¡æ˜¯å¦å¯ä»¥è¢«è®¿é—®åˆ°ï¼Œå³å¯¹è±¡æ˜¯å¦å¯è¾¾ã€‚é€šè¿‡åˆ†æå¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼ŒGCå¯ä»¥ç¡®å®šå“ªäº›å¯¹è±¡ä¸å†è¢«å¼•ç”¨ï¼Œä»è€Œå°†å®ƒä»¬å›æ”¶é‡Šæ”¾å†…å­˜ã€‚</p><h2 id="11-JVM8ä¸ºä»€ä¹ˆè¦å¢åŠ å…ƒç©ºé—´"><a href="#11-JVM8ä¸ºä»€ä¹ˆè¦å¢åŠ å…ƒç©ºé—´" class="headerlink" title="11. JVM8ä¸ºä»€ä¹ˆè¦å¢åŠ å…ƒç©ºé—´"></a>11. JVM8ä¸ºä»€ä¹ˆè¦å¢åŠ å…ƒç©ºé—´</h2><p>Java 8 å¼•å…¥äº†å…ƒç©ºé—´ï¼ˆMetaspaceï¼‰ä»¥æ›¿ä»£æ°¸ä¹…ä»£ï¼ˆPermGenï¼‰ï¼Œä¸»è¦å‡ºäºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ol><li><p><strong>è§£å†³æ°¸ä¹…ä»£çš„é™åˆ¶ï¼š</strong> æ°¸ä¹…ä»£çš„å¤§å°åœ¨è¿è¡Œæ—¶æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”ç”±äºå®ƒæ˜¯ JVM å†…å­˜ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å…¶å¤§å°å—åˆ°æ•´ä¸ª JVM å †å¤§å°çš„é™åˆ¶ã€‚è¿™å¯¼è‡´äº†åœ¨æŸäº›æƒ…å†µä¸‹æ°¸ä¹…ä»£å¯èƒ½ä¼šå‘ç”Ÿå†…å­˜æº¢å‡ºçš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨åŠ¨æ€ç”Ÿæˆå¤§é‡ç±»æˆ–è€…å­—ç¬¦ä¸²çš„åœºæ™¯ä¸‹ã€‚</p></li><li><p><strong>æ›´å¥½çš„å†…å­˜ç®¡ç†ï¼š</strong> å…ƒç©ºé—´ä¸å†æ˜¯ JVM å†…å­˜çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜æ¥å­˜å‚¨ç±»çš„å…ƒæ•°æ®ã€‚è¿™ä½¿å¾—å…ƒç©ºé—´çš„å¤§å°å¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€è°ƒæ•´ï¼Œè€Œä¸å— JVM å †å¤§å°çš„é™åˆ¶ã€‚è¿™æ ·å¯ä»¥æ›´å¥½åœ°é€‚åº”ä¸åŒåº”ç”¨ç¨‹åºçš„å†…å­˜éœ€æ±‚ã€‚</p></li><li><p><strong>æé«˜æ€§èƒ½ï¼š</strong> å…ƒç©ºé—´çš„ç®¡ç†ç›¸æ¯”äºæ°¸ä¹…ä»£æ›´ä¸ºç®€å•é«˜æ•ˆã€‚åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œç±»çš„å…ƒæ•°æ®ä¼šè¢«é¢‘ç¹åœ°åŠ è½½å’Œå¸è½½ï¼Œè€Œå…ƒç©ºé—´é‡‡ç”¨äº†åŸºäºæŒ‡é’ˆçš„å†…å­˜åˆ†é…æ–¹å¼ï¼Œå‡å°‘äº†åƒåœ¾å›æ”¶çš„æ¬¡æ•°ï¼Œæé«˜äº†æ€§èƒ½ã€‚</p></li><li><p><strong>é¿å…æ°¸ä¹…ä»£å†…å­˜æ³„æ¼é—®é¢˜ï¼š</strong> åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œç”±äºç±»çš„å…ƒæ•°æ®å­˜å‚¨åœ¨å †ä¸­ï¼Œå¦‚æœå‡ºç°ç±»åŠ è½½å™¨å†…å­˜æ³„æ¼æˆ–è€…ä¸æ­£ç¡®ä½¿ç”¨ <code>ClassLoader</code>ï¼Œå®¹æ˜“å¯¼è‡´æ°¸ä¹…ä»£å†…å­˜æ³„æ¼ã€‚è€Œå…ƒç©ºé—´å°†ç±»çš„å…ƒæ•°æ®å­˜å‚¨åœ¨æœ¬åœ°å†…å­˜ä¸­ï¼Œé¿å…äº†è¿™äº›é—®é¢˜ã€‚</p></li><li><p><strong>æ›´å¥½çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼š</strong> å…ƒç©ºé—´é‡‡ç”¨äº†ä¸ Java å †ç›¸åŒçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå¦‚å¹¶å‘æ ‡è®°-æ¸…é™¤ã€å¹¶å‘æ ‡è®°-æ•´ç†ç­‰ï¼Œè¿™ä½¿å¾—åƒåœ¾å›æ”¶æ›´åŠ çµæ´»å’Œé«˜æ•ˆã€‚</p></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œå¼•å…¥å…ƒç©ºé—´ä¸»è¦æ˜¯ä¸ºäº†è§£å†³æ°¸ä¹…ä»£çš„é™åˆ¶ï¼Œæé«˜å†…å­˜ç®¡ç†çš„çµæ´»æ€§å’Œæ•ˆç‡ï¼Œä»è€Œæå‡ Java åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p><h2 id="12-JVMå†…å­˜æ¨¡å‹å¦‚ä½•åˆ†é…çš„"><a href="#12-JVMå†…å­˜æ¨¡å‹å¦‚ä½•åˆ†é…çš„" class="headerlink" title="12. JVMå†…å­˜æ¨¡å‹å¦‚ä½•åˆ†é…çš„"></a>12. JVMå†…å­˜æ¨¡å‹å¦‚ä½•åˆ†é…çš„</h2><p>Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰å†…å­˜æ¨¡å‹åŒ…æ‹¬äº†å¤šä¸ªä¸åŒçš„åŒºåŸŸï¼Œç”¨äºå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®å’Œæ‰§è¡Œä¸åŒçš„æ“ä½œã€‚ä¸‹é¢æ˜¯ JVM å†…å­˜æ¨¡å‹çš„ä¸»è¦åˆ†é…åŒºåŸŸï¼š</p><ol><li><p><strong>å †ï¼ˆHeapï¼‰ï¼š</strong> å †æ˜¯ JVM ä¸­æœ€å¤§çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å¯¹è±¡å®ä¾‹å’Œæ•°ç»„ã€‚å †æ˜¯ç”±æ‰€æœ‰çº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œåœ¨ JVM å¯åŠ¨æ—¶å°±è¢«åˆ›å»ºã€‚å †çš„å¤§å°å¯ä»¥é€šè¿‡ JVM å‚æ•°è¿›è¡Œè°ƒæ•´ï¼Œé€šå¸¸è¢«åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚æ–°ç”Ÿä»£åŒ…æ‹¬äº† Eden ç©ºé—´å’Œä¸¤ä¸ª Survivor ç©ºé—´ï¼Œè€Œè€å¹´ä»£åˆ™ç”¨äºå­˜æ”¾é•¿æœŸå­˜æ´»çš„å¯¹è±¡ã€‚</p></li><li><p><strong>æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼š</strong> æ–¹æ³•åŒºä¹Ÿè¢«ç§°ä¸ºæ°¸ä¹…ä»£ï¼ˆPermGenï¼ŒJava 8 åè¢«æ›¿ä»£ä¸ºå…ƒç©ºé—´ Metaspaceï¼‰ï¼Œç”¨äºå­˜å‚¨ç±»çš„ç»“æ„ä¿¡æ¯ã€é™æ€å˜é‡ã€å¸¸é‡æ± ç­‰æ•°æ®ã€‚æ–¹æ³•åŒºæ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œå½“ç±»åŠ è½½å™¨åŠ è½½ç±»æ—¶ï¼Œç±»çš„ç»“æ„ä¿¡æ¯ä¼šè¢«å­˜å‚¨åœ¨æ–¹æ³•åŒºä¸­ã€‚</p></li><li><p><strong>è™šæ‹Ÿæœºæ ˆï¼ˆVM Stackï¼‰ï¼š</strong> æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿæœºæ ˆï¼Œç”¨äºå­˜å‚¨æ–¹æ³•è°ƒç”¨çš„æ ˆå¸§ã€‚æ ˆå¸§åŒ…æ‹¬äº†å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•è¿”å›åœ°å€ç­‰ä¿¡æ¯ã€‚è™šæ‹Ÿæœºæ ˆä¸­çš„æ ˆå¸§éšç€æ–¹æ³•çš„è°ƒç”¨å’Œè¿”å›è€ŒåŠ¨æ€åœ°å‹æ ˆå’Œå¼¹æ ˆã€‚</p></li><li><p><strong>æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ï¼š</strong> æœ¬åœ°æ–¹æ³•æ ˆä¸è™šæ‹Ÿæœºæ ˆç±»ä¼¼ï¼Œç”¨äºæ‰§è¡Œæœ¬åœ°æ–¹æ³•ï¼ˆNative Methodï¼‰çš„æ ˆå¸§ã€‚ä¸è™šæ‹Ÿæœºæ ˆä¸åŒçš„æ˜¯ï¼Œæœ¬åœ°æ–¹æ³•æ ˆç”¨äºæ‰§è¡Œæœ¬åœ°æ–¹æ³•ï¼Œè€Œè™šæ‹Ÿæœºæ ˆç”¨äºæ‰§è¡Œ Java æ–¹æ³•ã€‚</p></li><li><p><strong>ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰ï¼š</strong> ç¨‹åºè®¡æ•°å™¨æ˜¯æ¯ä¸ªçº¿ç¨‹ç§æœ‰çš„ï¼Œç”¨äºå­˜å‚¨å½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„ Java å­—èŠ‚ç æŒ‡ä»¤åœ°å€ã€‚åœ¨çº¿ç¨‹æ‰§è¡Œ Java æ–¹æ³•æ—¶ï¼Œç¨‹åºè®¡æ•°å™¨ä¼šè®°å½•ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ï¼Œå½“çº¿ç¨‹è¢«åˆ‡æ¢æ—¶ï¼Œç¨‹åºè®¡æ•°å™¨ç”¨äºæ¢å¤çº¿ç¨‹æ‰§è¡ŒçŠ¶æ€ã€‚</p></li></ol><p>ä»¥ä¸Šæ˜¯ JVM å†…å­˜æ¨¡å‹ä¸­çš„ä¸»è¦åˆ†é…åŒºåŸŸï¼Œä¸åŒçš„åŒºåŸŸç”¨äºå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®å’Œæ‰§è¡Œä¸åŒçš„æ“ä½œã€‚è¿™äº›åŒºåŸŸçš„å†…å­˜åˆ†é…å’Œå›æ”¶ç”± JVM è¿è¡Œæ—¶ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œå¼€å‘äººå‘˜ä¸€èˆ¬ä¸éœ€è¦æ˜¾å¼åœ°ç®¡ç†è¿™äº›å†…å­˜åŒºåŸŸã€‚</p><h2 id="13-JVMæ€§èƒ½è°ƒä¼˜æ¦‚è¿°"><a href="#13-JVMæ€§èƒ½è°ƒä¼˜æ¦‚è¿°" class="headerlink" title="13. JVMæ€§èƒ½è°ƒä¼˜æ¦‚è¿°"></a>13. JVMæ€§èƒ½è°ƒä¼˜æ¦‚è¿°</h2><p>JVMï¼ˆJavaè™šæ‹Ÿæœºï¼‰æ€§èƒ½è°ƒä¼˜æ˜¯ä¼˜åŒ–Javaåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œä½¿å…¶åœ¨ååé‡ã€å“åº”æ—¶é—´ã€èµ„æºåˆ©ç”¨ç‡ç­‰æ–¹é¢è¾¾åˆ°æœ€ä½³çŠ¶æ€çš„ä¸€ç³»åˆ—æ“ä½œã€‚ä»¥ä¸‹æ˜¯å¯¹JVMæ€§èƒ½è°ƒä¼˜çš„æ¦‚è¿°ï¼š</p><ol><li><p><strong>å†…å­˜ç®¡ç†ï¼š</strong></p><ul><li>è°ƒæ•´å †å¤§å°ï¼šæ ¹æ®åº”ç”¨ç¨‹åºçš„å†…å­˜éœ€æ±‚å’Œæ€§èƒ½ç›®æ ‡ï¼Œé€šè¿‡è®¾ç½®-Xmså’Œ-Xmxå‚æ•°æ¥è°ƒæ•´å †å¤§å°ï¼Œé¿å…å†…å­˜ä¸è¶³æˆ–è¿‡åº¦ä½¿ç”¨å†…å­˜çš„æƒ…å†µã€‚</li><li>é€‰æ‹©åƒåœ¾æ”¶é›†å™¨ï¼šæ ¹æ®åº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹å’Œæ€§èƒ½éœ€æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¦‚ä¸²è¡Œæ”¶é›†å™¨ã€å¹¶è¡Œæ”¶é›†å™¨ã€CMSæ”¶é›†å™¨ã€G1æ”¶é›†å™¨ç­‰ã€‚</li><li>è®¾ç½®åƒåœ¾æ”¶é›†å™¨å‚æ•°ï¼šæ ¹æ®åº”ç”¨ç¨‹åºçš„ç‰¹ç‚¹å’Œæ€§èƒ½éœ€æ±‚ï¼Œé€šè¿‡è®¾ç½®åƒåœ¾æ”¶é›†å™¨ç›¸å…³å‚æ•°æ¥è°ƒæ•´åƒåœ¾æ”¶é›†å™¨çš„è¡Œä¸ºï¼Œå¦‚å †å¤§å°ã€åƒåœ¾æ”¶é›†ç­–ç•¥ã€çº¿ç¨‹æ•°é‡ç­‰ã€‚</li></ul></li><li><p><strong>çº¿ç¨‹ç®¡ç†ï¼š</strong></p><ul><li>ä¼˜åŒ–çº¿ç¨‹æ± é…ç½®ï¼šåˆç†é…ç½®çº¿ç¨‹æ± çš„å¤§å°ã€é˜Ÿåˆ—å¤§å°ã€çº¿ç¨‹å­˜æ´»æ—¶é—´ç­‰å‚æ•°ï¼Œä»¥æé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡å’Œæ€§èƒ½ã€‚</li><li>å‡å°‘çº¿ç¨‹ç«äº‰ï¼šé¿å…è¿‡åº¦ä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼Œå‡å°‘çº¿ç¨‹ä¹‹é—´çš„ç«äº‰ï¼Œæé«˜å¹¶å‘æ€§èƒ½ã€‚</li></ul></li><li><p><strong>ç±»åŠ è½½ä¼˜åŒ–ï¼š</strong></p><ul><li>é¢„åŠ è½½ç±»ï¼šé€šè¿‡-Xbootclasspathå‚æ•°é¢„åŠ è½½å¸¸ç”¨çš„ç±»ï¼ŒåŠ å¿«ç±»åŠ è½½é€Ÿåº¦ã€‚</li><li>é¿å…åŠ¨æ€ç±»åŠ è½½ï¼šå‡å°‘æˆ–é¿å…ä½¿ç”¨åå°„å’ŒåŠ¨æ€ä»£ç†ç­‰åŠ¨æ€ç±»åŠ è½½æŠ€æœ¯ï¼Œä»¥æé«˜ç±»åŠ è½½æ€§èƒ½ã€‚</li></ul></li><li><p><strong>ä»£ç ä¼˜åŒ–ï¼š</strong></p><ul><li>å‡å°‘å¯¹è±¡åˆ›å»ºï¼šé¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œé‡ç”¨å¯¹è±¡æˆ–è€…ä½¿ç”¨å¯¹è±¡æ± æ¥å‡å°‘å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶å¼€é”€ã€‚</li><li>ä½¿ç”¨é«˜æ•ˆçš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼šé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•æ¥æé«˜ç¨‹åºçš„æ€§èƒ½ï¼Œå¦‚ä½¿ç”¨ArrayListä»£æ›¿LinkedListï¼Œä½¿ç”¨HashMapä»£æ›¿Hashtableç­‰ã€‚</li></ul></li><li><p><strong>I/Oä¼˜åŒ–ï¼š</strong></p><ul><li>ä½¿ç”¨NIOä»£æ›¿ä¼ ç»Ÿçš„IOæ“ä½œï¼šä½¿ç”¨Javaçš„NIOï¼ˆNew I/Oï¼‰æä¾›çš„éé˜»å¡IOåŠŸèƒ½æ¥æé«˜IOæ“ä½œçš„æ€§èƒ½ã€‚</li><li>ä½¿ç”¨ç¼“å†²æµï¼šä½¿ç”¨ç¼“å†²æµæ¥å‡å°‘IOæ“ä½œçš„æ¬¡æ•°ï¼Œæé«˜IOæ“ä½œçš„æ•ˆç‡ã€‚</li></ul></li><li><p><strong>ç›‘æ§ä¸è°ƒä¼˜ï¼š</strong></p><ul><li>ä½¿ç”¨JVMç›‘æ§å·¥å…·ï¼šä½¿ç”¨JVisualVMã€JConsoleã€VisualVMç­‰ç›‘æ§å·¥å…·æ¥ç›‘æ§JVMçš„è¿è¡ŒçŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³æ€§èƒ½ç“¶é¢ˆã€‚</li><li>åŸºå‡†æµ‹è¯•å’Œæ€§èƒ½åˆ†æï¼šé€šè¿‡åŸºå‡†æµ‹è¯•å’Œæ€§èƒ½åˆ†æå·¥å…·æ¥è¯„ä¼°åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œå¹¶æ‰¾å‡ºå½±å“æ€§èƒ½çš„å…³é”®å› ç´ ï¼Œè¿›è¡Œé’ˆå¯¹æ€§çš„è°ƒä¼˜ã€‚</li></ul></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒJVMæ€§èƒ½è°ƒä¼˜æ¶‰åŠåˆ°å¤šä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬å†…å­˜ç®¡ç†ã€çº¿ç¨‹ç®¡ç†ã€ç±»åŠ è½½ä¼˜åŒ–ã€ä»£ç ä¼˜åŒ–ã€I/Oä¼˜åŒ–ç­‰ï¼Œé€šè¿‡åˆç†çš„è°ƒä¼˜æªæ–½å¯ä»¥æé«˜Javaåº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p><h2 id="14-JVMæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿå®é™…ä¸­å¦‚ä½•é€‰æ‹©ï¼Ÿ"><a href="#14-JVMæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿå®é™…ä¸­å¦‚ä½•é€‰æ‹©ï¼Ÿ" class="headerlink" title="14. JVMæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿå®é™…ä¸­å¦‚ä½•é€‰æ‹©ï¼Ÿ"></a>14. JVMæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿå®é™…ä¸­å¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><p>Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸­æœ‰å¤šç§åƒåœ¾å›æ”¶å™¨ï¼Œæ¯ç§åƒåœ¾å›æ”¶å™¨éƒ½æœ‰ä¸åŒçš„ä¼˜ç¼ºç‚¹ï¼Œé€‚ç”¨äºä¸åŒç±»å‹çš„åº”ç”¨åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„JVMåƒåœ¾å›æ”¶å™¨ï¼š</p><ol><li><p><strong>ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨ï¼ˆSerial Garbage Collectorï¼‰ï¼š</strong> ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨æ˜¯æœ€åŸºæœ¬çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå®ƒä½¿ç”¨å•ä¸ªçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œé€‚ç”¨äºå°å‹åº”ç”¨æˆ–è€…å¼€å‘è°ƒè¯•é˜¶æ®µã€‚</p></li><li><p><strong>å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨ï¼ˆParallel Garbage Collectorï¼‰ï¼š</strong> å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨ä¹Ÿè¢«ç§°ä¸ºååé‡ä¼˜å…ˆæ”¶é›†å™¨ï¼Œå®ƒä½¿ç”¨å¤šä¸ªçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œé€‚ç”¨äºå¤šæ ¸æœåŠ¡å™¨å’Œå¤šçº¿ç¨‹åº”ç”¨ï¼Œä»¥æœ€å¤§åŒ–ååé‡ã€‚</p></li><li><p><strong>å¹¶å‘æ ‡è®°æ¸…é™¤æ”¶é›†å™¨ï¼ˆConcurrent Mark-Sweep Garbage Collectorï¼ŒCMS GCï¼‰ï¼š</strong> CMS GCæ˜¯ä¸€ç§ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨ï¼Œå®ƒåœ¨å°½é‡å‡å°‘åœé¡¿æ—¶é—´çš„åŒæ—¶ï¼Œè¿˜è¦ä¿æŒè¾ƒé«˜çš„ååé‡ï¼Œé€‚ç”¨äºå¯¹å“åº”æ—¶é—´è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ã€‚</p></li><li><p><strong>G1åƒåœ¾æ”¶é›†å™¨ï¼ˆGarbage-First Garbage Collectorï¼‰ï¼š</strong> G1åƒåœ¾æ”¶é›†å™¨æ˜¯ä¸€ç§é¢å‘æœåŠ¡å™¨çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå®ƒåœ¨å°½é‡å‡å°‘åœé¡¿æ—¶é—´çš„åŒæ—¶ï¼Œè¿˜èƒ½åœ¨ä¸åŒå†…å­˜åŒºåŸŸä¹‹é—´è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œé€‚ç”¨äºå¤§å†…å­˜ã€å¤šæ ¸æœåŠ¡å™¨ç¯å¢ƒã€‚</p></li></ol><p>åœ¨å®é™…ä¸­ï¼Œé€‰æ‹©åƒåœ¾å›æ”¶å™¨åº”è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li><p><strong>åº”ç”¨éœ€æ±‚ï¼š</strong> ä¸åŒçš„åº”ç”¨å¯¹åƒåœ¾å›æ”¶å™¨çš„è¦æ±‚ä¸åŒã€‚ä¾‹å¦‚ï¼Œå¯¹äºå¯¹å“åº”æ—¶é—´è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ï¼Œåº”é€‰æ‹©ä½å»¶è¿Ÿçš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¦‚CMS GCæˆ–G1 GCï¼›è€Œå¯¹äºå¯¹ååé‡è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ï¼Œåº”é€‰æ‹©ååé‡ä¼˜å…ˆçš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¦‚Parallel GCã€‚</p></li><li><p><strong>ç¡¬ä»¶ç¯å¢ƒï¼š</strong> åƒåœ¾æ”¶é›†å™¨çš„æ€§èƒ½å—åˆ°ç¡¬ä»¶ç¯å¢ƒçš„å½±å“ã€‚ä¾‹å¦‚ï¼Œå¹¶è¡Œåƒåœ¾æ”¶é›†å™¨åœ¨å¤šæ ¸æœåŠ¡å™¨ä¸Šè¡¨ç°æ›´å¥½ï¼Œè€ŒG1åƒåœ¾æ”¶é›†å™¨é€‚ç”¨äºå¤§å†…å­˜æœåŠ¡å™¨ç¯å¢ƒã€‚</p></li><li><p><strong>å†…å­˜é…ç½®ï¼š</strong> åƒåœ¾æ”¶é›†å™¨çš„æ€§èƒ½ä¸å†…å­˜é…ç½®æœ‰å…³ã€‚ä¾‹å¦‚ï¼ŒCMS GCå’ŒG1 GCæ›´é€‚ç”¨äºå¤§å†…å­˜é…ç½®ï¼Œè€Œä¸²è¡Œåƒåœ¾æ”¶é›†å™¨å’Œå¹¶è¡Œåƒåœ¾æ”¶é›†å™¨é€‚ç”¨äºå°å†…å­˜é…ç½®ã€‚</p></li><li><p><strong>JDKç‰ˆæœ¬ï¼š</strong> ä¸åŒç‰ˆæœ¬çš„JDKå¯èƒ½ä¼šå¼•å…¥æ–°çš„åƒåœ¾æ”¶é›†å™¨æˆ–ä¼˜åŒ–ç°æœ‰çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå› æ­¤é€‰æ‹©åƒåœ¾æ”¶é›†å™¨æ—¶åº”è€ƒè™‘JDKçš„ç‰ˆæœ¬ã€‚</p></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œé€‰æ‹©åƒåœ¾æ”¶é›†å™¨åº”ç»¼åˆè€ƒè™‘åº”ç”¨éœ€æ±‚ã€ç¡¬ä»¶ç¯å¢ƒã€å†…å­˜é…ç½®å’ŒJDKç‰ˆæœ¬ç­‰å› ç´ ï¼Œæ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaé¢è¯•å‡†å¤‡æ•´ç†(ä¸€)</title>
      <link href="/2024/04/07/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%B8%80/"/>
      <url>/2024/04/07/java%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87%E6%95%B4%E7%90%86-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<h2 id="1-javaé¢å‘å¯¹è±¡æœ‰å“ªäº›ç‰¹å¾"><a href="#1-javaé¢å‘å¯¹è±¡æœ‰å“ªäº›ç‰¹å¾" class="headerlink" title="1. javaé¢å‘å¯¹è±¡æœ‰å“ªäº›ç‰¹å¾"></a>1. javaé¢å‘å¯¹è±¡æœ‰å“ªäº›ç‰¹å¾</h2><p>é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼š<strong>å°è£…ã€ç»§æ‰¿ã€å¤šæ€</strong></p><h2 id="2-ArrayListå’ŒLinkedListçš„åŒºåˆ«"><a href="#2-ArrayListå’ŒLinkedListçš„åŒºåˆ«" class="headerlink" title="2. ArrayListå’ŒLinkedListçš„åŒºåˆ«"></a>2. ArrayListå’ŒLinkedListçš„åŒºåˆ«</h2><p>éƒ½å®ç°äº†<code>List</code>æ¥å£ã€‚<br><code>ArrayList</code>æ˜¯åŸºäºç´¢å¼•çš„æ•°æ®æ¥å£ï¼Œåº•å±‚æ˜¯æ•°ç»„ã€‚<br><code>LinkedList</code>(é“¾è¡¨)æ˜¯ä»¥å…ƒç´ åˆ—è¡¨çš„å½¢å¼å­˜å‚¨æ•°æ®ã€‚</p><h2 id="3-é«˜å¹¶å‘ä¸­çš„é›†åˆæœ‰å“ªäº›é—®é¢˜"><a href="#3-é«˜å¹¶å‘ä¸­çš„é›†åˆæœ‰å“ªäº›é—®é¢˜" class="headerlink" title="3. é«˜å¹¶å‘ä¸­çš„é›†åˆæœ‰å“ªäº›é—®é¢˜"></a>3. é«˜å¹¶å‘ä¸­çš„é›†åˆæœ‰å“ªäº›é—®é¢˜</h2><h3 id="1-ç¬¬ä¸€ä»£çº¿ç¨‹å®‰å…¨é›†åˆç±»"><a href="#1-ç¬¬ä¸€ä»£çº¿ç¨‹å®‰å…¨é›†åˆç±»" class="headerlink" title="1. ç¬¬ä¸€ä»£çº¿ç¨‹å®‰å…¨é›†åˆç±»"></a>1. ç¬¬ä¸€ä»£çº¿ç¨‹å®‰å…¨é›†åˆç±»</h3><p><code>Vector</code>ã€<code>Hashtable</code>ã€‚ä½¿ç”¨<code>synchronized</code>ã€‚æ•ˆç‡ä½ä¸‹ã€‚</p><h3 id="2-ç¬¬äºŒä»£"><a href="#2-ç¬¬äºŒä»£" class="headerlink" title="2. ç¬¬äºŒä»£"></a>2. ç¬¬äºŒä»£</h3><p><code>ArrayList</code>ã€<code>HashMap</code>ã€‚ä½¿ç”¨<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Collections.synchronizedList(list);</span><br><span class="line">Collections.synchronizedMap(m);</span><br></pre></td></tr></table></figure></p><h3 id="3-ç¬¬ä¸‰ä»£"><a href="#3-ç¬¬ä¸‰ä»£" class="headerlink" title="3. ç¬¬ä¸‰ä»£"></a>3. ç¬¬ä¸‰ä»£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.util.concurrent.*</span><br><span class="line">ConcurrentHashMap</span><br><span class="line">CopyOnWriteArrayList</span><br><span class="line">CopyOnWriteArraySet</span><br></pre></td></tr></table></figure><p>Java ä¸­çš„é«˜å¹¶å‘ç¯å¢ƒä¸‹ä½¿ç”¨é›†åˆå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li><p><strong>çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜</strong>ï¼šJava ä¸­çš„å¤§å¤šæ•°é›†åˆç±»ï¼ˆå¦‚ <code>ArrayList</code>ã€<code>HashMap</code> ç­‰ï¼‰åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´æˆ–è€…å…¶ä»–æ„å¤–è¡Œä¸ºã€‚</p></li><li><p><strong>æ€§èƒ½é—®é¢˜</strong>ï¼šåœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œå¦‚æœä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»ï¼ˆå¦‚ <code>ConcurrentHashMap</code>ã€<code>CopyOnWriteArrayList</code> ç­‰ï¼‰ï¼Œå¯èƒ½ä¼šå¼•å…¥é¢å¤–çš„æ€§èƒ½å¼€é”€ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸ä¼šä½¿ç”¨åŒæ­¥æˆ–è€…å¤åˆ¶ç­‰æœºåˆ¶æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</p></li><li><p><strong>è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜</strong>ï¼šåœ¨ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆæ—¶ï¼Œå¦‚æœå…¶ä»–çº¿ç¨‹å¯¹é›†åˆè¿›è¡Œäº†ä¿®æ”¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆï¼ŒæŠ›å‡º <code>ConcurrentModificationException</code> å¼‚å¸¸ã€‚</p></li><li><p><strong>æ­»é”é—®é¢˜</strong>ï¼šå¦‚æœåœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ä¸æ­£ç¡®åœ°ä½¿ç”¨é›†åˆï¼Œå¯èƒ½ä¼šå‡ºç°æ­»é”é—®é¢˜ï¼Œä¾‹å¦‚ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«æŒæœ‰é›†åˆä¸­çš„ä¸åŒé”ï¼Œå¹¶è¯•å›¾è·å–å¯¹æ–¹æŒæœ‰çš„é”ã€‚</p></li><li><p><strong>å†…å­˜æ³„æ¼é—®é¢˜</strong>ï¼šå¦‚æœä¸æ­£ç¡®åœ°ä½¿ç”¨é›†åˆï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼é—®é¢˜ï¼Œä¾‹å¦‚åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹é¢‘ç¹åœ°å‘é›†åˆä¸­æ·»åŠ å…ƒç´ ä½†æœªåŠæ—¶åˆ é™¤ï¼Œå¯èƒ½ä¼šå¯¼è‡´é›†åˆæŒæœ‰è¿‡å¤šçš„å¼•ç”¨è€Œæ— æ³•è¢«åŠæ—¶å›æ”¶ã€‚</p></li></ol><p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><ul><li>ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»ï¼Œå¦‚ <code>ConcurrentHashMap</code>ã€<code>CopyOnWriteArrayList</code> ç­‰ã€‚</li><li>ä½¿ç”¨åŒæ­¥æœºåˆ¶æ¥ä¿è¯å¤šçº¿ç¨‹è®¿é—®çš„å®‰å…¨æ€§ï¼Œä¾‹å¦‚ä½¿ç”¨ <code>synchronized</code> å…³é”®å­—æˆ–è€… <code>ReentrantLock</code> ç±»ã€‚</li><li>é¿å…åœ¨è¿­ä»£é›†åˆæ—¶å¯¹é›†åˆè¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨çš„å®‰å…¨åˆ é™¤æ“ä½œæˆ–è€…å°†é›†åˆå¤åˆ¶ä¸€ä»½åå†è¿›è¡Œæ“ä½œã€‚</li><li>æ³¨æ„åˆç†è®¾è®¡å¹¶å‘è®¿é—®çš„é€»è¾‘ï¼Œé¿å…æ­»é”ç­‰å¹¶å‘é—®é¢˜çš„å‘ç”Ÿã€‚</li><li>æ³¨æ„é›†åˆçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œé¿å…å†…å­˜æ³„æ¼é—®é¢˜çš„å‘ç”Ÿã€‚<h2 id="4-JDK1-8çš„æ–°ç‰¹æ€§æœ‰å“ªäº›"><a href="#4-JDK1-8çš„æ–°ç‰¹æ€§æœ‰å“ªäº›" class="headerlink" title="4. JDK1.8çš„æ–°ç‰¹æ€§æœ‰å“ªäº›"></a>4. JDK1.8çš„æ–°ç‰¹æ€§æœ‰å“ªäº›</h2>ç”±äºè¦å…¼å®¹Lambdaè¡¨è¾¾å¼ï¼Œæ¥å£é‡Œå®ç°äº†é»˜è®¤æ–¹æ³•ï¼Œæ¥å£ä¸­å¸¦äº†å®ç°ã€‚<br>å‡½æ•°å¼æ¥å£<br>æ”¯æŒäº†å¤šé‡æ³¨è§£<br>Java 8 å¼•å…¥äº†è®¸å¤šé‡è¦çš„æ–°ç‰¹æ€§ï¼Œå…¶ä¸­ä¸€äº›æœ€æ˜¾ç€çš„åŒ…æ‹¬ï¼š</li></ul><ol><li><p><strong>Lambda è¡¨è¾¾å¼</strong>ï¼šLambda è¡¨è¾¾å¼æ˜¯ä¸€ç§åŒ¿åå‡½æ•°ï¼Œå®ƒå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•æˆ–è€…ä½œä¸ºå‡½æ•°å¼æ¥å£çš„å®ä¾‹ä½¿ç”¨ï¼Œæå¤§åœ°ç®€åŒ–äº†ä»£ç çš„ç¼–å†™å’Œé˜…è¯»ã€‚</p></li><li><p><strong>Stream API</strong>ï¼šStream API æä¾›äº†ä¸€ç§å£°æ˜å¼çš„æ–¹å¼æ¥æ“ä½œé›†åˆï¼Œå¯ä»¥è½»æ¾åœ°è¿›è¡Œè¿‡æ»¤ã€æ˜ å°„ã€æ’åºã€èšåˆç­‰æ“ä½œï¼Œå¤§å¤§æé«˜äº†ä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ã€‚</p></li><li><p><strong>å‡½æ•°å¼æ¥å£</strong>ï¼šJava 8 å¼•å…¥äº† <code>@FunctionalInterface</code> æ³¨è§£ï¼Œç”¨äºæ ‡è¯†å‡½æ•°å¼æ¥å£ï¼Œå³åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚è¿™ç§æ¥å£å¯ä»¥è¢« Lambda è¡¨è¾¾å¼ç›´æ¥å®ç°ï¼Œä½¿å¾—å‡½æ•°å¼ç¼–ç¨‹æ›´åŠ æ–¹ä¾¿ã€‚</p></li><li><p><strong>æ–¹æ³•å¼•ç”¨</strong>ï¼šæ–¹æ³•å¼•ç”¨å…è®¸é€šè¿‡æ–¹æ³•çš„åå­—æ¥å¼•ç”¨æ–¹æ³•ï¼Œè€Œä¸éœ€è¦åƒ Lambda è¡¨è¾¾å¼é‚£æ ·æä¾›æ–¹æ³•çš„å®Œæ•´å®šä¹‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ä»£ç ã€‚</p></li><li><p><strong>é»˜è®¤æ–¹æ³•</strong>ï¼šæ¥å£ä¸­å¯ä»¥å®šä¹‰é»˜è®¤æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥åœ¨æ¥å£ä¸­æä¾›é»˜è®¤çš„å®ç°ï¼Œä»è€Œåœ¨æ¥å£çš„å®ç°ç±»ä¸­ç›´æ¥ä½¿ç”¨ï¼Œè€Œæ— éœ€é‡æ–°å®ç°ã€‚</p></li><li><p><strong>Optional ç±»</strong>ï¼šOptional ç±»æ˜¯ä¸€ä¸ªå®¹å™¨å¯¹è±¡ï¼Œç”¨äºåŒ…è£…å¯èƒ½ä¸º null çš„å€¼ï¼Œå¯ä»¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå¹¶æä¾›äº†ä¸€äº›ä¾¿åˆ©çš„æ–¹æ³•æ¥å¤„ç†å¯èƒ½ä¸º null çš„å€¼ã€‚</p></li><li><p><strong>æ–°çš„æ—¥æœŸå’Œæ—¶é—´ API</strong>ï¼šJava 8 å¼•å…¥äº† <code>java.time</code> åŒ…ï¼Œæä¾›äº†å…¨æ–°çš„æ—¥æœŸå’Œæ—¶é—´ APIï¼Œè§£å†³äº†æ—§çš„ <code>java.util.Date</code> å’Œ <code>java.util.Calendar</code> API çš„è®¸å¤šé—®é¢˜ï¼Œä¾‹å¦‚çº¿ç¨‹å®‰å…¨æ€§å’Œæ˜“ç”¨æ€§ã€‚</p></li><li><p><strong>CompletableFuture ç±»</strong>ï¼šCompletableFuture ç±»æä¾›äº†ä¸€ç§ä¾¿åˆ©çš„æ–¹å¼æ¥è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹ï¼Œå¯ä»¥è½»æ¾åœ°å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„å®Œæˆå’Œç»„åˆã€‚</p></li></ol><p>è¿™äº›æ–°ç‰¹æ€§ä½¿å¾— Java 8 æˆä¸ºä¸€ä¸ªé‡è¦çš„ç‰ˆæœ¬ï¼Œä¸º Java ç¼–ç¨‹å¸¦æ¥äº†è®¸å¤šæ–°çš„å¯èƒ½æ€§å’Œä¼˜åŠ¿ã€‚</p><h2 id="5-Javaæ¥å£å’ŒæŠ½è±¡ç±»æœ‰å“ªäº›åŒºåˆ«"><a href="#5-Javaæ¥å£å’ŒæŠ½è±¡ç±»æœ‰å“ªäº›åŒºåˆ«" class="headerlink" title="5. Javaæ¥å£å’ŒæŠ½è±¡ç±»æœ‰å“ªäº›åŒºåˆ«"></a>5. Javaæ¥å£å’ŒæŠ½è±¡ç±»æœ‰å“ªäº›åŒºåˆ«</h2><p>è¯­æ³•çš„åŒºåˆ«<br>è¯­ä¹‰çš„åŒºåˆ«ï¼šä»€ä¹ˆæ—¶å€™ç”¨æ¥å£ï¼Œä»€ä¹ˆæ—¶å€™ç”¨æŠ½è±¡ç±»ã€‚<br>æŠ½è±¡ç±»é¢å¯¹çš„æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼ŒåŠ¨ç‰©ï¼Œå“ºä¹³åŠ¨ç‰©ï¼Œæ¤ç‰©ï¼Œæœ‰å…·ä½“æ¦‚å¿µçš„å»ºè®®ç”¨æŠ½è±¡ç±»å»å®ç°ã€‚<br>æ¥å£æè¿°çš„æ˜¯æŸäº›å…±åŒç‰¹å¾ï¼Œæ¯”å¦‚flyable</p><h2 id="6-hashcodeå’Œequalså¦‚ä½•ä½¿ç”¨"><a href="#6-hashcodeå’Œequalså¦‚ä½•ä½¿ç”¨" class="headerlink" title="6. hashcodeå’Œequalså¦‚ä½•ä½¿ç”¨"></a>6. hashcodeå’Œequalså¦‚ä½•ä½¿ç”¨</h2><p>åœ¨Javaä¸­ï¼Œ<code>hashCode()</code>å’Œ<code>equals()</code>æ–¹æ³•æ˜¯ç”¨äºå¤„ç†å¯¹è±¡ç›¸ç­‰æ€§å’Œå“ˆå¸Œå€¼è®¡ç®—çš„ä¸¤ä¸ªé‡è¦æ–¹æ³•ã€‚</p><ol><li><p><code>hashCode()</code>æ–¹æ³•ï¼š</p><ul><li><code>hashCode()</code>æ–¹æ³•ç”¨äºè¿”å›å¯¹è±¡çš„å“ˆå¸Œç ï¼ˆhash codeï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ª32ä½çš„æ•´æ•°ã€‚</li><li>å“ˆå¸Œç ç”¨äºå¿«é€Ÿå®šä½å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä½ç½®ï¼Œå› æ­¤å®ƒå¯¹äºå®ç°é«˜æ•ˆçš„æ•°æ®ç»“æ„å¦‚HashMapã€HashSetç­‰éå¸¸é‡è¦ã€‚</li><li>åœ¨å®ç°<code>hashCode()</code>æ–¹æ³•æ—¶ï¼Œé€šå¸¸éœ€è¦éµå¾ªä»¥ä¸‹çº¦å®šï¼š<ul><li>å¦‚æœä¸¤ä¸ªå¯¹è±¡æ ¹æ®<code>equals()</code>æ–¹æ³•ç›¸ç­‰ï¼Œåˆ™å®ƒä»¬çš„å“ˆå¸Œç å¿…é¡»ç›¸ç­‰ã€‚</li><li>ä½†æ˜¯ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å“ˆå¸Œç ç›¸ç­‰å¹¶ä¸æ„å‘³ç€å®ƒä»¬ç›¸ç­‰ï¼Œå³å¯¹äºä¸åŒçš„å¯¹è±¡ï¼Œå“ˆå¸Œç å¯èƒ½ç›¸åŒï¼ˆå“ˆå¸Œå†²çªï¼‰ã€‚</li></ul></li><li>å¦‚æœé‡å†™äº†<code>equals()</code>æ–¹æ³•ï¼Œåˆ™é€šå¸¸ä¹Ÿéœ€è¦é‡å†™<code>hashCode()</code>æ–¹æ³•ï¼Œä»¥ä¿æŒå¯¹è±¡ç›¸ç­‰æ€§å’Œå“ˆå¸Œç ä¸€è‡´ã€‚</li></ul></li><li><p><code>equals()</code>æ–¹æ³•ï¼š</p><ul><li><code>equals()</code>æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚åœ¨Javaä¸­ï¼Œé»˜è®¤çš„<code>equals()</code>æ–¹æ³•å®ç°æ˜¯æ¯”è¾ƒå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒï¼ˆå³æ¯”è¾ƒå†…å­˜åœ°å€ï¼‰ã€‚</li><li>é€šå¸¸éœ€è¦é‡å†™<code>equals()</code>æ–¹æ³•æ¥å®šä¹‰å¯¹è±¡ç›¸ç­‰çš„è§„åˆ™ã€‚é‡å†™<code>equals()</code>æ–¹æ³•æ—¶ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹çº¦å®šï¼š<ul><li>è‡ªåæ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>ï¼Œ<code>x.equals(x)</code>å¿…é¡»è¿”å›<code>true</code>ã€‚</li><li>å¯¹ç§°æ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>å’Œ<code>y</code>ï¼Œå¦‚æœ<code>x.equals(y)</code>è¿”å›<code>true</code>ï¼Œåˆ™<code>y.equals(x)</code>ä¹Ÿå¿…é¡»è¿”å›<code>true</code>ã€‚</li><li>ä¼ é€’æ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>ã€<code>y</code>å’Œ<code>z</code>ï¼Œå¦‚æœ<code>x.equals(y)</code>è¿”å›<code>true</code>ï¼Œ<code>y.equals(z)</code>è¿”å›<code>true</code>ï¼Œåˆ™<code>x.equals(z)</code>ä¹Ÿå¿…é¡»è¿”å›<code>true</code>ã€‚</li><li>ä¸€è‡´æ€§ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>å’Œ<code>y</code>ï¼Œå¦‚æœå¯¹è±¡ä¸­çš„ä¿¡æ¯æ²¡æœ‰æ”¹å˜ï¼Œå¤šæ¬¡è°ƒç”¨<code>x.equals(y)</code>åº”è¯¥å§‹ç»ˆè¿”å›ç›¸åŒçš„ç»“æœã€‚</li><li>å¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>ï¼Œ<code>x.equals(null)</code>å¿…é¡»è¿”å›<code>false</code>ã€‚</li></ul></li><li>é‡å†™<code>equals()</code>æ–¹æ³•æ—¶ï¼Œéœ€è¦ç¡®ä¿ä¸<code>hashCode()</code>æ–¹æ³•ä¸€è‡´ï¼Œå³å¦‚æœä¸¤ä¸ªå¯¹è±¡æ ¹æ®<code>equals()</code>æ–¹æ³•ç›¸ç­‰ï¼Œåˆ™å®ƒä»¬çš„å“ˆå¸Œç ä¹Ÿå¿…é¡»ç›¸ç­‰ã€‚</li></ul></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>hashCode()</code>å’Œ<code>equals()</code>æ–¹æ³•åœ¨Javaä¸­å¸¸ç”¨äºå®ç°å¯¹è±¡çš„ç›¸ç­‰æ€§æ¯”è¾ƒå’Œå“ˆå¸Œå€¼è®¡ç®—ï¼Œè¿™å¯¹äºåœ¨é›†åˆä¸­å­˜å‚¨å¯¹è±¡ã€ä½¿ç”¨å“ˆå¸Œè¡¨ç­‰æ•°æ®ç»“æ„éå¸¸é‡è¦ã€‚</p><h2 id="7-javaä»£ç†çš„å‡ ç§å®ç°æ–¹å¼"><a href="#7-javaä»£ç†çš„å‡ ç§å®ç°æ–¹å¼" class="headerlink" title="7. javaä»£ç†çš„å‡ ç§å®ç°æ–¹å¼"></a>7. javaä»£ç†çš„å‡ ç§å®ç°æ–¹å¼</h2><p>é™æ€ä»£ç†<br>ä¸¤ç§åŠ¨æ€ä»£ç†<br>åœ¨Javaä¸­ï¼Œä»£ç†æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œç”¨äºæ§åˆ¶å¯¹å…¶ä»–å¯¹è±¡çš„è®¿é—®ã€‚ä»£ç†å¯ä»¥åœ¨è®¿é—®å¯¹è±¡æ—¶æ·»åŠ é¢å¤–çš„é€»è¾‘ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ã€å®‰å…¨æ§åˆ¶ç­‰ã€‚Javaä¸­å®ç°ä»£ç†çš„å‡ ç§æ–¹å¼åŒ…æ‹¬ï¼š</p><ol><li><p>é™æ€ä»£ç†ï¼š</p><ul><li>é™æ€ä»£ç†æ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šä»£ç†ç±»å’Œè¢«ä»£ç†ç±»çš„å…³ç³»ã€‚ä»£ç†ç±»å’Œè¢«ä»£ç†ç±»åœ¨ç¼–è¯‘æœŸé—´å°±å·²ç»ç¡®å®šï¼Œä»£ç†ç±»é€šå¸¸å®ç°ä¸è¢«ä»£ç†ç±»ç›¸åŒçš„æ¥å£æˆ–è€…ç»§æ‰¿ç›¸åŒçš„çˆ¶ç±»ã€‚</li><li>é™æ€ä»£ç†çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥åœ¨ä»£ç†ç±»ä¸­è°ƒç”¨è¢«ä»£ç†ç±»çš„æ–¹æ³•ï¼Œå¹¶åœ¨æ–¹æ³•å‰åæ·»åŠ é¢å¤–çš„é€»è¾‘ã€‚</li></ul></li><li><p>åŠ¨æ€ä»£ç†ï¼ˆJDKåŠ¨æ€ä»£ç†ï¼‰ï¼š</p><ul><li>JDKåŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä»£ç†ç±»çš„æ–¹å¼ã€‚å®ƒæ˜¯é€šè¿‡Javaåå°„æœºåˆ¶å®ç°çš„ï¼Œåœ¨è¿è¡Œæ—¶åˆ›å»ºä»£ç†å¯¹è±¡å¹¶åŠ¨æ€å¤„ç†å¯¹è¢«ä»£ç†æ–¹æ³•çš„è°ƒç”¨ã€‚</li><li>JDKåŠ¨æ€ä»£ç†è¦æ±‚è¢«ä»£ç†çš„ç±»å¿…é¡»å®ç°æ¥å£ï¼Œä»£ç†ç±»é€šè¿‡å®ç°<code>InvocationHandler</code>æ¥å£æ¥å¤„ç†è¢«ä»£ç†æ–¹æ³•çš„è°ƒç”¨ã€‚</li></ul></li><li><p>CGLIBä»£ç†ï¼š</p><ul><li>CGLIBä»£ç†æ˜¯é’ˆå¯¹ç±»çš„ä»£ç†ï¼Œå®ƒé€šè¿‡åŠ¨æ€ç”Ÿæˆè¢«ä»£ç†ç±»çš„å­ç±»æ¥å®ç°ä»£ç†ã€‚å› æ­¤ï¼Œè¢«ä»£ç†ç±»ä¸éœ€è¦å®ç°æ¥å£ï¼Œè€Œæ˜¯é€šè¿‡ç»§æ‰¿æ¥å®ç°ä»£ç†ã€‚</li><li>CGLIBä»£ç†é€šè¿‡å­—èŠ‚ç æŠ€æœ¯åœ¨è¿è¡Œæ—¶åˆ›å»ºä»£ç†ç±»çš„å­ç±»ï¼Œå¹¶é‡å†™å…¶ä¸­çš„æ–¹æ³•ï¼Œåœ¨æ–¹æ³•å‰åæ·»åŠ é¢å¤–çš„é€»è¾‘ã€‚</li></ul></li><li><p>JavaåŠ¨æ€ä»£ç†ä¸CGLIBä»£ç†çš„æ¯”è¾ƒï¼š</p><ul><li>JavaåŠ¨æ€ä»£ç†é€‚ç”¨äºæ¥å£ä»£ç†ï¼Œè¦æ±‚è¢«ä»£ç†çš„ç±»å¿…é¡»å®ç°æ¥å£ï¼Œå› æ­¤æ›´åŠ çµæ´»ï¼Œä½†æ˜¯æ— æ³•å¯¹ç±»çš„éæ¥å£æ–¹æ³•è¿›è¡Œä»£ç†ã€‚</li><li>CGLIBä»£ç†é€‚ç”¨äºç±»çš„ä»£ç†ï¼Œä¸è¦æ±‚è¢«ä»£ç†çš„ç±»å®ç°æ¥å£ï¼Œå› æ­¤æ›´åŠ çµæ´»ï¼Œå¯ä»¥ä»£ç†ç±»çš„ä»»ä½•æ–¹æ³•ï¼Œä½†æ˜¯æ— æ³•ä»£ç†<code>final</code>æ–¹æ³•å’Œ<code>private</code>æ–¹æ³•ã€‚</li></ul></li></ol><p>æ€»çš„æ¥è¯´ï¼Œé™æ€ä»£ç†ã€JDKåŠ¨æ€ä»£ç†å’ŒCGLIBä»£ç†æ˜¯Javaä¸­å¸¸ç”¨çš„ä»£ç†å®ç°æ–¹å¼ï¼Œå®ƒä»¬å„è‡ªå…·æœ‰ä¸åŒçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä»£ç†æ–¹å¼ã€‚</p><h2 id="8-javaä¸­-å’Œ-equals-æœ‰å“ªäº›åŒºåˆ«"><a href="#8-javaä¸­-å’Œ-equals-æœ‰å“ªäº›åŒºåˆ«" class="headerlink" title="8. javaä¸­ == å’Œ equals æœ‰å“ªäº›åŒºåˆ«"></a>8. javaä¸­ == å’Œ equals æœ‰å“ªäº›åŒºåˆ«</h2><p><code>==</code> åŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒå€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹æ¯”è¾ƒçš„åœ°å€ã€‚<br><code>equals</code> æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰</p><h2 id="9-javaä¸­å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆ"><a href="#9-javaä¸­å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="9. javaä¸­å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆ"></a>9. javaä¸­å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆ</h2><p>æŠ›å‡ºå¼‚å¸¸ throw<br>æ•è·å¼‚å¸¸ try catch finally<br>å£°æ˜å¼‚å¸¸ throws</p><h2 id="10-javaä¸­é‡å†™å’Œé‡è½½æœ‰å“ªäº›åŒºåˆ«"><a href="#10-javaä¸­é‡å†™å’Œé‡è½½æœ‰å“ªäº›åŒºåˆ«" class="headerlink" title="10. javaä¸­é‡å†™å’Œé‡è½½æœ‰å“ªäº›åŒºåˆ«"></a>10. javaä¸­é‡å†™å’Œé‡è½½æœ‰å“ªäº›åŒºåˆ«</h2><p>é‡è½½overloadï¼šåŒä¸€ä¸ªç±»ä¸­ï¼Œå‚æ•°ä¸åŒçš„<br>é‡å†™overrideï¼šå­ç±»å’Œçˆ¶ç±»ä¸­ï¼Œé‡å†™çš„æ–¹æ³•å’Œè¢«é‡å†™çš„æ–¹æ³•</p><h2 id="11-Stringã€StringBufferã€StringBuilderåŒºåˆ«åŠä½¿ç”¨åœºæ™¯"><a href="#11-Stringã€StringBufferã€StringBuilderåŒºåˆ«åŠä½¿ç”¨åœºæ™¯" class="headerlink" title="11. Stringã€StringBufferã€StringBuilderåŒºåˆ«åŠä½¿ç”¨åœºæ™¯"></a>11. Stringã€StringBufferã€StringBuilderåŒºåˆ«åŠä½¿ç”¨åœºæ™¯</h2><p>Stringæ˜¯åªè¯»å­—ç¬¦ä¸²<br><code>String</code>ã€<code>StringBuffer</code>å’Œ<code>StringBuilder</code>æ˜¯Javaä¸­ç”¨äºå¤„ç†å­—ç¬¦ä¸²çš„ä¸‰ä¸ªç±»ï¼Œå®ƒä»¬åœ¨è®¾è®¡å’Œä½¿ç”¨ä¸Šæœ‰ä¸€äº›åŒºåˆ«ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ï¼š</p><ol><li><p><code>String</code>ï¼š</p><ul><li><code>String</code>æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ç±»ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æ„å‘³ç€æ¯æ¬¡å¯¹<code>String</code>è¿›è¡Œä¿®æ”¹æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„<code>String</code>å¯¹è±¡ï¼Œæ—§çš„å¯¹è±¡ä¼šè¢«ä¸¢å¼ƒï¼Œè¿™æ ·ä¼šå¯¼è‡´æ€§èƒ½å¼€é”€å’Œå†…å­˜æµªè´¹ã€‚</li><li>ç”±äº<code>String</code>æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å®‰å…¨åœ°å…±äº«ã€‚</li></ul></li><li><p><code>StringBuffer</code>ï¼š</p><ul><li><code>StringBuffer</code>æ˜¯å¯å˜çš„ï¼ˆmutableï¼‰ç±»ï¼Œå®ƒæä¾›äº†å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹çš„æ–¹æ³•ï¼Œä¾‹å¦‚<code>append()</code>ã€<code>insert()</code>ã€<code>delete()</code>ç­‰ã€‚å› æ­¤ï¼Œå¯¹äºé¢‘ç¹çš„å­—ç¬¦ä¸²æ‹¼æ¥æˆ–è€…ä¿®æ”¹æ“ä½œï¼Œä½¿ç”¨<code>StringBuffer</code>ä¼šæ¯”ç›´æ¥ä½¿ç”¨<code>String</code>æ›´é«˜æ•ˆã€‚</li><li><code>StringBuffer</code>æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ƒçš„æ–¹æ³•éƒ½æ˜¯åŒæ­¥çš„ï¼Œé€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒã€‚</li></ul></li><li><p><code>StringBuilder</code>ï¼š</p><ul><li><code>StringBuilder</code>ä¸<code>StringBuffer</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å¯å˜çš„å­—ç¬¦ä¸²åºåˆ—ã€‚ä½†æ˜¯ï¼Œä¸<code>StringBuffer</code>ä¸åŒçš„æ˜¯ï¼Œ<code>StringBuilder</code>çš„æ–¹æ³•éƒ½æ˜¯éåŒæ­¥çš„ï¼Œå› æ­¤åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹æ€§èƒ½æ›´å¥½ã€‚</li><li>ç”±äº<code>StringBuilder</code>çš„æ–¹æ³•ä¸æ˜¯åŒæ­¥çš„ï¼Œå› æ­¤å®ƒä¸é€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒã€‚</li></ul></li></ol><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>å½“éœ€è¦å¤„ç†ä¸å¯å˜çš„å­—ç¬¦ä¸²æ—¶ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²å¸¸é‡ï¼Œå¯ä»¥ä½¿ç”¨<code>String</code>ç±»ã€‚</li><li>å½“éœ€è¦åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹è¿›è¡Œé¢‘ç¹çš„å­—ç¬¦ä¸²æ“ä½œæ—¶ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²æ‹¼æ¥ã€ä¿®æ”¹ç­‰ï¼Œå¯ä»¥ä½¿ç”¨<code>StringBuilder</code>ã€‚</li><li>å½“éœ€è¦åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>StringBuffer</code>ï¼Œå› ä¸ºå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯æ€§èƒ½ç›¸å¯¹è¾ƒä½ï¼Œå¦‚æœä¸éœ€è¦çº¿ç¨‹å®‰å…¨çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>StringBuilder</code>ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ ¹æ®å…·ä½“éœ€æ±‚å’Œçº¿ç¨‹å®‰å…¨æ€§è¦æ±‚ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨<code>String</code>ã€<code>StringBuffer</code>æˆ–è€…<code>StringBuilder</code>æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚</p><h2 id="12-æ€æ ·å£°æ˜ä¸€ä¸ªç±»ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹ä¼šç”¨"><a href="#12-æ€æ ·å£°æ˜ä¸€ä¸ªç±»ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹ä¼šç”¨" class="headerlink" title="12. æ€æ ·å£°æ˜ä¸€ä¸ªç±»ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹ä¼šç”¨"></a>12. æ€æ ·å£°æ˜ä¸€ä¸ªç±»ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹ä¼šç”¨</h2><p>ç”¨finalä¿®é¥°ã€‚ä¾‹å¦‚Mathç±»</p><h2 id="13-è‡ªå®šä¹‰å¼‚å¸¸åœ¨ç”Ÿäº§ä¸­å¦‚ä½•åº”ç”¨"><a href="#13-è‡ªå®šä¹‰å¼‚å¸¸åœ¨ç”Ÿäº§ä¸­å¦‚ä½•åº”ç”¨" class="headerlink" title="13. è‡ªå®šä¹‰å¼‚å¸¸åœ¨ç”Ÿäº§ä¸­å¦‚ä½•åº”ç”¨"></a>13. è‡ªå®šä¹‰å¼‚å¸¸åœ¨ç”Ÿäº§ä¸­å¦‚ä½•åº”ç”¨</h2><p>è‡ªå®šä¹‰å¼‚å¸¸åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„åº”ç”¨å¯ä»¥æé«˜ä»£ç çš„å¥å£®æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ï¼Œä½¿å¾—å¼‚å¸¸å¤„ç†æ›´åŠ è§„èŒƒå’Œæ˜“äºç®¡ç†ã€‚åˆç†åœ°ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸å¯ä»¥æœ‰æ•ˆåœ°æé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿæ€§èƒ½ã€‚<br>ç»§æ‰¿åˆé€‚çš„çˆ¶ç±»ï¼šè‡ªå®šä¹‰å¼‚å¸¸ç±»åº”å½“ç»§æ‰¿è‡ªExceptionç±»æˆ–è€…å…¶å­ç±»ï¼Œä¾‹å¦‚RuntimeExceptionï¼Œä»¥ä¾¿åœ¨å¼‚å¸¸å¤„ç†æ—¶èƒ½å¤Ÿç»Ÿä¸€å¤„ç†æˆ–è€…æ•è·ã€‚</p><h2 id="14-Redisçº¿ç¨‹æ¨¡å‹æœ‰å“ªäº›ï¼Œå•çº¿ç¨‹ä¸ºä»€ä¹ˆå¿«"><a href="#14-Redisçº¿ç¨‹æ¨¡å‹æœ‰å“ªäº›ï¼Œå•çº¿ç¨‹ä¸ºä»€ä¹ˆå¿«" class="headerlink" title="14. Redisçº¿ç¨‹æ¨¡å‹æœ‰å“ªäº›ï¼Œå•çº¿ç¨‹ä¸ºä»€ä¹ˆå¿«"></a>14. Redisçº¿ç¨‹æ¨¡å‹æœ‰å“ªäº›ï¼Œå•çº¿ç¨‹ä¸ºä»€ä¹ˆå¿«</h2><p>Redisçš„çº¿ç¨‹æ¨¡å‹ä¸»è¦æœ‰å•çº¿ç¨‹æ¨¡å‹å’Œå¤šçº¿ç¨‹æ¨¡å‹ä¸¤ç§ã€‚</p><ol><li><p>å•çº¿ç¨‹æ¨¡å‹ï¼š</p><ul><li>Redisæœ€åˆé‡‡ç”¨çš„æ˜¯å•çº¿ç¨‹æ¨¡å‹ã€‚å•çº¿ç¨‹æ¨¡å‹æŒ‡çš„æ˜¯RedisæœåŠ¡å™¨åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­é¡ºåºåœ°å¤„ç†æ‰€æœ‰è¯·æ±‚ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½åœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œã€‚</li><li>å•çº¿ç¨‹æ¨¡å‹çš„ä¼˜åŠ¿åœ¨äºç®€å•é«˜æ•ˆï¼Œå› ä¸ºä¸éœ€è¦è€ƒè™‘çº¿ç¨‹åŒæ­¥å’Œçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œé¿å…äº†å¤šçº¿ç¨‹å¹¶å‘è®¿é—®å…±äº«æ•°æ®å¯èƒ½å¼•å‘çš„ç«æ€æ¡ä»¶å’Œæ­»é”é—®é¢˜ã€‚</li><li>Rediså•çº¿ç¨‹æ¨¡å‹é€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µä¸‹çš„æ•°æ®å­˜å‚¨å’Œå¤„ç†ï¼Œç‰¹åˆ«æ˜¯åœ¨å•ä¸ªCPUæ ¸å¿ƒçš„æƒ…å†µä¸‹ï¼Œå•çº¿ç¨‹æ¨¡å‹çš„æ€§èƒ½è¡¨ç°é€šå¸¸æ¯”è¾ƒä¼˜ç§€ã€‚</li></ul></li><li><p>å¤šçº¿ç¨‹æ¨¡å‹ï¼š</p><ul><li>Redis 6.0 ç‰ˆæœ¬å¼•å…¥äº†å¤šçº¿ç¨‹æ¨¡å‹ï¼ˆRedisä¸»ä»åˆ†ç¦»æ¨¡å¼ï¼‰ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„æ€§èƒ½ï¼Œæå‡æœåŠ¡å™¨çš„ååé‡å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</li><li>å¤šçº¿ç¨‹æ¨¡å‹å°†ç½‘ç»œIOã€å‘½ä»¤å¤„ç†å’Œæ•°æ®è¯»å†™ç­‰æ“ä½œåˆ†é…ç»™å¤šä¸ªå·¥ä½œçº¿ç¨‹å¤„ç†ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œé€‚ç”¨äºé«˜å¹¶å‘çš„åœºæ™¯ã€‚</li></ul></li></ol><p>ä¸ºä»€ä¹ˆå•çº¿ç¨‹æ¨¡å‹åœ¨æŸäº›æƒ…å†µä¸‹ä¼šæ¯”å¤šçº¿ç¨‹æ¨¡å‹å¿«å‘¢ï¼Ÿ</p><ol><li><p>çº¿ç¨‹åˆ‡æ¢å¼€é”€ï¼šåœ¨å¤šçº¿ç¨‹æ¨¡å‹ä¸­ï¼Œç”±äºæ¶‰åŠåˆ°çº¿ç¨‹çš„åˆ›å»ºã€é”€æ¯å’Œåˆ‡æ¢ï¼Œä¼šäº§ç”Ÿé¢å¤–çš„å¼€é”€ï¼Œè€Œå•çº¿ç¨‹æ¨¡å‹é¿å…äº†è¿™äº›å¼€é”€ã€‚</p></li><li><p>CPUç¼“å­˜ä¼˜åŒ–ï¼šå•çº¿ç¨‹æ¨¡å‹å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨CPUç¼“å­˜ï¼Œå› ä¸ºæ•°æ®å’ŒæŒ‡ä»¤éƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé¿å…äº†å¤šçº¿ç¨‹ä¸­é¢‘ç¹çš„æ•°æ®å…±äº«å’ŒåŒæ­¥æ“ä½œå¯èƒ½å¼•å‘çš„ç¼“å­˜å¤±æ•ˆé—®é¢˜ã€‚</p></li><li><p>çº¿ç¨‹åŒæ­¥å’Œé”ç«äº‰ï¼šåœ¨å¤šçº¿ç¨‹æ¨¡å‹ä¸­ï¼Œç”±äºæ¶‰åŠåˆ°å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºçš„è®¿é—®å’Œä¿®æ”¹ï¼Œéœ€è¦è¿›è¡Œçº¿ç¨‹åŒæ­¥å’Œé”ç«äº‰ï¼Œè€Œå•çº¿ç¨‹æ¨¡å‹é¿å…äº†è¿™äº›é—®é¢˜ã€‚</p></li></ol><p>è™½ç„¶å•çº¿ç¨‹æ¨¡å‹åœ¨æŸäº›æƒ…å†µä¸‹æ€§èƒ½ä¼˜äºå¤šçº¿ç¨‹æ¨¡å‹ï¼Œä½†æ˜¯å¯¹äºé«˜å¹¶å‘ã€å¤§è§„æ¨¡çš„åº”ç”¨åœºæ™¯ï¼Œå¤šçº¿ç¨‹æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨å¤šæ ¸CPUçš„æ€§èƒ½ï¼Œæé«˜ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚å› æ­¤ï¼Œé€‰æ‹©åˆé€‚çš„çº¿ç¨‹æ¨¡å‹éœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚è¿›è¡Œæƒè¡¡å’Œé€‰æ‹©ã€‚</p><h2 id="15-RedisæŒä¹…åŒ–æœºåˆ¶ï¼šRDBå’ŒAOF"><a href="#15-RedisæŒä¹…åŒ–æœºåˆ¶ï¼šRDBå’ŒAOF" class="headerlink" title="15. RedisæŒä¹…åŒ–æœºåˆ¶ï¼šRDBå’ŒAOF"></a>15. RedisæŒä¹…åŒ–æœºåˆ¶ï¼šRDBå’ŒAOF</h2><p>Redisï¼ˆè¿œç¨‹å­—å…¸æœåŠ¡å™¨ï¼‰æ˜¯ä¸€ç§æµè¡Œçš„å†…å­˜æ•°æ®åº“ï¼Œå®ƒæ”¯æŒå¤šç§æŒä¹…åŒ–æœºåˆ¶æ¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚ä¸¤ç§ä¸»è¦çš„æŒä¹…åŒ–æœºåˆ¶æ˜¯RDBï¼ˆRedis Databaseï¼‰å’ŒAOFï¼ˆAppend-Only Fileï¼‰ã€‚</p><ol><li><p><strong>RDBï¼ˆRedis Databaseï¼‰</strong>ï¼š</p><ul><li>RDB æ˜¯ Redis çš„ä¸€ç§å¿«ç…§æŒä¹…åŒ–æ–¹å¼ï¼Œå®ƒå‘¨æœŸæ€§åœ°å°† Redis åœ¨å†…å­˜ä¸­çš„æ•°æ®ä»¥å¿«ç…§çš„å½¢å¼ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</li><li>ç”Ÿæˆ RDB æ–‡ä»¶çš„æ—¶æœºå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„ä¿å­˜æ¡ä»¶æ¥è®¾ç½®ï¼Œæ¯”å¦‚åœ¨ä¸€å®šçš„æ—¶é—´é—´éš”å†…æˆ–è€…åœ¨è¾¾åˆ°ä¸€å®šæ•°é‡çš„å†™æ“ä½œåã€‚</li><li>ç”±äº RDB æ˜¯å°†æ•´ä¸ªæ•°æ®é›†ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œå› æ­¤å®ƒçš„æ¢å¤é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œé€‚ç”¨äºå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚ä¸æ˜¯å¾ˆé«˜ã€éœ€è¦å®šæœŸå¤‡ä»½æˆ–è€…è¿ç§»æ•°æ®çš„åœºæ™¯ã€‚</li></ul></li><li><p><strong>AOFï¼ˆAppend-Only Fileï¼‰</strong>ï¼š</p><ul><li>AOF æ˜¯é€šè¿‡å°† Redis çš„å†™æ“ä½œä»¥è¿½åŠ çš„æ–¹å¼è®°å½•åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­æ¥å®ç°æŒä¹…åŒ–çš„æœºåˆ¶ã€‚</li><li>AOF æ–‡ä»¶è®°å½•äº† Redis æœåŠ¡å™¨æ¥æ”¶åˆ°çš„æ‰€æœ‰å†™å‘½ä»¤ï¼Œé€šè¿‡é‡æ”¾è¿™äº›å‘½ä»¤å¯ä»¥æ¢å¤æ•°æ®ã€‚</li><li>AOF æ–‡ä»¶çš„å†…å®¹æ˜¯å¯è¯»çš„ï¼Œå› æ­¤åœ¨æ•…éšœå‘ç”Ÿæ—¶å¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°æ‰‹åŠ¨ä¿®å¤ï¼Œä½†ç›¸å¯¹äº RDBï¼ŒAOF æ–‡ä»¶é€šå¸¸ä¼šæ›´å¤§ä¸€äº›ã€‚</li><li>AOF æä¾›äº†ä¸åŒçš„åŒæ­¥é€‰é¡¹ï¼Œå¯ä»¥åœ¨æ€§èƒ½å’Œæ•°æ®å®‰å…¨ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œæ¯”å¦‚å¯ä»¥é€‰æ‹©æ¯ä¸ªå‘½ä»¤éƒ½åŒæ­¥åˆ°ç£ç›˜ï¼Œæˆ–è€…æ¯ç§’åŒæ­¥ä¸€æ¬¡ç­‰ã€‚</li></ul></li></ol><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œå¯¹æ•°æ®ä¸€è‡´æ€§ã€æ¢å¤é€Ÿåº¦ç­‰æ–¹é¢çš„è¦æ±‚é€‰æ‹©é€‚åˆçš„æŒä¹…åŒ–æœºåˆ¶ï¼Œç”šè‡³å¯ä»¥åŒæ—¶ä½¿ç”¨ RDB å’Œ AOF æ¥æé«˜æ•°æ®çš„å®‰å…¨æ€§ã€‚</p><h2 id="16-redisçš„è¿‡æœŸé”®æœ‰å“ªäº›åˆ é™¤ç­–ç•¥"><a href="#16-redisçš„è¿‡æœŸé”®æœ‰å“ªäº›åˆ é™¤ç­–ç•¥" class="headerlink" title="16. redisçš„è¿‡æœŸé”®æœ‰å“ªäº›åˆ é™¤ç­–ç•¥"></a>16. redisçš„è¿‡æœŸé”®æœ‰å“ªäº›åˆ é™¤ç­–ç•¥</h2><p>Redis ä¸­æœ‰å‡ ç§åˆ é™¤è¿‡æœŸé”®çš„ç­–ç•¥ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p><ol><li><p><strong>å®šæœŸåˆ é™¤ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</strong>ï¼š<br>Redis é»˜è®¤ä¼šæ¯ç§’æ£€æŸ¥ä¸€å®šæ•°é‡çš„è¿‡æœŸé”®ï¼Œç„¶ååˆ é™¤å…¶ä¸­å·²è¿‡æœŸçš„é”®ã€‚è¿™ä¸ªæ•°é‡å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„ <code>hz</code> å‚æ•°è¿›è¡Œè®¾ç½®ï¼Œé»˜è®¤ä¸º 10ã€‚</p></li><li><p><strong>æƒ°æ€§åˆ é™¤</strong>ï¼š<br>å½“å®¢æˆ·ç«¯å°è¯•è®¿é—®æŸä¸ªé”®æ—¶ï¼ŒRedis ä¼šå…ˆæ£€æŸ¥è¯¥é”®æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸåˆ™ä¼šç«‹å³åˆ é™¤ã€‚è¿™ç§æ–¹å¼ç§°ä¸ºæƒ°æ€§åˆ é™¤ã€‚</p></li><li><p><strong>å®šæœŸåˆ é™¤ + æƒ°æ€§åˆ é™¤ç»“åˆ</strong>ï¼š<br>å®šæœŸåˆ é™¤å’Œæƒ°æ€§åˆ é™¤å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œå®šæœŸåˆ é™¤ç¡®ä¿è¿‡æœŸé”®ä¸ä¼šä¸€ç›´å æ®å†…å­˜ï¼Œè€Œæƒ°æ€§åˆ é™¤åˆ™ä¿è¯äº†å†…å­˜çš„åŠæ—¶å›æ”¶ã€‚</p></li><li><p><strong>è¿‡æœŸé”®åˆ é™¤ç­–ç•¥é…ç½®</strong>ï¼š<br>åœ¨ Redis çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® <code>maxmemory-policy</code> å‚æ•°æ¥è°ƒæ•´è¿‡æœŸé”®çš„åˆ é™¤ç­–ç•¥ã€‚å¸¸è§çš„ç­–ç•¥åŒ…æ‹¬ï¼š</p><ul><li><code>volatile-lru</code>ï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„é”®ä¸­æŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>volatile-ttl</code>ï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„é”®ä¸­æŒ‘é€‰å³å°†è¿‡æœŸçš„é”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>volatile-random</code>ï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„é”®ä¸­éšæœºé€‰æ‹©é”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>allkeys-lru</code>ï¼šä»æ‰€æœ‰é”®ä¸­æŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é”®è¿›è¡Œåˆ é™¤ï¼ŒåŒ…æ‹¬è®¾ç½®è¿‡æœŸæ—¶é—´å’Œæœªè®¾ç½®è¿‡æœŸæ—¶é—´çš„é”®ã€‚</li><li><code>allkeys-random</code>ï¼šä»æ‰€æœ‰é”®ä¸­éšæœºé€‰æ‹©é”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>noeviction</code>ï¼šç¦æ­¢åˆ é™¤ä»»ä½•é”®ï¼Œå½“å†…å­˜ç”¨å®Œæ—¶ï¼Œæ‰€æœ‰å†™æ“ä½œéƒ½ä¼šè¿”å›é”™è¯¯ã€‚</li></ul></li></ol><p>é€šè¿‡é€‰æ‹©åˆé€‚çš„åˆ é™¤ç­–ç•¥ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚æ¥å¹³è¡¡å†…å­˜ä½¿ç”¨å’Œæ•°æ®å¯ç”¨æ€§ã€‚</p><h2 id="17-redisç¼“å­˜å¦‚ä½•å›æ”¶"><a href="#17-redisç¼“å­˜å¦‚ä½•å›æ”¶" class="headerlink" title="17. redisç¼“å­˜å¦‚ä½•å›æ”¶"></a>17. redisç¼“å­˜å¦‚ä½•å›æ”¶</h2><p>Redis ä¸­çš„ç¼“å­˜å›æ”¶é€šå¸¸æ˜¯æŒ‡å¯¹å†…å­˜çš„å›æ”¶ï¼Œä»¥ç¡®ä¿ Redis ä¸ä¼šå› ä¸ºå†…å­˜å ç”¨è¿‡é«˜è€Œå¯¼è‡´æ€§èƒ½ä¸‹é™æˆ–è€…æœåŠ¡ä¸å¯ç”¨ã€‚ä¸»è¦çš„ç¼“å­˜å›æ”¶æ–¹æ³•åŒ…æ‹¬ï¼š</p><ol><li><p><strong>å†…å­˜æ·˜æ±°ç­–ç•¥</strong>ï¼š<br>Redis æä¾›äº†å¤šç§å†…å­˜æ·˜æ±°ç­–ç•¥ï¼Œç”¨äºåœ¨å†…å­˜è¾¾åˆ°æœ€å¤§é™åˆ¶æ—¶é€‰æ‹©è¦ç§»é™¤çš„é”®ã€‚å¸¸è§çš„æ·˜æ±°ç­–ç•¥åŒ…æ‹¬ï¼š</p><ul><li>LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼šç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é”®ã€‚</li><li>LFUï¼ˆæœ€å°‘é¢‘ç¹ä½¿ç”¨ï¼‰ï¼šç§»é™¤æœ€å°‘é¢‘ç¹ä½¿ç”¨çš„é”®ã€‚</li><li>TTLï¼ˆè¿‡æœŸæ—¶é—´ï¼‰ï¼šç§»é™¤æœ€æ—©è¿‡æœŸçš„é”®ã€‚</li></ul></li><li><p><strong>è®¾ç½®å†…å­˜æœ€å¤§é™åˆ¶</strong>ï¼š<br>å¯ä»¥åœ¨ Redis é…ç½®æ–‡ä»¶ä¸­è®¾ç½® <code>maxmemory</code> å‚æ•°ï¼Œé™åˆ¶ Redis å®ä¾‹ä½¿ç”¨çš„æœ€å¤§å†…å­˜é‡ã€‚å½“è¾¾åˆ°è¿™ä¸ªé™åˆ¶æ—¶ï¼ŒRedis å°†ä¼šæ ¹æ®é…ç½®çš„å†…å­˜æ·˜æ±°ç­–ç•¥æ¥å›æ”¶å†…å­˜ã€‚</p></li><li><p><strong>æ‰‹åŠ¨åˆ é™¤</strong>ï¼š<br>å¯ä»¥é€šè¿‡æ‰‹åŠ¨åˆ é™¤é”®æ¥é‡Šæ”¾å†…å­˜ã€‚å½“æŸäº›é”®ä¸å†éœ€è¦ç¼“å­˜æ—¶ï¼Œå¯ä»¥é€šè¿‡ <code>DEL</code> å‘½ä»¤åˆ é™¤è¿™äº›é”®ã€‚</p></li><li><p><strong>æŒä¹…åŒ–ç­–ç•¥</strong>ï¼š<br>ä½¿ç”¨æŒä¹…åŒ–æœºåˆ¶ï¼ˆå¦‚ RDB æˆ– AOFï¼‰æ—¶ï¼Œå¯ä»¥é€šè¿‡åˆç†çš„è®¾ç½®æŒä¹…åŒ–ç­–ç•¥æ¥æ§åˆ¶æ•°æ®çš„æŒä¹…åŒ–é¢‘ç‡ï¼Œä»è€Œé—´æ¥åœ°æ§åˆ¶å†…å­˜çš„å ç”¨ã€‚</p></li><li><p><strong>è¿‡æœŸé”®è‡ªåŠ¨åˆ é™¤</strong>ï¼š<br>Redis ä¸­çš„é”®å¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä¸€æ—¦è¿‡æœŸæ—¶é—´åˆ°è¾¾ï¼ŒRedis å°†è‡ªåŠ¨åˆ é™¤è¿™äº›é”®ä»¥é‡Šæ”¾å†…å­˜ç©ºé—´ã€‚</p></li><li><p><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼š<br>å¯ä»¥é€šè¿‡ä¸€äº›ä¼˜åŒ–ç­–ç•¥æ¥å‡å°‘ Redis å®ä¾‹çš„å†…å­˜å ç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨æ•°æ®ç»“æ„ä¼˜åŒ–ã€å‹ç¼©æ•°æ®ã€åˆ†ç‰‡æ•°æ®ç­‰æ–¹å¼ã€‚</p></li></ol><p>ç»¼åˆåˆ©ç”¨è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç®¡ç† Redis çš„å†…å­˜ä½¿ç”¨ï¼Œç¡®ä¿å…¶åœ¨é«˜æ€§èƒ½çš„åŒæ—¶ä¸ä¼šå› ä¸ºå†…å­˜æº¢å‡ºè€Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚</p><h2 id="18-redisé›†ç¾¤æ–¹æ¡ˆæœ‰å“ªäº›"><a href="#18-redisé›†ç¾¤æ–¹æ¡ˆæœ‰å“ªäº›" class="headerlink" title="18. redisé›†ç¾¤æ–¹æ¡ˆæœ‰å“ªäº›"></a>18. redisé›†ç¾¤æ–¹æ¡ˆæœ‰å“ªäº›</h2><p>åœ¨æ­å»º Redis é›†ç¾¤æ—¶ï¼Œæœ‰å‡ ç§å¸¸è§çš„æ–¹æ¡ˆï¼š</p><ol><li><p><strong>Redis Sentinel</strong>ï¼š<br>Redis Sentinel æ˜¯ Redis å®˜æ–¹æä¾›çš„é«˜å¯ç”¨æ€§è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ç›‘æ§ Redis å®ä¾‹çš„å¥åº·çŠ¶æ€ï¼Œå¹¶åœ¨ä¸»èŠ‚ç‚¹å®•æœºæ—¶è‡ªåŠ¨å°†ä»èŠ‚ç‚¹æå‡ä¸ºä¸»èŠ‚ç‚¹ï¼Œä»¥ä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚ä½†æ˜¯ Redis Sentinel æœ¬èº«å¹¶ä¸æ”¯æŒæ•°æ®åˆ†ç‰‡ï¼Œåªèƒ½ç”¨äºé«˜å¯ç”¨æ€§æ–¹æ¡ˆã€‚</p></li><li><p><strong>Redis Cluster</strong>ï¼š<br>Redis Cluster æ˜¯ Redis å®˜æ–¹æä¾›çš„åˆ†å¸ƒå¼æ–¹æ¡ˆï¼Œå®ƒå°†æ•°æ®åˆ†ç‰‡å­˜å‚¨åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¹¶æä¾›äº†è‡ªåŠ¨æ•°æ®åˆ†ç‰‡å’Œæ•°æ®å¤åˆ¶ç­‰åŠŸèƒ½ï¼Œå¯ä»¥å®ç°æ°´å¹³æ‰©å±•å’Œé«˜å¯ç”¨æ€§ã€‚Redis Cluster åœ¨è®¾è®¡ä¸Šéµå¾ªäº†ä¸»ä»å¤åˆ¶ã€æ•°æ®åˆ†ç‰‡å’ŒèŠ‚ç‚¹äº’ç›¸é€šä¿¡ç­‰åŸåˆ™ï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆã€‚</p></li><li><p><strong>ç¬¬ä¸‰æ–¹æ–¹æ¡ˆ</strong>ï¼š<br>é™¤äº†å®˜æ–¹æä¾›çš„è§£å†³æ–¹æ¡ˆä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·å’Œæ–¹æ¡ˆå¯ä»¥å®ç° Redis çš„é›†ç¾¤åŒ–ï¼Œæ¯”å¦‚ Twemproxyã€Codis ç­‰ã€‚è¿™äº›æ–¹æ¡ˆå¯èƒ½ä¼šæä¾›ä¸€äº›é¢å¤–çš„åŠŸèƒ½æˆ–è€…æ›´åŠ çµæ´»çš„é…ç½®é€‰é¡¹ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦å’Œç»´æŠ¤æˆæœ¬ã€‚</p></li></ol><p>åœ¨é€‰æ‹©é€‚åˆè‡ªå·±çš„ Redis é›†ç¾¤æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦è€ƒè™‘åˆ°ç³»ç»Ÿçš„éœ€æ±‚ã€æ€§èƒ½è¦æ±‚ã€é«˜å¯ç”¨æ€§è¦æ±‚ä»¥åŠå›¢é˜Ÿçš„æŠ€æœ¯æ ˆå’Œç»´æŠ¤æˆæœ¬ç­‰å› ç´ ã€‚</p><h2 id="19-redisäº‹åŠ¡æ˜¯æ€ä¹ˆå®ç°çš„"><a href="#19-redisäº‹åŠ¡æ˜¯æ€ä¹ˆå®ç°çš„" class="headerlink" title="19. redisäº‹åŠ¡æ˜¯æ€ä¹ˆå®ç°çš„"></a>19. redisäº‹åŠ¡æ˜¯æ€ä¹ˆå®ç°çš„</h2><p>Redis çš„äº‹åŠ¡æ˜¯é€šè¿‡ MULTI/EXEC å‘½ä»¤ç»„åˆæ¥å®ç°çš„ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p><strong>MULTI å‘½ä»¤</strong>ï¼š<br>å®¢æˆ·ç«¯å‘é€ MULTI å‘½ä»¤ç»™ Redis æœåŠ¡å™¨ï¼Œè¡¨ç¤ºå¼€å§‹ä¸€ä¸ªäº‹åŠ¡ã€‚Redis æœåŠ¡å™¨æ”¶åˆ° MULTI å‘½ä»¤åï¼Œä¼šå°†å½“å‰å®¢æˆ·ç«¯è®¾ç½®ä¸ºäº‹åŠ¡çŠ¶æ€ï¼Œå¹¶å°†åç»­çš„å‘½ä»¤éƒ½æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…æ‰§è¡Œã€‚</p></li><li><p><strong>å‘½ä»¤å…¥é˜Ÿ</strong>ï¼š<br>åœ¨ MULTI å’Œ EXEC ä¹‹é—´çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«æ”¾å…¥äº‹åŠ¡é˜Ÿåˆ—ä¸­ï¼Œè€Œä¸æ˜¯ç«‹å³æ‰§è¡Œã€‚è¿™äº›å‘½ä»¤ä¸ä¼šç«‹å³æ”¹å˜æ•°æ®åº“çŠ¶æ€ï¼Œè€Œæ˜¯æš‚æ—¶ä¿å­˜åœ¨é˜Ÿåˆ—ä¸­ã€‚</p></li><li><p><strong>å‘½ä»¤æ‰§è¡Œ</strong>ï¼š<br>å®¢æˆ·ç«¯å‘é€ EXEC å‘½ä»¤ç»™ Redis æœåŠ¡å™¨ï¼Œè¡¨ç¤ºæ‰§è¡Œäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤ã€‚Redis æœåŠ¡å™¨æ”¶åˆ° EXEC å‘½ä»¤åï¼Œä¼šæŒ‰ç…§å‘½ä»¤å…¥é˜Ÿçš„é¡ºåºï¼Œé€ä¸ªæ‰§è¡Œäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ã€‚</p></li><li><p><strong>äº‹åŠ¡åŸå­æ€§</strong>ï¼š<br>åœ¨æ‰§è¡Œäº‹åŠ¡æœŸé—´ï¼ŒRedis ä¼šå°†è¿™äº›å‘½ä»¤ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¤±è´¥ã€‚è¿™ä¿è¯äº†äº‹åŠ¡çš„åŸå­æ€§ï¼Œå³è¦ä¹ˆæ‰€æœ‰å‘½ä»¤éƒ½æˆåŠŸæ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚</p></li><li><p><strong>æ‰§è¡Œç»“æœè¿”å›</strong>ï¼š<br>æ‰§è¡Œäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤åï¼ŒRedis ä¼šå°†æ¯ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœæŒ‰ç…§é¡ºåºè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å¦‚æœåœ¨æ‰§è¡Œäº‹åŠ¡è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼ŒRedis ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ç»™å®¢æˆ·ç«¯ï¼ŒåŒæ—¶å›æ»šä¹‹å‰å·²æ‰§è¡Œçš„å‘½ä»¤ã€‚</p></li></ol><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒRedis çš„äº‹åŠ¡å¯ä»¥ç¡®ä¿ä¸€ç³»åˆ—å‘½ä»¤çš„åŸå­æ€§æ‰§è¡Œï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRedis çš„äº‹åŠ¡å¹¶ä¸æ”¯æŒå›æ»šæ“ä½œï¼Œå› æ­¤åœ¨å‘ç”Ÿé”™è¯¯æ—¶ï¼Œéœ€è¦ç”±å®¢æˆ·ç«¯è‡ªè¡Œå¤„ç†é”™è¯¯å¹¶è¿›è¡Œè¡¥å¿æ“ä½œã€‚</p><h2 id="20-redis-ä¸»ä»å¤åˆ¶çš„åŸç†"><a href="#20-redis-ä¸»ä»å¤åˆ¶çš„åŸç†" class="headerlink" title="20. redis ä¸»ä»å¤åˆ¶çš„åŸç†"></a>20. redis ä¸»ä»å¤åˆ¶çš„åŸç†</h2><p>Redis ä¸»ä»å¤åˆ¶æ˜¯ä¸€ç§å¸¸ç”¨çš„é«˜å¯ç”¨æ€§å’Œè¯»å†™åˆ†ç¦»æ–¹æ¡ˆï¼Œå®ƒçš„åŸç†å¦‚ä¸‹ï¼š</p><ol><li><p><strong>å»ºç«‹è¿æ¥</strong>ï¼š<br>é¦–å…ˆï¼Œä»èŠ‚ç‚¹ï¼ˆSlaveï¼‰ä¼šå‘ä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰å‘é€ä¸€ä¸ª PSYNC æˆ– SYNC å‘½ä»¤ï¼Œè¯·æ±‚å»ºç«‹å¤åˆ¶è¿æ¥ã€‚</p></li><li><p><strong>åŒæ­¥æ•°æ®</strong>ï¼š<br>ä¸€æ—¦è¿æ¥å»ºç«‹æˆåŠŸï¼Œä¸»èŠ‚ç‚¹ä¼šå°†è‡ªå·±çš„æ•°æ®å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹ä¼šæ¥æ”¶å¹¶ä¿å­˜è¿™äº›æ•°æ®ã€‚å¦‚æœæ˜¯é¦–æ¬¡è¿›è¡Œå¤åˆ¶ï¼Œä¸»èŠ‚ç‚¹ä¼šå‘é€æ•´ä¸ªæ•°æ®é›†ï¼›å¦‚æœæ˜¯å¢é‡å¤åˆ¶ï¼Œä¸»èŠ‚ç‚¹ä¼šå‘é€ä»ä¸Šæ¬¡å¤åˆ¶ç‚¹ä¹‹åçš„æ•°æ®å˜åŒ–ã€‚</p></li><li><p><strong>å¢é‡å¤åˆ¶</strong>ï¼š<br>åœ¨åˆå§‹åŒæ­¥å®Œæˆåï¼Œä¸»èŠ‚ç‚¹ä¼šç»§ç»­å°†æ‰€æœ‰å†™å‘½ä»¤å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹ä¼šæ ¹æ®è¿™äº›å†™å‘½ä»¤æ¥æ›´æ–°è‡ªå·±çš„æ•°æ®é›†ã€‚è¿™æ ·ï¼Œä»èŠ‚ç‚¹å°±èƒ½ä¿æŒå’Œä¸»èŠ‚ç‚¹ä¸€æ ·çš„æ•°æ®çŠ¶æ€ã€‚</p></li><li><p><strong>æŒç»­è¿æ¥å’ŒåŒæ­¥</strong>ï¼š<br>ä¸€æ—¦å¤åˆ¶å»ºç«‹ï¼Œä¸»ä»èŠ‚ç‚¹ä¹‹é—´ä¼šç»´æŒä¸€ä¸ªæŒä¹…çš„è¿æ¥ã€‚ä¸»èŠ‚ç‚¹ä¼šæŒç»­åœ°å°†å†™å‘½ä»¤å‘é€ç»™ä»èŠ‚ç‚¹ï¼Œç¡®ä¿ä»èŠ‚ç‚¹å§‹ç»ˆä¸ä¸»èŠ‚ç‚¹ä¿æŒåŒæ­¥ã€‚</p></li><li><p><strong>ä¸»ä»åˆ‡æ¢</strong>ï¼š<br>å½“ä¸»èŠ‚ç‚¹å®•æœºæˆ–è€…ä¸å¯ç”¨æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨æˆ–è‡ªåŠ¨åœ°å°†ä»èŠ‚ç‚¹æå‡ä¸ºä¸»èŠ‚ç‚¹ï¼Œä»¥ä¿è¯ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚åœ¨è‡ªåŠ¨æ•…éšœè½¬ç§»ä¸­ï¼ŒRedis Sentinel æˆ–å…¶ä»–ç›‘æ§å·¥å…·ä¼šç›‘æµ‹ä¸»èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå¹¶åœ¨ä¸»èŠ‚ç‚¹ä¸å¯ç”¨æ—¶è‡ªåŠ¨å°†æŸä¸ªä»èŠ‚ç‚¹å‡çº§ä¸ºä¸»èŠ‚ç‚¹ã€‚</p></li></ol><p>é€šè¿‡ä¸»ä»å¤åˆ¶ï¼ŒRedis å®ç°äº†æ•°æ®çš„å¤‡ä»½å’Œè¯»å†™åˆ†ç¦»ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚ä»èŠ‚ç‚¹å¯ä»¥å¤„ç†è¯»è¯·æ±‚ï¼Œåˆ†æ‹…ä¸»èŠ‚ç‚¹çš„å‹åŠ›ï¼ŒåŒæ—¶åœ¨ä¸»èŠ‚ç‚¹æ•…éšœæ—¶å¯ä»¥å¿«é€Ÿæ¥ç®¡ï¼Œä¿è¯æœåŠ¡çš„è¿ç»­æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 1 41-50</title>
      <link href="/2024/04/07/verbal-advantage-level-1-41-50/"/>
      <url>/2024/04/07/verbal-advantage-level-1-41-50/</url>
      
        <content type="html"><![CDATA[<h1 id="word-41-50"><a href="#word-41-50" class="headerlink" title="word 41-50"></a>word 41-50</h1><h2 id="word-41-cantankerous-è„¾æ°”åçš„ï¼Œçˆ±äº‰åµçš„"><a href="#word-41-cantankerous-è„¾æ°”åçš„ï¼Œçˆ±äº‰åµçš„" class="headerlink" title="word 41: cantankerous è„¾æ°”åçš„ï¼Œçˆ±äº‰åµçš„"></a>word 41: <strong>cantankerous</strong> è„¾æ°”åçš„ï¼Œçˆ±äº‰åµçš„</h2><p>They are often obstinate and cantankerous, and as a result they are unwanted by their relations.</p><h2 id="word-42-flippant-è½»ç‡çš„ï¼Œæ— ç¤¼çš„"><a href="#word-42-flippant-è½»ç‡çš„ï¼Œæ— ç¤¼çš„" class="headerlink" title="word 42: flippant è½»ç‡çš„ï¼Œæ— ç¤¼çš„"></a>word 42: <strong>flippant</strong> è½»ç‡çš„ï¼Œæ— ç¤¼çš„</h2><p>He was very flippant in parts of his speech and completely callous in other parts of it.</p><h2 id="word-43-subjugate-å¾æœï¼Œé•‡å‹"><a href="#word-43-subjugate-å¾æœï¼Œé•‡å‹" class="headerlink" title="word 43: subjugate å¾æœï¼Œé•‡å‹"></a>word 43: <strong>subjugate</strong> å¾æœï¼Œé•‡å‹</h2><p>Nearly 1, 000 years have passed since we were conquered or subjugated by external force.</p><h2 id="word-44-wry-æ‰­æ›²çš„ï¼Œæ­ªæ–œçš„"><a href="#word-44-wry-æ‰­æ›²çš„ï¼Œæ­ªæ–œçš„" class="headerlink" title="word 44: wry æ‰­æ›²çš„ï¼Œæ­ªæ–œçš„"></a>word 44: <strong>wry</strong> æ‰­æ›²çš„ï¼Œæ­ªæ–œçš„</h2><p>It is characterized by a lot of wry humour, some of which had me spontaneously laughing aloud.</p><h2 id="word-45-urbane-æ¸©æ–‡å°”é›…çš„ï¼Œå½¬å½¬æœ‰ç¤¼çš„"><a href="#word-45-urbane-æ¸©æ–‡å°”é›…çš„ï¼Œå½¬å½¬æœ‰ç¤¼çš„" class="headerlink" title="word 45: urbane æ¸©æ–‡å°”é›…çš„ï¼Œå½¬å½¬æœ‰ç¤¼çš„"></a>word 45: <strong>urbane</strong> æ¸©æ–‡å°”é›…çš„ï¼Œå½¬å½¬æœ‰ç¤¼çš„</h2><p>Yet he proves to be far from the urbane wealthy gentleman they were expecting.</p><h2 id="word-46-jargon-è¡Œè¯ï¼Œæœ¯è¯­"><a href="#word-46-jargon-è¡Œè¯ï¼Œæœ¯è¯­" class="headerlink" title="word 46: jargon è¡Œè¯ï¼Œæœ¯è¯­"></a>word 46: <strong>jargon</strong> è¡Œè¯ï¼Œæœ¯è¯­</h2><p>To sum up, this book is very clearly written and presented throughout, and refreshingly free of jargon and conceptual obfuscation.</p><h2 id="word-47-prudent-è°¨æ…çš„ï¼ŒèŠ‚ä¿­çš„"><a href="#word-47-prudent-è°¨æ…çš„ï¼ŒèŠ‚ä¿­çš„" class="headerlink" title="word 47: prudent è°¨æ…çš„ï¼ŒèŠ‚ä¿­çš„"></a>word 47: <strong>prudent</strong> è°¨æ…çš„ï¼ŒèŠ‚ä¿­çš„</h2><p>In other words, democratic responsibility requires that policy decisions are clearly defensible as being prudent and in the public interest.</p><h2 id="word-48-inviolable-ä¸å¯ä¾µçŠ¯çš„ï¼Œä¸å¯è¿è¿”çš„"><a href="#word-48-inviolable-ä¸å¯ä¾µçŠ¯çš„ï¼Œä¸å¯è¿è¿”çš„" class="headerlink" title="word 48: inviolable ä¸å¯ä¾µçŠ¯çš„ï¼Œä¸å¯è¿è¿”çš„"></a>word 48: <strong>inviolable</strong> ä¸å¯ä¾µçŠ¯çš„ï¼Œä¸å¯è¿è¿”çš„</h2><p>The condition would be inviolable, because every candidate would have the property.</p><h2 id="word-49-commodious-å®½æ•çš„"><a href="#word-49-commodious-å®½æ•çš„" class="headerlink" title="word 49: commodious å®½æ•çš„"></a>word 49: <strong>commodious</strong> å®½æ•çš„</h2><p>More commodious quarters increased in cost.</p><h2 id="word-50-proximity-æ¥è¿‘ï¼Œé™„è¿‘"><a href="#word-50-proximity-æ¥è¿‘ï¼Œé™„è¿‘" class="headerlink" title="word 50: proximity æ¥è¿‘ï¼Œé™„è¿‘"></a>word 50: <strong>proximity</strong> æ¥è¿‘ï¼Œé™„è¿‘</h2><p>He visited rural villages and witnessed how the different groups lived in close proximity to one another.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·P1655 æ–¯ç‰¹çµæ•°java</title>
      <link href="/2024/04/05/%E6%B4%9B%E8%B0%B7P1655-%E6%96%AF%E7%89%B9%E7%81%B5%E6%95%B0java/"/>
      <url>/2024/04/05/%E6%B4%9B%E8%B0%B7P1655-%E6%96%AF%E7%89%B9%E7%81%B5%E6%95%B0java/</url>
      
        <content type="html"><![CDATA[<h1 id="å°æœ‹å‹çš„çƒ"><a href="#å°æœ‹å‹çš„çƒ" class="headerlink" title="å°æœ‹å‹çš„çƒ"></a>å°æœ‹å‹çš„çƒ</h1><p><a href="https://www.luogu.com.cn/problem/P1655">é¢˜ç›®é“¾æ¥</a></p><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>@å‘æºäº å°æœ‹å‹æœ€è¿‘ç‰¹åˆ«å–œæ¬¢çƒã€‚æœ‰ä¸€å¤©ä»–è„‘å­æŠ½äº†ï¼Œä»å£è¢‹é‡Œæ‹¿å‡ºäº† $N$ ä¸ªä¸åŒçš„çƒï¼Œæƒ³æŠŠå®ƒä»¬æ”¾åˆ° $M$ ä¸ªç›¸åŒçš„ç›’å­é‡Œï¼Œå¹¶ä¸”è¦æ±‚æ¯ä¸ªç›’å­ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ªçƒï¼Œä»–å¥½å¥‡æœ‰å‡ ç§æ”¾æ³•ï¼Œäºæ˜¯å°è¯•ç¼–ç¨‹å®ç°ï¼Œä½†ç”±äºä»–å¤©å¤©ä¸å¥½å¥½å­¦ä¹ ï¼Œåªä¼šä¸Š B ç«™çœ‹æ¸¸æ³³æ•™ç»ƒï¼Œäºæ˜¯ä»–å‘ä½ æ±‚åŠ©ã€‚</p><h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>å¤šç»„æ•°æ®ï¼Œæ¯è¡Œä¸¤ä¸ªæ•° $N,M$ã€‚</p><h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>æ¯ç»„æ•°æ®ä¸€è¡Œï¼Œè¡¨ç¤ºæ–¹æ¡ˆæ•°ã€‚</p><h2 id="æ ·ä¾‹-1"><a href="#æ ·ä¾‹-1" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1"><a href="#æ ·ä¾‹è¾“å…¥-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4 2</span><br><span class="line">1 1</span><br></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1"><a href="#æ ·ä¾‹è¾“å‡º-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h2 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h2><ul><li>å¯¹äº $20\%$ çš„æ•°æ®ï¼Œæ»¡è¶³ $N,M \leq 10$ï¼›</li><li>å¯¹äº $100\%$ çš„æ•°æ®ï¼Œæ»¡è¶³ $1 \leq N,M \leq 100$ï¼Œä¸€ä¸ªæµ‹è¯•æ–‡ä»¶æœ€å¤šæœ‰ $10$ ç»„æµ‹è¯•æ•°æ®ã€‚</li></ul><h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p><a href="https://zh.wikipedia.org/wiki/%E6%96%AF%E7%89%B9%E7%81%B5%E6%95%B0">æ–¯ç‰¹çµæ•°</a></p><h2 id="BigInteger"><a href="#BigInteger" class="headerlink" title="BigInteger"></a>BigInteger</h2><p>å› ä¸ºå®åœ¨ä¸æƒ³å†™C++é«˜ç²¾ï¼Œæˆ–è€…è¯´æˆ‘å·²ç»ä¸ç”¨å†™C++é«˜ç²¾äº†ï¼Œæ‰€ä»¥é€‰æ‹©javaæˆ–è€…pythonå»è§£å†³é—®é¢˜æ›´æ˜æ™ºä¸€äº›ã€‚<br>ç®€å•è®°å½•ä¸€ä¸‹javaä¸­BigIntegerçš„ä½¿ç”¨æ–¹æ³•ã€‚<br><strong>åœ¨ Java ä¸­ï¼Œ<code>BigInteger</code> æ˜¯ä¸å¯å˜çš„ç±»ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ª BigInteger å¯¹è±¡ï¼Œå®ƒçš„å€¼å°±ä¸èƒ½è¢«æ”¹å˜ã€‚</strong><br>BigInteger ç±»æ˜¯ Java ä¸­ç”¨æ¥è¡¨ç¤ºä»»æ„ç²¾åº¦æ•´æ•°çš„ç±»ã€‚ç”±äºå®ƒå¯ä»¥å¤„ç†æ¯” long ç±»å‹æ›´å¤§èŒƒå›´çš„æ•´æ•°ï¼Œå› æ­¤åœ¨éœ€è¦å¤„ç†å¤§æ•´æ•°è®¡ç®—æ—¶éå¸¸æœ‰ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº› BigInteger ç±»çš„å¸¸è§ç”¨æ³•ï¼š</p><ol><li><p><strong>åˆ›å»º BigInteger å¯¹è±¡</strong>ï¼šå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°æˆ–é™æ€å·¥å‚æ–¹æ³•æ¥åˆ›å»º BigInteger å¯¹è±¡ã€‚</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigInteger</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;12345678901234567890&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">num2</span> <span class="operator">=</span> BigInteger.valueOf(<span class="number">98765432109876543210L</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p><ul><li>åŠ æ³•ï¼š<code>add(BigInteger val)</code></li><li>å‡æ³•ï¼š<code>subtract(BigInteger val)</code></li><li>ä¹˜æ³•ï¼š<code>multiply(BigInteger val)</code></li><li>é™¤æ³•ï¼š<code>divide(BigInteger val)</code></li><li>å–ä½™ï¼š<code>remainder(BigInteger val)</code></li><li>ç»å¯¹å€¼ï¼š<code>abs()</code></li><li>æ¯”è¾ƒï¼š<code>compareTo(BigInteger val)</code></li><li>è½¬æ¢ä¸º long ç±»å‹ï¼š<code>longValue()</code></li><li>è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š<code>toString()</code></li></ul></li><li><p><strong>ä¸åŸå§‹æ•°æ®ç±»å‹çš„è½¬æ¢</strong>ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">intValue</span> <span class="operator">=</span> num1.intValue();</span><br><span class="line"><span class="type">long</span> <span class="variable">longValue</span> <span class="operator">=</span> num1.longValue();</span><br><span class="line"><span class="type">double</span> <span class="variable">doubleValue</span> <span class="operator">=</span> num1.doubleValue();</span><br></pre></td></tr></table></figure></li><li><p><strong>æ¯”è¾ƒä¸¤ä¸ª BigInteger</strong>ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (num1.compareTo(num2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// num1 å¤§äº num2</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (num1.compareTo(num2) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// num1 å°äº num2</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// num1 ç­‰äº num2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>BigInteger çš„ä¸å¯å˜æ€§</strong>ï¼šBigInteger å¯¹è±¡çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ä»»ä½•æ•°å­¦è¿ç®—éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ BigInteger å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œè¿›è¡Œæ•°å­¦è¿ç®—åï¼ŒåŸå§‹çš„ BigInteger å¯¹è±¡ä¸ä¼šæ”¹å˜ã€‚</p></li><li><p><strong>BigInteger çš„ä½è¿ç®—</strong>ï¼šBigInteger ç±»ä¹Ÿæ”¯æŒä½è¿ç®—æ–¹æ³•ï¼Œæ¯”å¦‚ <code>and()</code>ã€<code>or()</code>ã€<code>xor()</code> å’Œ <code>shiftLeft()</code>ã€<code>shiftRight()</code> ç­‰æ–¹æ³•ã€‚</p></li></ol><p>ä»¥ä¸Šæ˜¯ä¸€äº›å¸¸è§çš„ BigInteger ç±»çš„ç”¨æ³•ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ³•æ¥æ“ä½œ BigInteger å¯¹è±¡ã€‚</p><h2 id="ACä»£ç "><a href="#ACä»£ç " class="headerlink" title="ACä»£ç "></a>ACä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">MAX</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> BigInteger[][] S = <span class="keyword">new</span> <span class="title class_">BigInteger</span>[MAX][MAX];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">initS</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;MAX;i++)&#123;</span><br><span class="line">            S[i][i]=BigInteger.ONE;</span><br><span class="line">            S[i][<span class="number">1</span>]=BigInteger.ONE;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;i;j++)&#123;</span><br><span class="line">                S[i][j]=S[i-<span class="number">1</span>][j-<span class="number">1</span>].add(S[i-<span class="number">1</span>][j].multiply(BigInteger.valueOf(j)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        initS();</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(sc.hasNextInt())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(n&lt;m) System.out.println(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">else</span> System.out.println(S[n][m]);</span><br><span class="line">        &#125;</span><br><span class="line">        sc.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ´›è°· </tag>
            
            <tag> ç»„åˆæ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 1 21-40</title>
      <link href="/2024/04/05/verbal-advantage-level-1-21-40/"/>
      <url>/2024/04/05/verbal-advantage-level-1-21-40/</url>
      
        <content type="html"><![CDATA[<h1 id="word-21-30"><a href="#word-21-30" class="headerlink" title="word 21-30"></a>word 21-30</h1><h2 id="word-21-creed-ä¿¡æ¡ï¼Œä¿¡ä»°"><a href="#word-21-creed-ä¿¡æ¡ï¼Œä¿¡ä»°" class="headerlink" title="word 21: creed ä¿¡æ¡ï¼Œä¿¡ä»°"></a>word 21: <strong>creed</strong> ä¿¡æ¡ï¼Œä¿¡ä»°</h2><p>It takes in anybody regardless of religion, colour, or creed.</p><h2 id="word-22-tawdry-å»‰ä»·è€ŒèŠ±å“¨çš„ï¼Œä¿—è‰³çš„"><a href="#word-22-tawdry-å»‰ä»·è€ŒèŠ±å“¨çš„ï¼Œä¿—è‰³çš„" class="headerlink" title="word 22: tawdry å»‰ä»·è€ŒèŠ±å“¨çš„ï¼Œä¿—è‰³çš„"></a>word 22: <strong>tawdry</strong> å»‰ä»·è€ŒèŠ±å“¨çš„ï¼Œä¿—è‰³çš„</h2><p>A person may wear tawdry clothing or have a tawdry reputation.</p><h2 id="word-23-peevish-æ˜“æ€’çš„ï¼Œåè„¾æ°”çš„"><a href="#word-23-peevish-æ˜“æ€’çš„ï¼Œåè„¾æ°”çš„" class="headerlink" title="word 23: peevish æ˜“æ€’çš„ï¼Œåè„¾æ°”çš„"></a>word 23: <strong>peevish</strong> æ˜“æ€’çš„ï¼Œåè„¾æ°”çš„</h2><p>She glared down at me with a peevish expression on her face.</p><h2 id="word-24-arduous-è´¹åŠ›çš„ï¼Œè‰°éš¾çš„"><a href="#word-24-arduous-è´¹åŠ›çš„ï¼Œè‰°éš¾çš„" class="headerlink" title="word 24: arduous è´¹åŠ›çš„ï¼Œè‰°éš¾çš„"></a>word 24: <strong>arduous</strong> è´¹åŠ›çš„ï¼Œè‰°éš¾çš„</h2><p>We must have patience in doing arduous work.</p><h2 id="word-25-personable-è‹±ä¿Šçš„ï¼Œæ¼‚äº®çš„ï¼Œå¥½çœ‹çš„"><a href="#word-25-personable-è‹±ä¿Šçš„ï¼Œæ¼‚äº®çš„ï¼Œå¥½çœ‹çš„" class="headerlink" title="word 25: personable è‹±ä¿Šçš„ï¼Œæ¼‚äº®çš„ï¼Œå¥½çœ‹çš„"></a>word 25: <strong>personable</strong> è‹±ä¿Šçš„ï¼Œæ¼‚äº®çš„ï¼Œå¥½çœ‹çš„</h2><p>Jeremy excepted, the men seemed personable.</p><h2 id="word-26-resolute-åšå†³çš„ï¼Œæœæ–­çš„"><a href="#word-26-resolute-åšå†³çš„ï¼Œæœæ–­çš„" class="headerlink" title="word 26: resolute åšå†³çš„ï¼Œæœæ–­çš„"></a>word 26: <strong>resolute</strong> åšå†³çš„ï¼Œæœæ–­çš„</h2><p>Voters perceive him as a decisive and resolute international leader.</p><h2 id="word-27-supposition-å‡å®šï¼Œæ¨æµ‹"><a href="#word-27-supposition-å‡å®šï¼Œæ¨æµ‹" class="headerlink" title="word 27: supposition å‡å®šï¼Œæ¨æµ‹"></a>word 27: <strong>supposition</strong> å‡å®šï¼Œæ¨æµ‹</h2><p>The report is based entirely on supposition.</p><h2 id="word-28-arbitrary-æ­¦æ–­çš„ï¼Œä¸»è§‚çš„"><a href="#word-28-arbitrary-æ­¦æ–­çš„ï¼Œä¸»è§‚çš„" class="headerlink" title="word 28: arbitrary æ­¦æ–­çš„ï¼Œä¸»è§‚çš„"></a>word 28: <strong>arbitrary</strong> æ­¦æ–­çš„ï¼Œä¸»è§‚çš„</h2><p>He makes unpredictable, arbitrary decisions.</p><h2 id="word-29-monotonous-å•è°ƒçš„ï¼Œæ— å˜åŒ–çš„"><a href="#word-29-monotonous-å•è°ƒçš„ï¼Œæ— å˜åŒ–çš„" class="headerlink" title="word 29: monotonous å•è°ƒçš„ï¼Œæ— å˜åŒ–çš„"></a>word 29: <strong>monotonous</strong> å•è°ƒçš„ï¼Œæ— å˜åŒ–çš„</h2><p>Itâ€™s monotonous work, like most factory jobs.</p><h2 id="word-30-legacy-é—äº§ï¼Œé—èµ "><a href="#word-30-legacy-é—äº§ï¼Œé—èµ " class="headerlink" title="word 30: legacy é—äº§ï¼Œé—èµ "></a>word 30: <strong>legacy</strong> é—äº§ï¼Œé—èµ </h2><p>They each received a legacy of $5 000.</p><h1 id="word-31-40"><a href="#word-31-40" class="headerlink" title="word 31-40"></a>word 31-40</h1><h2 id="word-31ï¼šmanifold-å„ç§å„æ ·çš„ï¼Œå¤šæ–¹é¢çš„"><a href="#word-31ï¼šmanifold-å„ç§å„æ ·çš„ï¼Œå¤šæ–¹é¢çš„" class="headerlink" title="word 31ï¼šmanifold å„ç§å„æ ·çš„ï¼Œå¤šæ–¹é¢çš„"></a>word 31ï¼š<strong>manifold</strong> å„ç§å„æ ·çš„ï¼Œå¤šæ–¹é¢çš„</h2><p>The possibilities were manifold.</p><h2 id="word-32-pliant-æŸ”éŸ§çš„ï¼Œå¯å¡‘çš„-èƒ½é€‚åº”çš„ï¼Œæ˜“å—å½±å“çš„"><a href="#word-32-pliant-æŸ”éŸ§çš„ï¼Œå¯å¡‘çš„-èƒ½é€‚åº”çš„ï¼Œæ˜“å—å½±å“çš„" class="headerlink" title="word 32: pliant æŸ”éŸ§çš„ï¼Œå¯å¡‘çš„ / èƒ½é€‚åº”çš„ï¼Œæ˜“å—å½±å“çš„"></a>word 32: <strong>pliant</strong> æŸ”éŸ§çš„ï¼Œå¯å¡‘çš„ / èƒ½é€‚åº”çš„ï¼Œæ˜“å—å½±å“çš„</h2><p>She lay pliant in his arms.</p><h2 id="word-33-retort-åé©³ï¼Œå›å˜´"><a href="#word-33-retort-åé©³ï¼Œå›å˜´" class="headerlink" title="word 33: retort åé©³ï¼Œå›å˜´"></a>word 33: <strong>retort</strong> åé©³ï¼Œå›å˜´</h2><p>His sharp retort clearly made an impact.</p><h2 id="word-34-obstinate-å›ºæ‰§çš„ï¼Œå€”å¼ºçš„"><a href="#word-34-obstinate-å›ºæ‰§çš„ï¼Œå€”å¼ºçš„" class="headerlink" title="word 34: obstinate å›ºæ‰§çš„ï¼Œå€”å¼ºçš„"></a>word 34: <strong>obstinate</strong> å›ºæ‰§çš„ï¼Œå€”å¼ºçš„</h2><p>He is obstinate and determined and will not give up.</p><h2 id="word-35-lacerate-æ’•è£‚ï¼Œå‰²ç ´"><a href="#word-35-lacerate-æ’•è£‚ï¼Œå‰²ç ´" class="headerlink" title="word 35: lacerate æ’•è£‚ï¼Œå‰²ç ´"></a>word 35: <strong>lacerate</strong> æ’•è£‚ï¼Œå‰²ç ´</h2><p>Her husbandâ€™s vicious retort lacerated her pride and made her burst into tears.</p><h2 id="word-36-omnipotent-å…¨èƒ½çš„ï¼Œæœ‰æ— é™æƒåŠ›çš„"><a href="#word-36-omnipotent-å…¨èƒ½çš„ï¼Œæœ‰æ— é™æƒåŠ›çš„" class="headerlink" title="word 36: omnipotent å…¨èƒ½çš„ï¼Œæœ‰æ— é™æƒåŠ›çš„"></a>word 36: <strong>omnipotent</strong> å…¨èƒ½çš„ï¼Œæœ‰æ— é™æƒåŠ›çš„</h2><p>Doug lived in the shadow of his seemingly omnipotent father.</p><h2 id="word-37-unscrupulous-ä¸é“å¾·çš„ï¼Œæ— è€»çš„"><a href="#word-37-unscrupulous-ä¸é“å¾·çš„ï¼Œæ— è€»çš„" class="headerlink" title="word 37: unscrupulous ä¸é“å¾·çš„ï¼Œæ— è€»çš„"></a>word 37: <strong>unscrupulous</strong> ä¸é“å¾·çš„ï¼Œæ— è€»çš„</h2><p>These kids are being exploited by very unscrupulous people.</p><h2 id="word-38-renaissance-å¤å…´ï¼Œå†ç”Ÿ"><a href="#word-38-renaissance-å¤å…´ï¼Œå†ç”Ÿ" class="headerlink" title="word 38: renaissance å¤å…´ï¼Œå†ç”Ÿ"></a>word 38: <strong>renaissance</strong> å¤å…´ï¼Œå†ç”Ÿ</h2><p>Popular art is experiencing a renaissance.</p><h2 id="word-39-genesis-å¼€åˆ›ï¼Œèµ·æº"><a href="#word-39-genesis-å¼€åˆ›ï¼Œèµ·æº" class="headerlink" title="word 39: genesis å¼€åˆ›ï¼Œèµ·æº"></a>word 39: <strong>genesis</strong> å¼€åˆ›ï¼Œèµ·æº</h2><p>Itâ€™s the story of Ziusudra, and itâ€™s very similar to the Genesis flood story of Noah.</p><h2 id="word-40-warrant-æˆä¸ºâ€¦â€¦çš„ä¾æ®ï¼Œä¿è¯ï¼Œæ‹…ä¿"><a href="#word-40-warrant-æˆä¸ºâ€¦â€¦çš„ä¾æ®ï¼Œä¿è¯ï¼Œæ‹…ä¿" class="headerlink" title="word 40: warrant æˆä¸ºâ€¦â€¦çš„ä¾æ®ï¼Œä¿è¯ï¼Œæ‹…ä¿"></a>word 40: <strong>warrant</strong> æˆä¸ºâ€¦â€¦çš„ä¾æ®ï¼Œä¿è¯ï¼Œæ‹…ä¿</h2><p>There is no warrant for such criticism.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>verbal advantage level 1 1-20</title>
      <link href="/2024/04/03/verbal-advantage-level-1-1-20/"/>
      <url>/2024/04/03/verbal-advantage-level-1-1-20/</url>
      
        <content type="html"><![CDATA[<h1 id="word-1-10"><a href="#word-1-10" class="headerlink" title="word 1-10"></a>word 1-10</h1><h2 id="word-1-paraphrase-æ”¹å†™ï¼Œé‡è¯´"><a href="#word-1-paraphrase-æ”¹å†™ï¼Œé‡è¯´" class="headerlink" title="word 1: paraphrase æ”¹å†™ï¼Œé‡è¯´"></a>word 1: <strong>paraphrase</strong> æ”¹å†™ï¼Œé‡è¯´</h2><p>Try to paraphrase the question before you answer it.</p><h2 id="word-2-ostensible-è¡¨é¢çš„ï¼Œå‡è£…çš„"><a href="#word-2-ostensible-è¡¨é¢çš„ï¼Œå‡è£…çš„" class="headerlink" title="word 2: ostensible è¡¨é¢çš„ï¼Œå‡è£…çš„"></a>word 2: <strong>ostensible</strong> è¡¨é¢çš„ï¼Œå‡è£…çš„</h2><p>The ostensible reason for his absence was illness.</p><h2 id="word-3-digress-åç¦»ï¼Œç¦»é¢˜"><a href="#word-3-digress-åç¦»ï¼Œç¦»é¢˜" class="headerlink" title="word 3: digress åç¦»ï¼Œç¦»é¢˜"></a>word 3: <strong>digress</strong> åç¦»ï¼Œç¦»é¢˜</h2><p>His essay digress from the main subject.</p><h2 id="word-4-uncanny-ç¥ç§˜çš„ï¼Œç¦»å¥‡çš„"><a href="#word-4-uncanny-ç¥ç§˜çš„ï¼Œç¦»å¥‡çš„" class="headerlink" title="word 4: uncanny ç¥ç§˜çš„ï¼Œç¦»å¥‡çš„"></a>word 4: <strong>uncanny</strong> ç¥ç§˜çš„ï¼Œç¦»å¥‡çš„</h2><p>She bears an uncanny resemblance to Dido.</p><h2 id="word-5-candor-å¦è¯šï¼Œç›´ç‡"><a href="#word-5-candor-å¦è¯šï¼Œç›´ç‡" class="headerlink" title="word 5: candor å¦è¯šï¼Œç›´ç‡"></a>word 5: <strong>candor</strong> å¦è¯šï¼Œç›´ç‡</h2><p>I was surprised at his candor.</p><h2 id="word-6-morose-éƒé—·çš„ï¼Œåè„¾æ°”çš„"><a href="#word-6-morose-éƒé—·çš„ï¼Œåè„¾æ°”çš„" class="headerlink" title="word 6: morose éƒé—·çš„ï¼Œåè„¾æ°”çš„"></a>word 6: <strong>morose</strong> éƒé—·çš„ï¼Œåè„¾æ°”çš„</h2><p>After weeks of futile job-hunting, he became morose.</p><h2 id="word-7-adept-ç†Ÿç»ƒçš„ï¼Œæ“…é•¿çš„"><a href="#word-7-adept-ç†Ÿç»ƒçš„ï¼Œæ“…é•¿çš„" class="headerlink" title="word 7: adept ç†Ÿç»ƒçš„ï¼Œæ“…é•¿çš„"></a>word 7: <strong>adept</strong> ç†Ÿç»ƒçš„ï¼Œæ“…é•¿çš„</h2><p>As a composer he proved himself adept at large dramatic forms.</p><h2 id="word-8-saturated-é¥±å’Œçš„ï¼Œæ¹¿é€çš„"><a href="#word-8-saturated-é¥±å’Œçš„ï¼Œæ¹¿é€çš„" class="headerlink" title="word 8: saturated é¥±å’Œçš„ï¼Œæ¹¿é€çš„"></a>word 8: <strong>saturated</strong> é¥±å’Œçš„ï¼Œæ¹¿é€çš„</h2><p>The snack food market is largely saturated, and to grow.</p><h2 id="word-9-pragmatic-å®é™…çš„ï¼Œå®ç”¨ä¸»ä¹‰çš„"><a href="#word-9-pragmatic-å®é™…çš„ï¼Œå®ç”¨ä¸»ä¹‰çš„" class="headerlink" title="word 9: pragmatic å®é™…çš„ï¼Œå®ç”¨ä¸»ä¹‰çš„"></a>word 9: <strong>pragmatic</strong> å®é™…çš„ï¼Œå®ç”¨ä¸»ä¹‰çš„</h2><p>Robin took a pragmatic look at her situation.</p><h2 id="word-10-congenial-æ„æ°”ç›¸æŠ•çš„ï¼Œæ€§æ ¼ç›¸ä¼¼çš„"><a href="#word-10-congenial-æ„æ°”ç›¸æŠ•çš„ï¼Œæ€§æ ¼ç›¸ä¼¼çš„" class="headerlink" title="word 10: congenial æ„æ°”ç›¸æŠ•çš„ï¼Œæ€§æ ¼ç›¸ä¼¼çš„"></a>word 10: <strong>congenial</strong> æ„æ°”ç›¸æŠ•çš„ï¼Œæ€§æ ¼ç›¸ä¼¼çš„</h2><p>He is back in more congenial company.</p><h1 id="word-11-20"><a href="#word-11-20" class="headerlink" title="word 11-20"></a>word 11-20</h1><h2 id="word-11ï¼šcapricious-å–„å˜çš„ï¼Œä»»æ€§çš„"><a href="#word-11ï¼šcapricious-å–„å˜çš„ï¼Œä»»æ€§çš„" class="headerlink" title="word 11ï¼šcapricious å–„å˜çš„ï¼Œä»»æ€§çš„"></a>word 11ï¼š<strong>capricious</strong> å–„å˜çš„ï¼Œä»»æ€§çš„</h2><p>He was accused of being capricious and undemocratic.</p><h2 id="word-12-blatant-å–§åš£çš„ï¼Œå…¬ç„¶çš„"><a href="#word-12-blatant-å–§åš£çš„ï¼Œå…¬ç„¶çš„" class="headerlink" title="word 12: blatant å–§åš£çš„ï¼Œå…¬ç„¶çš„"></a>word 12: <strong>blatant</strong> å–§åš£çš„ï¼Œå…¬ç„¶çš„</h2><p>It was a blatant lie.</p><h2 id="word-13-obligatory-å¿…é¡»çš„ï¼Œè¦æ±‚çš„"><a href="#word-13-obligatory-å¿…é¡»çš„ï¼Œè¦æ±‚çš„" class="headerlink" title="word 13: obligatory å¿…é¡»çš„ï¼Œè¦æ±‚çš„"></a>word 13: <strong>obligatory</strong> å¿…é¡»çš„ï¼Œè¦æ±‚çš„</h2><p>It is obligatory for all employees to wear protective clothing.</p><h2 id="word-14-negligible-å¾®ä¸è¶³é“çš„"><a href="#word-14-negligible-å¾®ä¸è¶³é“çš„" class="headerlink" title="word 14: negligible å¾®ä¸è¶³é“çš„"></a>word 14: <strong>negligible</strong> å¾®ä¸è¶³é“çš„</h2><p>The cost was negligible.</p><h2 id="word-15-adamant-åšå®šä¸ç§»çš„ï¼Œå›ºæ‰§çš„"><a href="#word-15-adamant-åšå®šä¸ç§»çš„ï¼Œå›ºæ‰§çš„" class="headerlink" title="word 15: adamant åšå®šä¸ç§»çš„ï¼Œå›ºæ‰§çš„"></a>word 15: <strong>adamant</strong> åšå®šä¸ç§»çš„ï¼Œå›ºæ‰§çš„</h2><p>Eva was adamant that she would not come.</p><h2 id="word-16-sporadic-é›¶æ˜Ÿçš„ï¼Œåˆ†æ•£çš„"><a href="#word-16-sporadic-é›¶æ˜Ÿçš„ï¼Œåˆ†æ•£çš„" class="headerlink" title="word 16: sporadic é›¶æ˜Ÿçš„ï¼Œåˆ†æ•£çš„"></a>word 16: <strong>sporadic</strong> é›¶æ˜Ÿçš„ï¼Œåˆ†æ•£çš„</h2><p>Her attendance in school was sporadic.</p><h2 id="word-17-vanguard-å…ˆé”‹ï¼Œå…ˆé©±"><a href="#word-17-vanguard-å…ˆé”‹ï¼Œå…ˆé©±" class="headerlink" title="word 17: vanguard å…ˆé”‹ï¼Œå…ˆé©±"></a>word 17: <strong>vanguard</strong> å…ˆé”‹ï¼Œå…ˆé©±</h2><p>Students and intellectuals have been in the vanguard of revolutionary change in China.</p><h2 id="word-18-concur-åŒæ„ï¼Œä¸€è‡´"><a href="#word-18-concur-åŒæ„ï¼Œä¸€è‡´" class="headerlink" title="word 18: concur åŒæ„ï¼Œä¸€è‡´"></a>word 18: <strong>concur</strong> åŒæ„ï¼Œä¸€è‡´</h2><p>Local feeling does not necessarily concur with the press.</p><h2 id="word-19-precociousness-æ—©ç†Ÿï¼Œæå‰æˆç†Ÿ"><a href="#word-19-precociousness-æ—©ç†Ÿï¼Œæå‰æˆç†Ÿ" class="headerlink" title="word 19: precociousness æ—©ç†Ÿï¼Œæå‰æˆç†Ÿ"></a>word 19: <strong>precociousness</strong> æ—©ç†Ÿï¼Œæå‰æˆç†Ÿ</h2><p>Precociousness in a child may be a sign of above-average intelligence.</p><h2 id="word-20-aloof-å†·æ·¡çš„ï¼Œç–è¿œçš„"><a href="#word-20-aloof-å†·æ·¡çš„ï¼Œç–è¿œçš„" class="headerlink" title="word 20: aloof å†·æ·¡çš„ï¼Œç–è¿œçš„"></a>word 20: <strong>aloof</strong> å†·æ·¡çš„ï¼Œç–è¿œçš„</h2><p>The Emperor kept himself aloof from the people.</p>]]></content>
      
      
      <categories>
          
          <category> VERBAL ADVANTAGE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Docså¯¼å‡ºpdfä¸­æ–‡å¾ˆéš¾çœ‹ï¼Œç²—ä½“ä¸æ˜¾ç¤ºçš„é—®é¢˜</title>
      <link href="/2024/03/26/Google-Docs%E5%AF%BC%E5%87%BApdf%E4%B8%AD%E6%96%87%E5%BE%88%E9%9A%BE%E7%9C%8B%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2024/03/26/Google-Docs%E5%AF%BC%E5%87%BApdf%E4%B8%AD%E6%96%87%E5%BE%88%E9%9A%BE%E7%9C%8B%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Google-Docs-å¯¼å‡º-pdf-ä¸­æ–‡å¾ˆéš¾çœ‹ï¼Œç²—ä½“ä¸æ˜¾ç¤ºçš„é—®é¢˜"><a href="#Google-Docs-å¯¼å‡º-pdf-ä¸­æ–‡å¾ˆéš¾çœ‹ï¼Œç²—ä½“ä¸æ˜¾ç¤ºçš„é—®é¢˜" class="headerlink" title="Google Docs å¯¼å‡º pdf ä¸­æ–‡å¾ˆéš¾çœ‹ï¼Œç²—ä½“ä¸æ˜¾ç¤ºçš„é—®é¢˜"></a>Google Docs å¯¼å‡º pdf ä¸­æ–‡å¾ˆéš¾çœ‹ï¼Œç²—ä½“ä¸æ˜¾ç¤ºçš„é—®é¢˜</h1><p>æœ€è¿‘åœ¨ç”¨ Google Docs å†™ç®€å†ï¼Œä½†æ˜¯åœ¨å¯¼å‡º pdf çš„æ—¶å€™å‘ç°ä¸­æ–‡å­—ä½“å¹¶æ²¡æœ‰åƒç¼–è¾‘ä¸€æ ·ç¾è§‚ï¼Œå˜å¾—éå¸¸æ‰­æ›²å’Œä¸‘é™‹ã€‚è€Œä¸”ç²—ä½“ä¹Ÿæ²¡æœ‰æ˜¾ç¤ºã€‚</p><h2 id="1-å¦‚ä½•é€‰æ‹©åæ–‡å®‹ä½“"><a href="#1-å¦‚ä½•é€‰æ‹©åæ–‡å®‹ä½“" class="headerlink" title="1. å¦‚ä½•é€‰æ‹©åæ–‡å®‹ä½“"></a>1. å¦‚ä½•é€‰æ‹©åæ–‡å®‹ä½“</h2><p>ç‚¹å‡»å·¦ä¸Šè§’<code>File</code>ï¼Œ <code>language</code>é€‰é¡¹ä¸­é€‰æ‹©<code>ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</code>å°±å¯ä»¥åœ¨å­—ä½“æ çœ‹åˆ°åæ–‡å®‹ä½“ã€‚<br><img src="/images/GoogleDocs/choseChinese.jpg" alt="chooseChinese"><br><img src="/images/GoogleDocs/song.jpg" alt="Fontsong"></p><h2 id="2-é€‰æ‹©æ‚¨çš„è®¾å¤‡"><a href="#2-é€‰æ‹©æ‚¨çš„è®¾å¤‡" class="headerlink" title="2. é€‰æ‹©æ‚¨çš„è®¾å¤‡"></a>2. é€‰æ‹©æ‚¨çš„è®¾å¤‡</h2><p><strong>ä¸€å®šä¸€å®šè¦ç”¨ç”µè„‘æ‰“å¼€ Google Docs ç½‘é¡µç‰ˆ</strong>ï¼Œå®æµ‹ ipadï¼ˆair 5ï¼‰æ‰“å¼€çš„ç½‘é¡µé‡Œé¢å¹¶ä¸èƒ½çœ‹è§å®‹ä½“å­—ä½“é€‰é¡¹ï¼Œè€Œä¸”åœ¨é¢„è§ˆæ‰“å°é‡Œä¹Ÿä¸èƒ½æ­£ç¡®æ¸²æŸ“å­—ä½“ã€‚</p><h2 id="3-é¢„è§ˆæ‰“å°"><a href="#3-é¢„è§ˆæ‰“å°" class="headerlink" title="3. é¢„è§ˆæ‰“å°"></a>3. é¢„è§ˆæ‰“å°</h2><p>ç‚¹å‡»å·¦ä¸Šè§’<code>File</code>ï¼Œç„¶åé€‰æ‹©<code>Print</code>,ä¼šå‡ºç°é¢„è§ˆç•Œé¢ã€‚<br><img src="/images/GoogleDocs/print.jpg" alt="Print"><br>ç„¶åç‚¹å‡»ä¿å­˜ï¼Œæ‰€è§å³æ‰€å¾—ã€‚</p><h2 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a>4. æ€»ç»“</h2><ul><li>ä½¿ç”¨ç”µè„‘æ‰“å¼€ç½‘é¡µ</li><li>è¯­è¨€é€‰æ‹©ä¸­æ–‡</li><li>é¢„è§ˆæ‰“å°</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google Docs </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ´›è°·P1789ã€Mc ç”Ÿå­˜ã€‘æ’ç«æŠŠ</title>
      <link href="/2024/03/25/%E6%B4%9B%E8%B0%B7P1789/"/>
      <url>/2024/03/25/%E6%B4%9B%E8%B0%B7P1789/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€Mc-ç”Ÿå­˜ã€‘æ’ç«æŠŠ"><a href="#ã€Mc-ç”Ÿå­˜ã€‘æ’ç«æŠŠ" class="headerlink" title="ã€Mc ç”Ÿå­˜ã€‘æ’ç«æŠŠ"></a>ã€Mc ç”Ÿå­˜ã€‘æ’ç«æŠŠ</h1><p><a href="https://www.luogu.com.cn/problem/P1789">é¢˜ç›®é“¾æ¥</a></p><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>è¯è¯´æœ‰ä¸€å¤© linyorson åœ¨â€œæˆ‘çš„ä¸–ç•Œâ€å¼€äº†ä¸€ä¸ª $n \times n$ çš„æ–¹é˜µï¼Œç°åœ¨ä»–æœ‰ $m$ ä¸ªç«æŠŠå’Œ $k$ ä¸ªè¤çŸ³ï¼Œåˆ†åˆ«æ”¾åœ¨ $(x_1, y_1) \sim (x_m, y_m)$ å’Œ $(o_1, p_1) \sim (o_k, p_k)$ çš„ä½ç½®ï¼Œæ²¡æœ‰å…‰å¹¶ä¸”æ²¡æ”¾ä¸œè¥¿çš„åœ°æ–¹ä¼šç”Ÿæˆæ€ªç‰©ã€‚è¯·é—®åœ¨è¿™ä¸ªæ–¹é˜µä¸­æœ‰å‡ ä¸ªç‚¹ä¼šç”Ÿæˆæ€ªç‰©ï¼Ÿ</p><p>P.S. ç«æŠŠçš„ç…§äº®èŒƒå›´æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|æš—|æš—| å…‰ |æš—|æš—|</span><br><span class="line">|æš—|å…‰| å…‰ |å…‰|æš—|</span><br><span class="line">|å…‰|å…‰|ç«æŠŠ|å…‰|å…‰|</span><br><span class="line">|æš—|å…‰| å…‰ |å…‰|æš—|</span><br><span class="line">|æš—|æš—| å…‰ |æš—|æš—|</span><br></pre></td></tr></table></figure><p>è¤çŸ³ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|å…‰|å…‰| å…‰ |å…‰|å…‰|</span><br><span class="line">|å…‰|å…‰| å…‰ |å…‰|å…‰|</span><br><span class="line">|å…‰|å…‰|è¤çŸ³|å…‰|å…‰|</span><br><span class="line">|å…‰|å…‰| å…‰ |å…‰|å…‰|</span><br><span class="line">|å…‰|å…‰| å…‰ |å…‰|å…‰|</span><br></pre></td></tr></table></figure><h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>è¾“å…¥å…± $m + k + 1$ è¡Œã€‚<br>ç¬¬ä¸€è¡Œä¸º $n, m, k$ã€‚<br>ç¬¬ $2$ åˆ°ç¬¬ $m + 1$ è¡Œåˆ†åˆ«æ˜¯ç«æŠŠçš„ä½ç½® $x_i, y_i$ã€‚<br>ç¬¬ $m + 2$ åˆ°ç¬¬ $m + k + 1$ è¡Œåˆ†åˆ«æ˜¯è¤çŸ³çš„ä½ç½® $o_i, p_i$ã€‚</p><p>æ³¨ï¼šå¯èƒ½æ²¡æœ‰è¤çŸ³ï¼Œä½†ä¸€å®šæœ‰ç«æŠŠã€‚</p><h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>æœ‰å‡ ä¸ªç‚¹ä¼šç”Ÿå‡ºæ€ªç‰©ã€‚</p><h2 id="æ ·ä¾‹-1"><a href="#æ ·ä¾‹-1" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1"><a href="#æ ·ä¾‹è¾“å…¥-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5 1 0</span><br><span class="line">3 3</span><br></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1"><a href="#æ ·ä¾‹è¾“å‡º-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">12</span><br></pre></td></tr></table></figure><h2 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h2><p>æ•°æ®ä¿è¯ï¼Œ$1 \le n \le 100$ï¼Œ$1 \leq m+k \leq 25$ï¼Œ$1 \leq m \leq 25$ï¼Œ$0 \leq k \leq 5$ã€‚</p><hr><h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="1-ç¬¬ä¸€æ¬¡å°è¯•"><a href="#1-ç¬¬ä¸€æ¬¡å°è¯•" class="headerlink" title="1. ç¬¬ä¸€æ¬¡å°è¯•"></a>1. ç¬¬ä¸€æ¬¡å°è¯•</h2><p>éå¸¸ç®€å•çš„æ¨¡æ‹Ÿï¼Œåªéœ€è¦å¼€ä¸€ä¸ª mcMap[][] äºŒç»´æ•°ç»„ï¼Œè®°å½•å“ªé‡Œæœ‰ç«æŠŠå“ªé‡Œæœ‰çŸ³å¤´å°±å¯ä»¥äº†ã€‚éå†ä¸€éæœ‰ç«æŠŠæˆ–è€…çŸ³å¤´å°±æ›´æ–°å…‰äº®ã€‚æœ‰å…‰äº®çš„å°±ç›´æ¥è·³è¿‡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fire 2, stone 3, light 1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(McMap[i][j] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (McMap[i][j] == <span class="number">2</span>)</span><br><span class="line">            <span class="built_in">fireLight</span>(i, j);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (McMap[i][j] == <span class="number">3</span>)</span><br><span class="line">            <span class="built_in">stoneLight</span>(i, j);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªæœ‰å››ååˆ†ã€‚ã€‚ã€‚<br><strong>å¾ˆæ˜¾ç„¶å› ä¸ºåªæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨æ›´æ–°çš„æ—¶å€™ä¼šè¦†ç›–ç«æŠŠæˆ–è€…çŸ³å¤´</strong></p><h2 id="2-ç¬¬äºŒæ¬¡å°è¯•"><a href="#2-ç¬¬äºŒæ¬¡å°è¯•" class="headerlink" title="2. ç¬¬äºŒæ¬¡å°è¯•"></a>2. ç¬¬äºŒæ¬¡å°è¯•</h2><p>æ—¢ç„¶åªéœ€è¦ä¸è¢«å…‰äº®è¦†ç›–ï¼Œå†å¼€ä¸€ä¸ª flag[][]å•ç‹¬å­˜å‚¨ç«æŠŠå’ŒçŸ³å¤´çš„ä½ç½®å°±å¯ä»¥äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(McMap[i][j] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (flag[i][j] == <span class="number">2</span>)</span><br><span class="line">                <span class="built_in">fireLight</span>(i, j);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (flag[i][j] == <span class="number">3</span>)</span><br><span class="line">                <span class="built_in">stoneLight</span>(i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯åªæœ‰å››ååˆ†ã€‚ã€‚ã€‚<br>æ€ä¹ˆå›äº‹ï¼ä¸‹è½½äº†é”™è¯¯çš„æµ‹è¯•æ ·ä¾‹åå‘ç°äº†é—®é¢˜è¿˜æ˜¯å‡ºåœ¨ä¸Šé¢çš„äºŒé‡å¾ªç¯ä¸­ï¼Œæœ¬æƒ³ç€åœ¨æœ‰å…‰äº®çš„çš„åœ°æ–¹å°±ç›´æ¥è·³è¿‡å‰ªæäº†ï¼Œæ²¡æƒ³åˆ°ç›´æ¥å‰ªåˆ°å¤§åŠ¨è„‰ä¸Šäº†ï¼Œ<code>if(McMap[i][j] == 1) continue;</code> ï¼Œå› ä¸ºç«æŠŠæˆ–çŸ³å¤´çš„ä½ç½®å¯èƒ½è¢«å…¶ä»–åœ°æ–¹çš„å…‰æºç…§äº®ï¼Œå¦‚æœç›´æ¥è·³è¿‡è¿™ä¸ªä½ç½®å°±ä¼šè·³è¿‡æ›´æ–°å…‰äº®çš„ flag åˆ¤æ–­è¯­å¥ï¼Œé€ æˆå…‰äº®æ›´æ–°å¤±è¯¯ã€‚</p><h2 id="3-æœ€åä¸€æ¬¡æäº¤"><a href="#3-æœ€åä¸€æ¬¡æäº¤" class="headerlink" title="3. æœ€åä¸€æ¬¡æäº¤"></a>3. æœ€åä¸€æ¬¡æäº¤</h2><p>åªéœ€è¦åˆ é™¤é‚£å¥è¯å³å¯ã€‚<br>æœ€åä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, m, k;</span><br><span class="line"><span class="type">int</span> mcMap[<span class="number">115</span>][<span class="number">115</span>];</span><br><span class="line"><span class="type">int</span> flag[<span class="number">115</span>][<span class="number">115</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fireLight</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mcMap[x][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">1</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">2</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">1</span>)][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">2</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">1</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">2</span>)][y] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">1</span>)][<span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">min</span>(n, y + <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[x][<span class="built_in">min</span>(n, y + <span class="number">2</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">1</span>)][<span class="built_in">min</span>(n, y + <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">    mcMap[<span class="built_in">min</span>(n, x + <span class="number">1</span>)][<span class="built_in">min</span>(n, y + <span class="number">1</span>)] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">stoneLight</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mcMap[x][y] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">max</span>(<span class="number">1</span>, x - <span class="number">2</span>); i &lt;= <span class="built_in">min</span>(n, x + <span class="number">2</span>); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="built_in">max</span>(<span class="number">1</span>, y - <span class="number">2</span>); j &lt;= <span class="built_in">min</span>(n, y + <span class="number">2</span>); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            mcMap[i][j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line">    <span class="comment">// fire 2, stone 3, light 1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">        flag[x][y] = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= k; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">        flag[x][y] = <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (flag[i][j] == <span class="number">2</span>)</span><br><span class="line">                <span class="built_in">fireLight</span>(i, j);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (flag[i][j] == <span class="number">3</span>)</span><br><span class="line">                <span class="built_in">stoneLight</span>(i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!mcMap[i][j])</span><br><span class="line">                sum++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p><del>èƒ½ AC çš„ä»£ç å°±æ˜¯å¥½ä»£ç </del>ã€‚å¯ä»¥æ˜æ˜¾åœ°çœ‹åˆ°æˆ‘é‚£ä¸ªä¸‘é™‹åœ° fireLight å‡½æ•°ï¼ŒåäºŒä¸ªä½ç½®ç›´æ¥æš´åŠ›æ›´æ–°ï¼Œå®é™…ä¸Šè¿™æ˜¯å¾ˆå®¹æ˜“çŠ¯é”™è¯¯åœ°å†™æ³•ï¼Œå¦‚æœå†™é”™äº†ç„¶åå»æ‰¾é”™è¯¯å°†æ˜¯æå¤§åœ°éº»çƒ¦ã€‚åœ¨ Github Copilot åœ°å¸¦é¢†ä¸‹å¾ˆå¹¸è¿æˆ‘ä¸€æ¬¡æ€§å†™å¯¹äº†ã€‚æ­£ç¡®åœ°æ¯”è¾ƒç¨³å¦¥åœ°æ–¹å¼æ˜¯å¼€<code>dx[]</code>å’Œ<code>dy[]</code>æ•°ç»„ï¼Œå°†æ‰€æœ‰åæ ‡ä¸€æ¬¡æ€§å†™å‡ºæ¥ï¼Œç„¶å for å¾ªç¯å»æ›´æ–°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> dx1[<span class="number">13</span>]=&#123;<span class="number">2</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>&#125;,</span><br><span class="line">    dy1[<span class="number">13</span>]=&#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br></pre></td></tr></table></figure><p><strong>å¯¹äºæ•°ç»„è¶Šç•Œé—®é¢˜è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ol><li>åƒæˆ‘ä¸€æ ·ç”¨ minï¼Œmax åˆ¤æ–­</li><li>ç›´æ¥æŠŠ(3,3)å½“åŸç‚¹é¿å…æ•°ç»„ä¸‹æ ‡ä¸ºè´Ÿæ•°</li><li>è‡ªå®šä¹‰å‡½æ•°åˆ¤æ–­æ˜¯è´Ÿæ•°å°±è¿”å›é›¶</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ´›è°· </tag>
            
            <tag> æ¨¡æ‹Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker learn</title>
      <link href="/2024/03/22/Docker-learn-1/"/>
      <url>/2024/03/22/Docker-learn-1/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-Learn-1"><a href="#Docker-Learn-1" class="headerlink" title="Docker Learn 1"></a>Docker Learn 1</h1><p>summary of <a href="https://www.docker.com/101-tutorial/">https://www.docker.com/101-tutorial/</a></p><h2 id="The-command-you-should-run"><a href="#The-command-you-should-run" class="headerlink" title="The command you should run"></a>The command you should run</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 docker/getting-started</span><br></pre></td></tr></table></figure><p>then Open your browser to <a href="http://localhost">http://localhost</a></p><h1 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h1><h2 id="Building-the-Appâ€™s-Container-Image"><a href="#Building-the-Appâ€™s-Container-Image" class="headerlink" title="Building the Appâ€™s Container Image"></a>Building the Appâ€™s Container Image</h2><ol><li>Create a Dockerfile</li><li>run command <code>docker build -t getting-started .</code> â€œ-tâ€ is to tag the image and â€œgetting-startedâ€ is the name of the image. The â€œ.â€ means to find Dockerfile in current directory.</li></ol><h2 id="Starting-an-App-Container"><a href="#Starting-an-App-Container" class="headerlink" title="Starting an App Container"></a>Starting an App Container</h2><ol><li>run <code>docker run -dp 3000:3000 getting-started</code> â€œ-dâ€ means â€œdetachedâ€ mode. â€œ-pâ€ means creating a mapping between the hostâ€™s port 3000 to the containerâ€™s port 3000.</li></ol><h2 id="Updating-our-App"><a href="#Updating-our-App" class="headerlink" title="Updating our App"></a>Updating our App</h2><ol><li>if you have updated the source code, you need to build the updated version of the image.<br>run <code>docker build -t getting-started .</code></li><li>And have to start a new container using the updated code.<br>run <code>docker run -dp 3000:3000 getting-started</code>, then you will get an Error response.<del>(WTâ€¦F)</del></li></ol><h2 id="Replacing-our-Old-Container"><a href="#Replacing-our-Old-Container" class="headerlink" title="Replacing our Old Container"></a>Replacing our Old Container</h2><ol><li><code>docker ps</code> ï¼ˆfind the old container IDï¼‰</li><li><code>docker stop &lt;the-container-id&gt;</code> ï¼ˆstop itï¼ï¼‰</li><li><code>docker rm &lt;the-container-id&gt;</code> ï¼ˆdelete itï¼‰</li><li>you can also use <code>docker rm -f &lt;the-container-id&gt;</code> to stop and delete the container in one command.</li></ol><h3 id="the-run-docker-run-dp-3000-3000-getting-started-again"><a href="#the-run-docker-run-dp-3000-3000-getting-started-again" class="headerlink" title="the run docker run -dp 3000:3000 getting-started again."></a>the run <code>docker run -dp 3000:3000 getting-started</code> again.</h3><h2 id="Sharing-our-App"><a href="#Sharing-our-App" class="headerlink" title="Sharing our App"></a>Sharing our App</h2><h3 id="Create-a-Repo"><a href="#Create-a-Repo" class="headerlink" title="Create a Repo"></a>Create a Repo</h3><ol><li>go to <a href="https://hub.docker.com/">https://hub.docker.com/</a> to create one.</li><li><p>Use the docker tag command to give the getting-started image a new name. Be sure to swap out YOUR-USER-NAME with your Docker ID.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag getting-started YOUR-USER-NAME/getting-started</span><br></pre></td></tr></table></figure></li><li><p>then push it. <code>docker push YOUR-USER-NAME/getting-started</code><br><strong>remember to login to Docker Desktop</strong></p></li><li>open <a href="https://labs.play-with-docker.com/">https://labs.play-with-docker.com/</a> ,<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 YOUR-USER-NAME/getting-started</span><br></pre></td></tr></table></figure></li></ol><h2 id="Container-Volumes"><a href="#Container-Volumes" class="headerlink" title="Container Volumes"></a>Container Volumes</h2><ol><li>create a volume<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create todo-db</span><br></pre></td></tr></table></figure></li><li>stop the to-do app<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker stop &lt;the-container-id&gt;</span><br></pre></td></tr></table></figure></li><li>start the to-do app with <code>-v</code> flag<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started</span><br></pre></td></tr></table></figure>then open <a href="http://localhost:3000/">http://localhost:3000/</a> again and add some values.</li><li>remove the container<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker rm -f &lt;container-id&gt;</span><br></pre></td></tr></table></figure></li><li>Start a new container and open the app.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started</span><br></pre></td></tr></table></figure>the items in list should still there.</li></ol><h2 id="Starting-a-Dev-Mode-Container"><a href="#Starting-a-Dev-Mode-Container" class="headerlink" title="Starting a Dev-Mode Container"></a>Starting a Dev-Mode Container</h2><ol><li>Make sure you donâ€™t have any of your own <code>getting-started</code> containers running (only the tutorial itself should be running).</li><li>get in the path of â€˜appâ€™</li><li><p>use powershell.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -dp 3000:3000 `</span><br><span class="line">   -w /app -v &quot;$(pwd):/app&quot; `</span><br><span class="line">   node:18-alpine `</span><br><span class="line">   sh -c &quot;yarn install &amp;&amp; yarn run dev&quot;</span><br></pre></td></tr></table></figure><ul><li>-dp 3000:3000 - same as before. Run in detached (background) mode and create a port mapping</li><li>-w /app - sets the containerâ€™s present working directory where the command will run from</li><li>-v â€œ$(pwd):/appâ€ - bind mount (link) the hostâ€™s present getting-started/app directory to the containerâ€™s /app directory. Note: Docker requires absolute paths for binding mounts, so in this example we use pwd for printing the absolute path of the working directory, i.e. the app directory, instead of typing it manually</li><li>node:18-alpine - the image to use. Note that this is the base image for our app from the Dockerfile</li><li>sh -c â€œyarn install &amp;&amp; yarn run devâ€ - the command. Weâ€™re starting a shell using sh (alpine doesnâ€™t have bash) and running yarn install to install all dependencies and then running yarn run dev. If we look in the package.json, weâ€™ll see that the dev script is starting nodemon.<br>if you see some error message like this:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker: Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:3000 -&gt; 0.0.0.0:0: listen tcp 0.0.0.0:3000: bind: An attempt was made to access a socket in a way forbidden by its access permissions.</span><br></pre></td></tr></table></figure><p>please Open powershell with administrator rightsï¼Œand restart winnat.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net stop winnat</span><br><span class="line">net start winnat</span><br></pre></td></tr></table></figure></li><li><p>build your new image using <code>docker build -t getting-started .</code><br>you properly may see an error.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=&gt; CANCELED [internal] load build context</span><br><span class="line">=&gt; =&gt; transferring context: 558B</span><br><span class="line">ERROR: failed to solve: Canceled: context canceled</span><br></pre></td></tr></table></figure><p>you need to create a <code>.dockerignore</code> file in the path of <code>app</code>,and add <code>node_modules/</code> in it.</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äº Vscode è¿ä¸ä¸ŠæœåŠ¡å™¨çš„é—®é¢˜</title>
      <link href="/2024/03/18/%E5%85%B3%E4%BA%8E-Vscode-%E8%BF%9E%E4%B8%8D%E4%B8%8A%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2024/03/18/%E5%85%B3%E4%BA%8E-Vscode-%E8%BF%9E%E4%B8%8D%E4%B8%8A%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äº-Vscode-è¿ä¸ä¸ŠæœåŠ¡å™¨çš„é—®é¢˜"><a href="#å…³äº-Vscode-è¿ä¸ä¸ŠæœåŠ¡å™¨çš„é—®é¢˜" class="headerlink" title="å…³äº Vscode è¿ä¸ä¸ŠæœåŠ¡å™¨çš„é—®é¢˜"></a>å…³äº Vscode è¿ä¸ä¸ŠæœåŠ¡å™¨çš„é—®é¢˜</h1><p>åœ¨ç½‘ç»œä¸­æ‰¾äº†å¥½å¤šæ–¹æ³•éƒ½ä¸ç®¡ç”¨ï¼Œå…·ä½“é—®é¢˜æ˜¯ XShell èƒ½å¤Ÿé€šè¿‡ ssh è¿æ¥äº‘æœåŠ¡å™¨çš„ï¼Œä½†æ˜¯ vscode ä¸€ç›´è¿ä¸ä¸Šï¼Œä¼šæ˜¾ç¤ºâ€œè¿æ¥çš„ç®¡é“ä¸å­˜åœ¨â€ï¼Œæˆ‘è§£å†³é—®é¢˜çš„æ–¹æ³•æ˜¯æ‰“å¼€ ssh çš„ config æ‰€åœ¨çš„ç›®å½•ï¼Œå…·ä½“æ˜¯<code>C:\Users\user\.ssh</code>ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ–‡ä»¶å«<code>known_hosts</code>ï¼ŒæŠŠé‡Œè¾¹çš„å…³äºäº‘æœåŠ¡å™¨å…¬ç½‘ ip é‚£ä¸€è¡Œåˆ æ‰å°±è¡Œäº†ã€‚<br>å…·ä½“åŸå› åº”è¯¥æ˜¯æˆ‘æ›´æ¢è¿‡å¾ˆå¤šæ¬¡æœåŠ¡å™¨çš„ç³»ç»Ÿï¼Œç„¶åé‚£è¾¹çš„è¿™ä¸ªä¿¡æ¯é‡ç½®äº†ï¼Œä½†æ˜¯ vscode åœ¨ä½¿ç”¨ç¬¬ä¸€æ¬¡ä¸‹è½½çš„ä¸œè¥¿è¿æ¥ï¼Œæ‰€ä»¥å¯¼è‡´è¿æ¥ä¸ä¸Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> å¤‡ä»½ </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlæ›´æ”¹è§’è‰²æƒé™å¹¶å®ç°å¤‡ä»½</title>
      <link href="/2024/03/18/mysql%E6%9B%B4%E6%94%B9%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90%E5%B9%B6%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD/"/>
      <url>/2024/03/18/mysql%E6%9B%B4%E6%94%B9%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90%E5%B9%B6%E5%AE%9E%E7%8E%B0%E5%A4%87%E4%BB%BD/</url>
      
        <content type="html"><![CDATA[<p>æ¥ä¸Šä¸€ç¯‡æ¥ç€å†™å¦‚ä½•æ›´æ”¹è§’è‰²æƒé™å¹¶å®ç°å¤‡ä»½ã€‚<br>å¦‚æœä½ åœ¨å¤‡ä»½ mysql æ—¶é‡åˆ°è¿™ä¸ªæŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump: Error: &#x27;Access denied; you need (at least one of) the PROCESS privilege(s) for this operation&#x27; when trying to dump tablespaces</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”çŸ¥é“ mysql root çš„å¯†ç ï¼Œ</p><ol><li><strong>ç™»å½• mysql root è´¦å·</strong></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><ol><li><strong>æ›´æ”¹è§’è‰²æƒé™</strong>ã€‚è¿™é‡Œçš„å•å¼•å·ä¸èƒ½åˆ é™¤ï¼Œåªéœ€è¦æŠŠ user1 æ”¹æˆéœ€è¦çš„ç”¨æˆ·åå°±è¡Œ</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT PROCESS ON *.* TO &#x27;user1&#x27;@&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure><ol><li><strong>å¤‡ä»½æ•°æ®åº“</strong>ã€‚è¿™é‡Œéœ€è¦é€€å‡º mysql åœ¨æ ¹ç›®å½•é‡Œæ‰§è¡Œã€‚username æ¢æˆè‡ªå·±è§’è‰²åï¼Œdbname æ¢æˆéœ€è¦å¤‡ä»½çš„æ•°æ®åº“åç§°ã€‚</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u username -p dbname &gt; backup.sql</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> å¤‡ä»½ </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡ç½® mysql root å¯†ç </title>
      <link href="/2024/03/18/%E9%87%8D%E7%BD%AE-mysql-root-%E5%AF%86%E7%A0%81/"/>
      <url>/2024/03/18/%E9%87%8D%E7%BD%AE-mysql-root-%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h1 id="é‡ç½®-mysql-root-å¯†ç "><a href="#é‡ç½®-mysql-root-å¯†ç " class="headerlink" title="é‡ç½® mysql root å¯†ç "></a>é‡ç½® mysql root å¯†ç </h1><p>è¿™å¯èƒ½æ˜¯å»ºç«™ä»¥æ¥é‡è§çš„æœ€å¤§çš„ä¸€æ¬¡å›°éš¾äº†ï¼Œå› ä¸ºå»ºç«™çš„æ—¶å€™ç›´æ¥ä½¿ç”¨äº†å®å¡”ç„¶åä¸€é”®éƒ¨ç½²ï¼Œæˆ‘ä»Šå¤©çªå‘å¥‡æƒ³æ—¢ç„¶ç½‘ç«™å·²ç»æ­å»ºå¥½ï¼Œæˆ‘å·²ç»ä¸éœ€è¦å®å¡”äº†ï¼Œç„¶åå°±è¿›è¡Œäº†å®å¡”çš„å¸è½½ã€‚è¿™å°±æ˜¯å™©æ¢¦çš„å¼€å§‹ã€‚<br>æ˜¾ç„¶ä»…å¸è½½å®å¡”å¯¹ç½‘ç«™æ²¡æœ‰ä»»ä½•å½±å“ã€‚ä½†æ˜¯ä¹‹å‰æˆ‘ç”¨åˆ°è¿‡å®å¡”çš„æ•°æ®åº“å¤‡ä»½åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—é‡æ–°å»å†™æ•°æ®åº“å¤‡ä»½çš„è„šæœ¬ã€‚å°±å½“æˆ‘å…´è‡´å†²å†²å»è¿è¡Œè„šæœ¬çš„æ—¶å€™ï¼Œmysql å°±æŠ¥é”™äº†ï¼Œè¯´æˆ‘çš„è§’è‰²æƒé™ä¸è¶³ï¼Œä¸èƒ½å¤‡ä»½æ•°æ®åº“é‡Œçš„æ•°æ®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump: Error: &#x27;Access denied; you need (at least one of) the PROCESS privilege(s) for this operation&#x27; when trying to dump tablespaces</span><br></pre></td></tr></table></figure><hr><p>è¿™é‡Œæåˆ°ä¸ºä»€ä¹ˆæˆ‘ä¸çŸ¥é“ root å¯†ç ï¼Œå› ä¸ºä¸€é”®éƒ¨ç½²çš„è¯ä»–æ˜¯ä¼šç»™ä½ åˆ›ä¸€ä¸ªæ–°çš„è§’è‰²ç„¶åå»ä½¿ç”¨æ•°æ®åº“ï¼Œè¿™å°±å¯¼è‡´äº†ä»–åœ¨ç»™æˆ‘æ•°æ®åº“å¯†ç çš„æ—¶å€™åªç»™äº†æˆ‘è¿™ä¸ªè§’è‰²çš„åç§°å’Œå¯†ç ï¼Œå…·ä½“ root çš„å¯†ç æˆ‘åœ¨ç½‘ä¸ŠæŸ¥è¯´æ˜¯é¢æ¿é‡Œå¯ä»¥çœ‹ï¼Œä½†æ˜¯æˆ‘è¿™æ—¶å€™å·²ç»å¸è½½äº†ï¼Œè€Œä¸”è¿™ä¸ªé¢æ¿åªæ”¯æŒçº¯å‡€ç³»ç»Ÿé‡Œå®‰è£…ã€‚</p><hr><p>å›å½’æ­£é¢˜ï¼Œæ„Ÿè°¢ chatgptã€‚è¿™æ¬¡çœŸçš„æ˜¯å¹¸è¿ï¼Œå› ä¸ºç½‘ä¸Šæœçš„æ‚ä¸ƒæ‚å…«çš„ï¼Œæœ‰çš„è¿ markdown éƒ½ä¸å†™ï¼Œè¿è¡Œè¯­å¥éƒ½è¿åœ¨ä¸€èµ·ï¼Œä¹Ÿä¸çŸ¥é“å“ªé‡Œåº”è¯¥æ›¿æ¢æˆè‡ªå·±çš„ï¼Œç´¢æ€§å»é—®äº† chatgptï¼Œæœ€å¼€å§‹æˆ‘æ˜¯æ€€ç–‘å®ƒç»™å‡ºçš„æ–¹æ¡ˆçš„ï¼Œå› ä¸ºé‡Œé¢çš„è¯­å¥å’Œæˆ‘æŸ¥åˆ°äº†åˆ«äººåšå®¢é‡Œå†™çš„ä¸å¤ªä¸€æ ·ã€‚ä½†æ˜¯æœ€ç»ˆè¿˜æ˜¯æˆåŠŸäº†ï¼Œæ‰€ä»¥æˆ‘ä¸æ•¢ä¿è¯æˆ‘è¿™é‡Œçš„æ–¹æ³•å¯¹ä½ ä»¬æ˜¯å¦æœ‰ç”¨ï¼Œèµ·ç æ€è·¯åº”è¯¥æ˜¯æ­£ç¡®çš„ã€‚<br>è¿™é‡Œæç¤ºä»¥ä¸‹æˆ‘çš„ç³»ç»Ÿæ˜¯ ubuntu2204ï¼Œmysql5.7ã€‚</p><hr><p>å¦‚æœä½ å¿˜è®°äº† MySQL root ç”¨æˆ·çš„å¯†ç ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤é‡ç½®å¯†ç ï¼š</p><ol><li><p><strong>åœæ­¢ MySQL æœåŠ¡</strong>ï¼šé¦–å…ˆï¼Œåœæ­¢ MySQL æœåŠ¡ä»¥ç¡®ä¿æ²¡æœ‰æ´»åŠ¨çš„æ•°æ®åº“è¿æ¥ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœæ­¢ MySQL æœåŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop mysql</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬çš„ Ubuntuï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql stop</span><br></pre></td></tr></table></figure></li><li><p><strong>å¯åŠ¨ MySQL æœåŠ¡ï¼Œå¹¶è·³è¿‡æƒé™éªŒè¯</strong>ï¼šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MySQL æœåŠ¡ï¼Œä½†è·³è¿‡æƒé™éªŒè¯ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ä¸çŸ¥é“å¯†ç çš„æƒ…å†µä¸‹ç™»å½•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysqld_safe --skip-grant-tables --skip-networking &amp;</span><br></pre></td></tr></table></figure></li><li><p><strong>ç™»å½•åˆ° MySQL æœåŠ¡å™¨</strong>ï¼šç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½•åˆ° MySQL æœåŠ¡å™¨ï¼Œä¸éœ€è¦å¯†ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure></li><li><p><strong>é‡ç½®å¯†ç </strong>ï¼šåœ¨ MySQL å‘½ä»¤è¡Œä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥é‡ç½® root ç”¨æˆ·çš„å¯†ç ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;new_password&#x27;</span>;</span><br></pre></td></tr></table></figure><p>å°† <code>&#39;new_password&#39;</code> æ›¿æ¢ä¸ºä½ æƒ³è¦è®¾ç½®çš„æ–°å¯†ç ã€‚</p></li><li><p><strong>é€€å‡º MySQL å¹¶é‡æ–°å¯åŠ¨æœåŠ¡</strong>ï¼šé€€å‡º MySQL å‘½ä»¤è¡Œç•Œé¢ï¼Œå¹¶é‡æ–°å¯åŠ¨ MySQL æœåŠ¡ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure></li></ol><p>ç°åœ¨ï¼Œä½ åº”è¯¥å¯ä»¥ä½¿ç”¨æ–°å¯†ç ç™»å½•åˆ° MySQL æœåŠ¡å™¨äº†ã€‚</p><hr><p><strong>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦‚æœ mysql å¡æ­»ä¸èƒ½æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œ<code>ctrl+d</code> å¯ä»¥å¼ºåˆ¶é€€å‡º mysql å›åˆ° linux</strong></p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> å¤‡ä»½ </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°çš„å¼€å§‹</title>
      <link href="/2024/03/18/%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/"/>
      <url>/2024/03/18/%E6%96%B0%E7%9A%84%E5%BC%80%E5%A7%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€å•è®°å½•ä¸€ä¸‹åšå®¢æ­å»ºè¿‡ç¨‹"><a href="#ç®€å•è®°å½•ä¸€ä¸‹åšå®¢æ­å»ºè¿‡ç¨‹" class="headerlink" title="ç®€å•è®°å½•ä¸€ä¸‹åšå®¢æ­å»ºè¿‡ç¨‹"></a>ç®€å•è®°å½•ä¸€ä¸‹åšå®¢æ­å»ºè¿‡ç¨‹</h1><p>&nbsp;&nbsp;å¾ˆæ—©ä»¥å‰å°±æœ‰äº†æ­å»ºåšå®¢çš„æƒ³æ³•ï¼Œä¹Ÿæœ‰ç”¨è¿‡ react å†™è¿‡åšå®¢å‰ç«¯é¡µé¢ï¼Œä½†æ˜¯å¾ˆå¿«æˆ‘å°±çŸ¥é“äº†è¿™ä¸æ˜¯çŸ­æ—¶é—´å·¥ç¨‹ã€‚æ‰€ä»¥æˆ‘å»å¯»æ‰¾ç°æˆçš„æ¨¡æ¿ã€‚<br>&nbsp;&nbsp;æ˜¾ç„¶æˆ‘éœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ã€‚æˆ‘å»æœäº†å¹¶ä¸”å†³å®šæ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œå› ä¸ºå¤§å­¦ç”Ÿä½¿ç”¨å¾ˆé•¿æ—¶é—´å‡ ä¹æ˜¯å…è´¹ï¼ˆ<del>è¿™ä¸æ˜¯å¹¿å‘Š</del>ï¼‰ã€‚è¯•é”™äº†å¾ˆå¤šï¼Œä¹Ÿè·Ÿç€æ•™ç¨‹åšäº†å‡ ä¸ªå®éªŒï¼ŒåŸºæœ¬æ˜¯ç†Ÿæ‚‰äº†æœåŠ¡å™¨çš„æ“ä½œã€‚<br>&nbsp;&nbsp;è™½ç„¶ä½†æ˜¯ï¼Œæˆ‘è¿˜æ˜¯ä½¿ç”¨äº† AWSï¼ˆ<del>ä¹Ÿæ˜¯ç™½å«–</del>ï¼‰ã€‚å…·ä½“ç”³è¯·æ¡ä»¶å°±è¯·å»å®˜ç½‘çœ‹å§ï¼Œæ¯•ç«Ÿæ—¶æ—¶éƒ½åœ¨å˜åŒ–ã€‚<br>&nbsp;&nbsp;æ€»ä¹‹æˆ‘ä¼šç»§ç»­å®Œå–„è¿™ä¸ªåšå®¢çš„ï¼Œæ¯•ç«Ÿç°åœ¨çš„æ—¶é—´å®åœ¨æ˜¯å¤ªå®è´µäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> å¤‡ä»½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Pragmatic Programmer</title>
      <link href="/2024/03/18/The-Pragmatic-Programmer/"/>
      <url>/2024/03/18/The-Pragmatic-Programmer/</url>
      
        <content type="html"><![CDATA[<p>Programming is a craft. At its simplest, it comes down to getting a computer to do what you want it to do (or what your user wants it to do). As a programmer, you are part listener, part advisor, part interpreter, and part dictator.You try to capture elusive requirements and find a way of expressing them so that a mere machine can do them justice. You try to document your work so that others can understand it, and you try to engineer your work so that others can build on it. Whatâ€™s more, you try to do all this against the relentless ticking of the project clock. You work small miracles every day.</p>]]></content>
      
      
      <categories>
          
          <category> æ‘˜æŠ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¹¦ç± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>POV of Oppenheimer</title>
      <link href="/2024/03/13/POV-of-Oppenheimer/"/>
      <url>/2024/03/13/POV-of-Oppenheimer/</url>
      
        <content type="html"><![CDATA[<h1 id="Oppenheimer-film"><a href="#Oppenheimer-film" class="headerlink" title="Oppenheimer (film)"></a>Oppenheimer (film)</h1><p>After watching the Oppenheimer, I canâ€™t tell that what I am feeling. First of all, it must be clear that the conversation I will talk is not about any country, any government, any things in reality. What I will talk is just about the film.<br>&ensp;&ensp; Yes, the film is extremely good. The sound, the actors, the music. I found that some Oppenheimerâ€™s personality is just the same as mine. We both pursue the high end technology, think about how to change the world. I donâ€™t deny that I like the learning atmosphere abroad. But I can feel the responsibility on his shoulder is becoming heavier. Yes, succeed in technical field, too successful to explosion. Because of it, so many people died. They have the right to invent it, but no right to decide whether use it or not. There is no true or false. Just one way they have is just going down. Not everyone want to know the truth, but thereâ€™s someone known the truth. Itâ€™s completely the hell. Oppenheimer is smart, he really want to take all the responsibilities on his own. Itâ€™s unfair, but understandable.<br>&ensp;&ensp; However, we go to a movie for the art, not for solving the problem that even Oppenheimer canâ€™t solve. Few things can be more exciting than build a town and some bombs by spending 2 billion dollars. At the end, let me criticism subtitle group. The translation is so bad that I even wonder if you just use the tools to translate instead of their stupid brain. ( Forgive my rudeness! )<br>&ensp;&ensp; PS: Cillian Murphy, I like him so much. I began to know him by watching the Peaky Blinders. Perfect actors!</p>]]></content>
      
      
      <categories>
          
          <category> æœ‰æ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µå½± </tag>
            
            <tag> å¥¥æœ¬æµ·é»˜ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
